var Nw=Object.defineProperty;var Aw=(t,e,n)=>e in t?Nw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var kt=(t,e,n)=>Aw(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function ip(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K0={exports:{}},fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function kw(){if(B1)return fo;B1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,l){var o=null;if(l!==void 0&&(o=""+l),i.key!==void 0&&(o=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:l}}return fo.Fragment=e,fo.jsx=n,fo.jsxs=n,fo}var z1;function Cw(){return z1||(z1=1,K0.exports=kw()),K0.exports}var u=Cw(),Q0={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function Rw(){if(H1)return Xe;H1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function E(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function A(q,F,K){this.props=q,this.context=F,this.refs=w,this.updater=K||T}A.prototype.isReactComponent={},A.prototype.setState=function(q,F){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,F,"setState")},A.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function R(){}R.prototype=A.prototype;function k(q,F,K){this.props=q,this.context=F,this.refs=w,this.updater=K||T}var L=k.prototype=new R;L.constructor=k,_(L,A.prototype),L.isPureReactComponent=!0;var V=Array.isArray;function te(){}var P={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function B(q,F,K){var Y=K.ref;return{$$typeof:t,type:q,key:F,ref:Y!==void 0?Y:null,props:K}}function J(q,F){return B(q.type,F,q.props)}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function re(q){var F={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(K){return F[K]})}var fe=/\/+/g;function De(q,F){return typeof q=="object"&&q!==null&&q.key!=null?re(""+q.key):F.toString(36)}function ee(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(te,te):(q.status="pending",q.then(function(F){q.status==="pending"&&(q.status="fulfilled",q.value=F)},function(F){q.status==="pending"&&(q.status="rejected",q.reason=F)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Q(q,F,K,Y,W){var he=typeof q;(he==="undefined"||he==="boolean")&&(q=null);var Ae=!1;if(q===null)Ae=!0;else switch(he){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(q.$$typeof){case t:case e:Ae=!0;break;case m:return Ae=q._init,Q(Ae(q._payload),F,K,Y,W)}}if(Ae)return W=W(q),Ae=Y===""?"."+De(q,0):Y,V(W)?(K="",Ae!=null&&(K=Ae.replace(fe,"$&/")+"/"),Q(W,F,K,"",function(je){return je})):W!=null&&(U(W)&&(W=J(W,K+(W.key==null||q&&q.key===W.key?"":(""+W.key).replace(fe,"$&/")+"/")+Ae)),F.push(W)),1;Ae=0;var ze=Y===""?".":Y+":";if(V(q))for(var Ie=0;Ie<q.length;Ie++)Y=q[Ie],he=ze+De(Y,Ie),Ae+=Q(Y,F,K,he,W);else if(Ie=E(q),typeof Ie=="function")for(q=Ie.call(q),Ie=0;!(Y=q.next()).done;)Y=Y.value,he=ze+De(Y,Ie++),Ae+=Q(Y,F,K,he,W);else if(he==="object"){if(typeof q.then=="function")return Q(ee(q),F,K,Y,W);throw F=String(q),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ye(q,F,K){if(q==null)return q;var Y=[],W=0;return Q(q,Y,"","",function(he){return F.call(K,he,W++)}),Y}function de(q){if(q._status===-1){var F=q._result;F=F(),F.then(function(K){(q._status===0||q._status===-1)&&(q._status=1,q._result=K)},function(K){(q._status===0||q._status===-1)&&(q._status=2,q._result=K)}),q._status===-1&&(q._status=0,q._result=F)}if(q._status===1)return q._result.default;throw q._result}var ke=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},me={map:ye,forEach:function(q,F,K){ye(q,function(){F.apply(this,arguments)},K)},count:function(q){var F=0;return ye(q,function(){F++}),F},toArray:function(q){return ye(q,function(F){return F})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Xe.Activity=v,Xe.Children=me,Xe.Component=A,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=k,Xe.StrictMode=r,Xe.Suspense=p,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(q){return P.H.useMemoCache(q)}},Xe.cache=function(q){return function(){return q.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(q,F,K){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Y=_({},q.props),W=q.key;if(F!=null)for(he in F.key!==void 0&&(W=""+F.key),F)!M.call(F,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&F.ref===void 0||(Y[he]=F[he]);var he=arguments.length-2;if(he===1)Y.children=K;else if(1<he){for(var Ae=Array(he),ze=0;ze<he;ze++)Ae[ze]=arguments[ze+2];Y.children=Ae}return B(q.type,W,Y)},Xe.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Xe.createElement=function(q,F,K){var Y,W={},he=null;if(F!=null)for(Y in F.key!==void 0&&(he=""+F.key),F)M.call(F,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(W[Y]=F[Y]);var Ae=arguments.length-2;if(Ae===1)W.children=K;else if(1<Ae){for(var ze=Array(Ae),Ie=0;Ie<Ae;Ie++)ze[Ie]=arguments[Ie+2];W.children=ze}if(q&&q.defaultProps)for(Y in Ae=q.defaultProps,Ae)W[Y]===void 0&&(W[Y]=Ae[Y]);return B(q,he,W)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(q){return{$$typeof:d,render:q}},Xe.isValidElement=U,Xe.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:de}},Xe.memo=function(q,F){return{$$typeof:f,type:q,compare:F===void 0?null:F}},Xe.startTransition=function(q){var F=P.T,K={};P.T=K;try{var Y=q(),W=P.S;W!==null&&W(K,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(te,ke)}catch(he){ke(he)}finally{F!==null&&K.types!==null&&(F.types=K.types),P.T=F}},Xe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Xe.use=function(q){return P.H.use(q)},Xe.useActionState=function(q,F,K){return P.H.useActionState(q,F,K)},Xe.useCallback=function(q,F){return P.H.useCallback(q,F)},Xe.useContext=function(q){return P.H.useContext(q)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(q,F){return P.H.useDeferredValue(q,F)},Xe.useEffect=function(q,F){return P.H.useEffect(q,F)},Xe.useEffectEvent=function(q){return P.H.useEffectEvent(q)},Xe.useId=function(){return P.H.useId()},Xe.useImperativeHandle=function(q,F,K){return P.H.useImperativeHandle(q,F,K)},Xe.useInsertionEffect=function(q,F){return P.H.useInsertionEffect(q,F)},Xe.useLayoutEffect=function(q,F){return P.H.useLayoutEffect(q,F)},Xe.useMemo=function(q,F){return P.H.useMemo(q,F)},Xe.useOptimistic=function(q,F){return P.H.useOptimistic(q,F)},Xe.useReducer=function(q,F,K){return P.H.useReducer(q,F,K)},Xe.useRef=function(q){return P.H.useRef(q)},Xe.useState=function(q){return P.H.useState(q)},Xe.useSyncExternalStore=function(q,F,K){return P.H.useSyncExternalStore(q,F,K)},Xe.useTransition=function(){return P.H.useTransition()},Xe.version="19.2.3",Xe}var G1;function jo(){return G1||(G1=1,Q0.exports=Rw()),Q0.exports}var I=jo();const zi=ip(I);var Z0={exports:{}},ho={},eh={exports:{}},th={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function Mw(){return V1||(V1=1,(function(t){function e(Q,ye){var de=Q.length;Q.push(ye);e:for(;0<de;){var ke=de-1>>>1,me=Q[ke];if(0<i(me,ye))Q[ke]=ye,Q[de]=me,de=ke;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ye=Q[0],de=Q.pop();if(de!==ye){Q[0]=de;e:for(var ke=0,me=Q.length,q=me>>>1;ke<q;){var F=2*(ke+1)-1,K=Q[F],Y=F+1,W=Q[Y];if(0>i(K,de))Y<me&&0>i(W,K)?(Q[ke]=W,Q[Y]=de,ke=Y):(Q[ke]=K,Q[F]=de,ke=F);else if(Y<me&&0>i(W,de))Q[ke]=W,Q[Y]=de,ke=Y;else break e}}return ye}function i(Q,ye){var de=Q.sortIndex-ye.sortIndex;return de!==0?de:Q.id-ye.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,d=o.now();t.unstable_now=function(){return o.now()-d}}var p=[],f=[],m=1,v=null,b=3,E=!1,T=!1,_=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function L(Q){for(var ye=n(f);ye!==null;){if(ye.callback===null)r(f);else if(ye.startTime<=Q)r(f),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=n(f)}}function V(Q){if(_=!1,L(Q),!T)if(n(p)!==null)T=!0,te||(te=!0,re());else{var ye=n(f);ye!==null&&ee(V,ye.startTime-Q)}}var te=!1,P=-1,M=5,B=-1;function J(){return w?!0:!(t.unstable_now()-B<M)}function U(){if(w=!1,te){var Q=t.unstable_now();B=Q;var ye=!0;try{e:{T=!1,_&&(_=!1,R(P),P=-1),E=!0;var de=b;try{t:{for(L(Q),v=n(p);v!==null&&!(v.expirationTime>Q&&J());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,b=v.priorityLevel;var me=ke(v.expirationTime<=Q);if(Q=t.unstable_now(),typeof me=="function"){v.callback=me,L(Q),ye=!0;break t}v===n(p)&&r(p),L(Q)}else r(p);v=n(p)}if(v!==null)ye=!0;else{var q=n(f);q!==null&&ee(V,q.startTime-Q),ye=!1}}break e}finally{v=null,b=de,E=!1}ye=void 0}}finally{ye?re():te=!1}}}var re;if(typeof k=="function")re=function(){k(U)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,De=fe.port2;fe.port1.onmessage=U,re=function(){De.postMessage(null)}}else re=function(){A(U,0)};function ee(Q,ye){P=A(function(){Q(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var ye=3;break;default:ye=b}var de=b;b=ye;try{return Q()}finally{b=de}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(Q,ye){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=b;b=Q;try{return ye()}finally{b=de}},t.unstable_scheduleCallback=function(Q,ye,de){var ke=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,Q){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=de+me,Q={id:m++,callback:ye,priorityLevel:Q,startTime:de,expirationTime:me,sortIndex:-1},de>ke?(Q.sortIndex=de,e(f,Q),n(p)===null&&Q===n(f)&&(_?(R(P),P=-1):_=!0,ee(V,de-ke))):(Q.sortIndex=me,e(p,Q),T||E||(T=!0,te||(te=!0,re()))),Q},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(Q){var ye=b;return function(){var de=b;b=ye;try{return Q.apply(this,arguments)}finally{b=de}}}})(th)),th}var q1;function Dw(){return q1||(q1=1,eh.exports=Mw()),eh.exports}var nh={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1;function Iw(){if($1)return yn;$1=1;var t=jo();function e(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(p,f,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:p,containerInfo:f,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(p,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(p,f,null,m)},yn.flushSync=function(p){var f=o.T,m=r.p;try{if(o.T=null,r.p=2,p)return p()}finally{o.T=f,r.p=m,r.d.f()}},yn.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(p,f))},yn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},yn.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var m=f.as,v=d(m,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):m==="script"&&r.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},yn.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=d(f.as,f.crossOrigin);r.d.M(p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(p)},yn.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,v=d(m,f.crossOrigin);r.d.L(p,m,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},yn.preloadModule=function(p,f){if(typeof p=="string")if(f){var m=d(f.as,f.crossOrigin);r.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(p)},yn.requestFormReset=function(p){r.d.r(p)},yn.unstable_batchedUpdates=function(p,f){return p(f)},yn.useFormState=function(p,f,m){return o.H.useFormState(p,f,m)},yn.useFormStatus=function(){return o.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var Y1;function Fw(){if(Y1)return nh.exports;Y1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nh.exports=Iw(),nh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function Lw(){if(J1)return ho;J1=1;var t=Dw(),e=jo(),n=Fw();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function o(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function p(a){if(l(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=l(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,h=s;;){var y=c.return;if(y===null)break;var S=y.alternate;if(S===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===c)return p(y),a;if(S===h)return p(y),s;S=S.sibling}throw Error(r(188))}if(c.return!==h.return)c=y,h=S;else{for(var N=!1,D=y.child;D;){if(D===c){N=!0,c=y,h=S;break}if(D===h){N=!0,h=y,c=S;break}D=D.sibling}if(!N){for(D=S.child;D;){if(D===c){N=!0,c=S,h=y;break}if(D===h){N=!0,h=S,c=y;break}D=D.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function re(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var fe=Symbol.for("react.client.reference");function De(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===fe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case V:return"Suspense";case te:return"SuspenseList";case B:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case k:return a.displayName||"Context";case R:return(a._context.displayName||"Context")+".Consumer";case L:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return s=a.displayName||null,s!==null?s:De(a.type)||"Memo";case M:s=a._payload,a=a._init;try{return De(a(s))}catch{}}return null}var ee=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],me=-1;function q(a){return{current:a}}function F(a){0>me||(a.current=ke[me],ke[me]=null,me--)}function K(a,s){me++,ke[me]=a.current,a.current=s}var Y=q(null),W=q(null),he=q(null),Ae=q(null);function ze(a,s){switch(K(he,s),K(W,a),K(Y,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?c1(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=c1(s),a=u1(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}F(Y),K(Y,a)}function Ie(){F(Y),F(W),F(he)}function je(a){a.memoizedState!==null&&K(Ae,a);var s=Y.current,c=u1(s,a.type);s!==c&&(K(W,a),K(Y,c))}function lt(a){W.current===a&&(F(Y),F(W)),Ae.current===a&&(F(Ae),lo._currentValue=de)}var et,tn;function Ze(a){if(et===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);et=s&&s[1]||"",tn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+a+tn}var Vn=!1;function Ct(a,s){if(!a||Vn)return"";Vn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(pe){var ce=pe}Reflect.construct(a,[],Se)}else{try{Se.call()}catch(pe){ce=pe}a.call(Se.prototype)}}else{try{throw Error()}catch(pe){ce=pe}(Se=a())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(pe){if(pe&&ce&&typeof pe.stack=="string")return[pe.stack,ce.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=h.DetermineComponentFrameRoot(),N=S[0],D=S[1];if(N&&D){var X=N.split(`
`),ie=D.split(`
`);for(y=h=0;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ie.length&&!ie[y].includes("DetermineComponentFrameRoot");)y++;if(h===X.length||y===ie.length)for(h=X.length-1,y=ie.length-1;1<=h&&0<=y&&X[h]!==ie[y];)y--;for(;1<=h&&0<=y;h--,y--)if(X[h]!==ie[y]){if(h!==1||y!==1)do if(h--,y--,0>y||X[h]!==ie[y]){var xe=`
`+X[h].replace(" at new "," at ");return a.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",a.displayName)),xe}while(1<=h&&0<=y);break}}}finally{Vn=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ze(c):""}function He(a,s){switch(a.tag){case 26:case 27:case 5:return Ze(a.type);case 16:return Ze("Lazy");case 13:return a.child!==s&&s!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return Ct(a.type,!1);case 11:return Ct(a.type.render,!1);case 1:return Ct(a.type,!0);case 31:return Ze("Activity");default:return""}}function _n(a){try{var s="",c=null;do s+=He(a,c),c=a,a=a.return;while(a);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var qn=Object.prototype.hasOwnProperty,Nr=t.unstable_scheduleCallback,Hr=t.unstable_cancelCallback,Ko=t.unstable_shouldYield,vl=t.unstable_requestPaint,Lt=t.unstable_now,as=t.unstable_getCurrentPriorityLevel,is=t.unstable_ImmediatePriority,ss=t.unstable_UserBlockingPriority,sr=t.unstable_NormalPriority,Ud=t.unstable_LowPriority,yl=t.unstable_IdlePriority,Qo=t.log,Zo=t.unstable_setDisableYieldValue,Fa=null,vn=null;function Ar(a){if(typeof Qo=="function"&&Zo(a),vn&&typeof vn.setStrictMode=="function")try{vn.setStrictMode(Fa,a)}catch{}}var Tn=Math.clz32?Math.clz32:tc,Bd=Math.log,ec=Math.LN2;function tc(a){return a>>>=0,a===0?32:31-(Bd(a)/ec|0)|0}var vi=256,ls=262144,os=4194304;function lr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function cs(a,s,c){var h=a.pendingLanes;if(h===0)return 0;var y=0,S=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var D=h&134217727;return D!==0?(h=D&~S,h!==0?y=lr(h):(N&=D,N!==0?y=lr(N):c||(c=D&~a,c!==0&&(y=lr(c))))):(D=h&~S,D!==0?y=lr(D):N!==0?y=lr(N):c||(c=h&~a,c!==0&&(y=lr(c)))),y===0?0:s!==0&&s!==y&&(s&S)===0&&(S=y&-y,c=s&-s,S>=c||S===32&&(c&4194048)!==0)?s:y}function yi(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function zd(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var a=os;return os<<=1,(os&62914560)===0&&(os=4194304),a}function bl(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function bi(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Hd(a,s,c,h,y,S){var N=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var D=a.entanglements,X=a.expirationTimes,ie=a.hiddenUpdates;for(c=N&~c;0<c;){var xe=31-Tn(c),Se=1<<xe;D[xe]=0,X[xe]=-1;var ce=ie[xe];if(ce!==null)for(ie[xe]=null,xe=0;xe<ce.length;xe++){var pe=ce[xe];pe!==null&&(pe.lane&=-536870913)}c&=~Se}h!==0&&rc(a,h,0),S!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=S&~(N&~s))}function rc(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var h=31-Tn(s);a.entangledLanes|=s,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function us(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var h=31-Tn(c),y=1<<h;y&s|a[h]&s&&(a[h]|=s),c&=~y}}function ac(a,s){var c=s&-s;return c=(c&42)!==0?1:Sl(c),(c&(a.suspendedLanes|s))!==0?0:c}function Sl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function El(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function C(){var a=ye.p;return a!==0?a:(a=window.event,a===void 0?32:I1(a.type))}function H(a,s){var c=ye.p;try{return ye.p=a,s()}finally{ye.p=c}}var j=Math.random().toString(36).slice(2),O="__reactFiber$"+j,z="__reactProps$"+j,G="__reactContainer$"+j,se="__reactEvents$"+j,ve="__reactListeners$"+j,le="__reactHandles$"+j,oe="__reactResources$"+j,ue="__reactMarker$"+j;function Te(a){delete a[O],delete a[z],delete a[se],delete a[ve],delete a[le]}function Ce(a){var s=a[O];if(s)return s;for(var c=a.parentNode;c;){if(s=c[G]||c[O]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=x1(a);a!==null;){if(c=a[O])return c;a=x1(a)}return s}a=c,c=a.parentNode}return null}function Ue(a){if(a=a[O]||a[G]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function we(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Oe(a){var s=a[oe];return s||(s=a[oe]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ve(a){a[ue]=!0}var Rt=new Set,Mt={};function Pt(a,s){or(a,s),or(a+"Capture",s)}function or(a,s){for(Mt[a]=s,a=0;a<s.length;a++)Rt.add(s[a])}var Si=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),La={},Gr={};function _l(a){return qn.call(Gr,a)?!0:qn.call(La,a)?!1:Si.test(a)?Gr[a]=!0:(La[a]=!0,!1)}function In(a,s,c){if(_l(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function ic(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Zr(a,s,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+h)}}function cr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function tm(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function y_(a,s,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,S=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(N){c=""+N,S.call(this,N)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Gd(a){if(!a._valueTracker){var s=tm(a)?"checked":"value";a._valueTracker=y_(a,s,""+a[s])}}function nm(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return a&&(h=tm(a)?a.checked?"true":"false":a.value),a=h,a!==c?(s.setValue(a),!0):!1}function sc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var b_=/[\n"\\]/g;function ur(a){return a.replace(b_,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vd(a,s,c,h,y,S,N,D){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),s!=null?N==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+cr(s)):a.value!==""+cr(s)&&(a.value=""+cr(s)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),s!=null?qd(a,N,cr(s)):c!=null?qd(a,N,cr(c)):h!=null&&a.removeAttribute("value"),y==null&&S!=null&&(a.defaultChecked=!!S),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+cr(D):a.removeAttribute("name")}function rm(a,s,c,h,y,S,N,D){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),s!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){Gd(a);return}c=c!=null?""+cr(c):"",s=s!=null?""+cr(s):c,D||s===a.value||(a.value=s),a.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=D?a.checked:!!h,a.defaultChecked=!!h,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),Gd(a)}function qd(a,s,c){s==="number"&&sc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ds(a,s,c,h){if(a=a.options,s){s={};for(var y=0;y<c.length;y++)s["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=s.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&h&&(a[c].defaultSelected=!0)}else{for(c=""+cr(c),s=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function am(a,s,c){if(s!=null&&(s=""+cr(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+cr(c):""}function im(a,s,c,h){if(s==null){if(h!=null){if(c!=null)throw Error(r(92));if(ee(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),s=c}c=cr(s),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),Gd(a)}function fs(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var S_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sm(a,s,c){var h=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":h?a.setProperty(s,c):typeof c!="number"||c===0||S_.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function lm(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&c[y]!==h&&sm(a,y,h)}else for(var S in s)s.hasOwnProperty(S)&&sm(a,S,s[S])}function $d(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),__=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lc(a){return __.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ea(){}var Yd=null;function Jd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var hs=null,ps=null;function om(a){var s=Ue(a);if(s&&(a=s.stateNode)){var c=a[z]||null;e:switch(a=s.stateNode,s.type){case"input":if(Vd(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ur(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==a&&h.form===a.form){var y=h[z]||null;if(!y)throw Error(r(90));Vd(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<c.length;s++)h=c[s],h.form===a.form&&nm(h)}break e;case"textarea":am(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&ds(a,!!c.multiple,s,!1)}}}var Xd=!1;function cm(a,s,c){if(Xd)return a(s,c);Xd=!0;try{var h=a(s);return h}finally{if(Xd=!1,(hs!==null||ps!==null)&&(Jc(),hs&&(s=hs,a=ps,ps=hs=null,om(s),a)))for(s=0;s<a.length;s++)om(a[s])}}function Tl(a,s){var c=a.stateNode;if(c===null)return null;var h=c[z]||null;if(h===null)return null;c=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wd=!1;if(ta)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){Wd=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{Wd=!1}var Pa=null,Kd=null,oc=null;function um(){if(oc)return oc;var a,s=Kd,c=s.length,h,y="value"in Pa?Pa.value:Pa.textContent,S=y.length;for(a=0;a<c&&s[a]===y[a];a++);var N=c-a;for(h=1;h<=N&&s[c-h]===y[S-h];h++);return oc=y.slice(a,1<h?1-h:void 0)}function cc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function uc(){return!0}function dm(){return!1}function Fn(a){function s(c,h,y,S,N){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(c=a[D],this[D]=c?c(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?uc:dm,this.isPropagationStopped=dm,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),s}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=Fn(Ei),Nl=v({},Ei,{view:0,detail:0}),T_=Fn(Nl),Qd,Zd,Al,fc=v({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Al&&(Al&&a.type==="mousemove"?(Qd=a.screenX-Al.screenX,Zd=a.screenY-Al.screenY):Zd=Qd=0,Al=a),Qd)},movementY:function(a){return"movementY"in a?a.movementY:Zd}}),fm=Fn(fc),w_=v({},fc,{dataTransfer:0}),N_=Fn(w_),A_=v({},Nl,{relatedTarget:0}),ef=Fn(A_),k_=v({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),C_=Fn(k_),R_=v({},Ei,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),M_=Fn(R_),D_=v({},Ei,{data:0}),hm=Fn(D_),I_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P_(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=L_[a])?!!s[a]:!1}function tf(){return P_}var j_=v({},Nl,{key:function(a){if(a.key){var s=I_[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=cc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?F_[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tf,charCode:function(a){return a.type==="keypress"?cc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?cc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),O_=Fn(j_),U_=v({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pm=Fn(U_),B_=v({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tf}),z_=Fn(B_),H_=v({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),G_=Fn(H_),V_=v({},fc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),q_=Fn(V_),$_=v({},Ei,{newState:0,oldState:0}),Y_=Fn($_),J_=[9,13,27,32],nf=ta&&"CompositionEvent"in window,kl=null;ta&&"documentMode"in document&&(kl=document.documentMode);var X_=ta&&"TextEvent"in window&&!kl,mm=ta&&(!nf||kl&&8<kl&&11>=kl),gm=" ",xm=!1;function vm(a,s){switch(a){case"keyup":return J_.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ms=!1;function W_(a,s){switch(a){case"compositionend":return ym(s);case"keypress":return s.which!==32?null:(xm=!0,gm);case"textInput":return a=s.data,a===gm&&xm?null:a;default:return null}}function K_(a,s){if(ms)return a==="compositionend"||!nf&&vm(a,s)?(a=um(),oc=Kd=Pa=null,ms=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return mm&&s.locale!=="ko"?null:s.data;default:return null}}var Q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Q_[a.type]:s==="textarea"}function Sm(a,s,c,h){hs?ps?ps.push(h):ps=[h]:hs=h,s=tu(s,"onChange"),0<s.length&&(c=new dc("onChange","change",null,c,h),a.push({event:c,listeners:s}))}var Cl=null,Rl=null;function Z_(a){r1(a,0)}function hc(a){var s=we(a);if(nm(s))return a}function Em(a,s){if(a==="change")return s}var _m=!1;if(ta){var rf;if(ta){var af="oninput"in document;if(!af){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),af=typeof Tm.oninput=="function"}rf=af}else rf=!1;_m=rf&&(!document.documentMode||9<document.documentMode)}function wm(){Cl&&(Cl.detachEvent("onpropertychange",Nm),Rl=Cl=null)}function Nm(a){if(a.propertyName==="value"&&hc(Rl)){var s=[];Sm(s,Rl,a,Jd(a)),cm(Z_,s)}}function eT(a,s,c){a==="focusin"?(wm(),Cl=s,Rl=c,Cl.attachEvent("onpropertychange",Nm)):a==="focusout"&&wm()}function tT(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return hc(Rl)}function nT(a,s){if(a==="click")return hc(s)}function rT(a,s){if(a==="input"||a==="change")return hc(s)}function aT(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var $n=typeof Object.is=="function"?Object.is:aT;function Ml(a,s){if($n(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!qn.call(s,y)||!$n(a[y],s[y]))return!1}return!0}function Am(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function km(a,s){var c=Am(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=s&&h>=s)return{node:c,offset:s-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Am(c)}}function Cm(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Cm(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Rm(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=sc(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=sc(a.document)}return s}function sf(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var iT=ta&&"documentMode"in document&&11>=document.documentMode,gs=null,lf=null,Dl=null,of=!1;function Mm(a,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;of||gs==null||gs!==sc(h)||(h=gs,"selectionStart"in h&&sf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Dl&&Ml(Dl,h)||(Dl=h,h=tu(lf,"onSelect"),0<h.length&&(s=new dc("onSelect","select",null,s,c),a.push({event:s,listeners:h}),s.target=gs)))}function _i(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var xs={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},cf={},Dm={};ta&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Ti(a){if(cf[a])return cf[a];if(!xs[a])return a;var s=xs[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in Dm)return cf[a]=s[c];return a}var Im=Ti("animationend"),Fm=Ti("animationiteration"),Lm=Ti("animationstart"),sT=Ti("transitionrun"),lT=Ti("transitionstart"),oT=Ti("transitioncancel"),Pm=Ti("transitionend"),jm=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function kr(a,s){jm.set(a,s),Pt(s,[a])}var pc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},dr=[],vs=0,df=0;function mc(){for(var a=vs,s=df=vs=0;s<a;){var c=dr[s];dr[s++]=null;var h=dr[s];dr[s++]=null;var y=dr[s];dr[s++]=null;var S=dr[s];if(dr[s++]=null,h!==null&&y!==null){var N=h.pending;N===null?y.next=y:(y.next=N.next,N.next=y),h.pending=y}S!==0&&Om(c,y,S)}}function gc(a,s,c,h){dr[vs++]=a,dr[vs++]=s,dr[vs++]=c,dr[vs++]=h,df|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function ff(a,s,c,h){return gc(a,s,c,h),xc(a)}function wi(a,s){return gc(a,null,null,s),xc(a)}function Om(a,s,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var y=!1,S=a.return;S!==null;)S.childLanes|=c,h=S.alternate,h!==null&&(h.childLanes|=c),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(y=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,y&&s!==null&&(y=31-Tn(c),a=S.hiddenUpdates,h=a[y],h===null?a[y]=[s]:h.push(s),s.lane=c|536870912),S):null}function xc(a){if(50<eo)throw eo=0,S0=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var ys={};function cT(a,s,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(a,s,c,h){return new cT(a,s,c,h)}function hf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function na(a,s){var c=a.alternate;return c===null?(c=Yn(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Um(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function vc(a,s,c,h,y,S){var N=0;if(h=a,typeof a=="function")hf(a)&&(N=1);else if(typeof a=="string")N=pw(a,c,Y.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case B:return a=Yn(31,c,s,y),a.elementType=B,a.lanes=S,a;case _:return Ni(c.children,y,S,s);case w:N=8,y|=24;break;case A:return a=Yn(12,c,s,y|2),a.elementType=A,a.lanes=S,a;case V:return a=Yn(13,c,s,y),a.elementType=V,a.lanes=S,a;case te:return a=Yn(19,c,s,y),a.elementType=te,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:N=10;break e;case R:N=9;break e;case L:N=11;break e;case P:N=14;break e;case M:N=16,h=null;break e}N=29,c=Error(r(130,a===null?"null":typeof a,"")),h=null}return s=Yn(N,c,s,y),s.elementType=a,s.type=h,s.lanes=S,s}function Ni(a,s,c,h){return a=Yn(7,a,h,s),a.lanes=c,a}function pf(a,s,c){return a=Yn(6,a,null,s),a.lanes=c,a}function Bm(a){var s=Yn(18,null,null,0);return s.stateNode=a,s}function mf(a,s,c){return s=Yn(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var zm=new WeakMap;function fr(a,s){if(typeof a=="object"&&a!==null){var c=zm.get(a);return c!==void 0?c:(s={value:a,source:s,stack:_n(s)},zm.set(a,s),s)}return{value:a,source:s,stack:_n(s)}}var bs=[],Ss=0,yc=null,Il=0,hr=[],pr=0,ja=null,Vr=1,qr="";function ra(a,s){bs[Ss++]=Il,bs[Ss++]=yc,yc=a,Il=s}function Hm(a,s,c){hr[pr++]=Vr,hr[pr++]=qr,hr[pr++]=ja,ja=a;var h=Vr;a=qr;var y=32-Tn(h)-1;h&=~(1<<y),c+=1;var S=32-Tn(s)+y;if(30<S){var N=y-y%5;S=(h&(1<<N)-1).toString(32),h>>=N,y-=N,Vr=1<<32-Tn(s)+y|c<<y|h,qr=S+a}else Vr=1<<S|c<<y|h,qr=a}function gf(a){a.return!==null&&(ra(a,1),Hm(a,1,0))}function xf(a){for(;a===yc;)yc=bs[--Ss],bs[Ss]=null,Il=bs[--Ss],bs[Ss]=null;for(;a===ja;)ja=hr[--pr],hr[pr]=null,qr=hr[--pr],hr[pr]=null,Vr=hr[--pr],hr[pr]=null}function Gm(a,s){hr[pr++]=Vr,hr[pr++]=qr,hr[pr++]=ja,Vr=s.id,qr=s.overflow,ja=a}var on=null,Dt=null,it=!1,Oa=null,mr=!1,vf=Error(r(519));function Ua(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(fr(s,a)),vf}function Vm(a){var s=a.stateNode,c=a.type,h=a.memoizedProps;switch(s[O]=a,s[z]=h,c){case"dialog":nt("cancel",s),nt("close",s);break;case"iframe":case"object":case"embed":nt("load",s);break;case"video":case"audio":for(c=0;c<no.length;c++)nt(no[c],s);break;case"source":nt("error",s);break;case"img":case"image":case"link":nt("error",s),nt("load",s);break;case"details":nt("toggle",s);break;case"input":nt("invalid",s),rm(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":nt("invalid",s);break;case"textarea":nt("invalid",s),im(s,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||h.suppressHydrationWarning===!0||l1(s.textContent,c)?(h.popover!=null&&(nt("beforetoggle",s),nt("toggle",s)),h.onScroll!=null&&nt("scroll",s),h.onScrollEnd!=null&&nt("scrollend",s),h.onClick!=null&&(s.onclick=ea),s=!0):s=!1,s||Ua(a,!0)}function qm(a){for(on=a.return;on;)switch(on.tag){case 5:case 31:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:on=on.return}}function Es(a){if(a!==on)return!1;if(!it)return qm(a),it=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||P0(a.type,a.memoizedProps)),c=!c),c&&Dt&&Ua(a),qm(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Dt=g1(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Dt=g1(a)}else s===27?(s=Dt,Za(a.type)?(a=z0,z0=null,Dt=a):Dt=s):Dt=on?xr(a.stateNode.nextSibling):null;return!0}function Ai(){Dt=on=null,it=!1}function yf(){var a=Oa;return a!==null&&(On===null?On=a:On.push.apply(On,a),Oa=null),a}function Fl(a){Oa===null?Oa=[a]:Oa.push(a)}var bf=q(null),ki=null,aa=null;function Ba(a,s,c){K(bf,s._currentValue),s._currentValue=c}function ia(a){a._currentValue=bf.current,F(bf)}function Sf(a,s,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===c)break;a=a.return}}function Ef(a,s,c,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var S=y.dependencies;if(S!==null){var N=y.child;S=S.firstContext;e:for(;S!==null;){var D=S;S=y;for(var X=0;X<s.length;X++)if(D.context===s[X]){S.lanes|=c,D=S.alternate,D!==null&&(D.lanes|=c),Sf(S.return,c,a),h||(N=null);break e}S=D.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=c,S=N.alternate,S!==null&&(S.lanes|=c),Sf(N,c,a),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===a){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function _s(a,s,c,h){a=null;for(var y=s,S=!1;y!==null;){if(!S){if((y.flags&524288)!==0)S=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var D=y.type;$n(y.pendingProps.value,N.value)||(a!==null?a.push(D):a=[D])}}else if(y===Ae.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(lo):a=[lo])}y=y.return}a!==null&&Ef(s,a,c,h),s.flags|=262144}function bc(a){for(a=a.firstContext;a!==null;){if(!$n(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ci(a){ki=a,aa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function cn(a){return $m(ki,a)}function Sc(a,s){return ki===null&&Ci(a),$m(a,s)}function $m(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},aa===null){if(a===null)throw Error(r(308));aa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else aa=aa.next=s;return c}var uT=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},dT=t.unstable_scheduleCallback,fT=t.unstable_NormalPriority,$t={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new uT,data:new Map,refCount:0}}function Ll(a){a.refCount--,a.refCount===0&&dT(fT,function(){a.controller.abort()})}var Pl=null,Tf=0,Ts=0,ws=null;function hT(a,s){if(Pl===null){var c=Pl=[];Tf=0,Ts=A0(),ws={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Tf++,s.then(Ym,Ym),s}function Ym(){if(--Tf===0&&Pl!==null){ws!==null&&(ws.status="fulfilled");var a=Pl;Pl=null,Ts=0,ws=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function pT(a,s){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<c.length;y++)(0,c[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var Jm=Q.S;Q.S=function(a,s){Mx=Lt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&hT(a,s),Jm!==null&&Jm(a,s)};var Ri=q(null);function wf(){var a=Ri.current;return a!==null?a:At.pooledCache}function Ec(a,s){s===null?K(Ri,Ri.current):K(Ri,s.pool)}function Xm(){var a=wf();return a===null?null:{parent:$t._currentValue,pool:a}}var Ns=Error(r(460)),Nf=Error(r(474)),_c=Error(r(542)),Tc={then:function(){}};function Wm(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Km(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(ea,ea),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Zm(a),a;default:if(typeof s.status=="string")s.then(ea,ea);else{if(a=At,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Zm(a),a}throw Di=s,Ns}}function Mi(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Di=c,Ns):c}}var Di=null;function Qm(){if(Di===null)throw Error(r(459));var a=Di;return Di=null,a}function Zm(a){if(a===Ns||a===_c)throw Error(r(483))}var As=null,jl=0;function wc(a){var s=jl;return jl+=1,As===null&&(As=[]),Km(As,a,s)}function Ol(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Nc(a,s){throw s.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function eg(a){function s(ne,Z){if(a){var ae=ne.deletions;ae===null?(ne.deletions=[Z],ne.flags|=16):ae.push(Z)}}function c(ne,Z){if(!a)return null;for(;Z!==null;)s(ne,Z),Z=Z.sibling;return null}function h(ne){for(var Z=new Map;ne!==null;)ne.key!==null?Z.set(ne.key,ne):Z.set(ne.index,ne),ne=ne.sibling;return Z}function y(ne,Z){return ne=na(ne,Z),ne.index=0,ne.sibling=null,ne}function S(ne,Z,ae){return ne.index=ae,a?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<Z?(ne.flags|=67108866,Z):ae):(ne.flags|=67108866,Z)):(ne.flags|=1048576,Z)}function N(ne){return a&&ne.alternate===null&&(ne.flags|=67108866),ne}function D(ne,Z,ae,be){return Z===null||Z.tag!==6?(Z=pf(ae,ne.mode,be),Z.return=ne,Z):(Z=y(Z,ae),Z.return=ne,Z)}function X(ne,Z,ae,be){var $e=ae.type;return $e===_?xe(ne,Z,ae.props.children,be,ae.key):Z!==null&&(Z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===M&&Mi($e)===Z.type)?(Z=y(Z,ae.props),Ol(Z,ae),Z.return=ne,Z):(Z=vc(ae.type,ae.key,ae.props,null,ne.mode,be),Ol(Z,ae),Z.return=ne,Z)}function ie(ne,Z,ae,be){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=mf(ae,ne.mode,be),Z.return=ne,Z):(Z=y(Z,ae.children||[]),Z.return=ne,Z)}function xe(ne,Z,ae,be,$e){return Z===null||Z.tag!==7?(Z=Ni(ae,ne.mode,be,$e),Z.return=ne,Z):(Z=y(Z,ae),Z.return=ne,Z)}function Se(ne,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=pf(""+Z,ne.mode,ae),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return ae=vc(Z.type,Z.key,Z.props,null,ne.mode,ae),Ol(ae,Z),ae.return=ne,ae;case T:return Z=mf(Z,ne.mode,ae),Z.return=ne,Z;case M:return Z=Mi(Z),Se(ne,Z,ae)}if(ee(Z)||re(Z))return Z=Ni(Z,ne.mode,ae,null),Z.return=ne,Z;if(typeof Z.then=="function")return Se(ne,wc(Z),ae);if(Z.$$typeof===k)return Se(ne,Sc(ne,Z),ae);Nc(ne,Z)}return null}function ce(ne,Z,ae,be){var $e=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return $e!==null?null:D(ne,Z,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return ae.key===$e?X(ne,Z,ae,be):null;case T:return ae.key===$e?ie(ne,Z,ae,be):null;case M:return ae=Mi(ae),ce(ne,Z,ae,be)}if(ee(ae)||re(ae))return $e!==null?null:xe(ne,Z,ae,be,null);if(typeof ae.then=="function")return ce(ne,Z,wc(ae),be);if(ae.$$typeof===k)return ce(ne,Z,Sc(ne,ae),be);Nc(ne,ae)}return null}function pe(ne,Z,ae,be,$e){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ne=ne.get(ae)||null,D(Z,ne,""+be,$e);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case E:return ne=ne.get(be.key===null?ae:be.key)||null,X(Z,ne,be,$e);case T:return ne=ne.get(be.key===null?ae:be.key)||null,ie(Z,ne,be,$e);case M:return be=Mi(be),pe(ne,Z,ae,be,$e)}if(ee(be)||re(be))return ne=ne.get(ae)||null,xe(Z,ne,be,$e,null);if(typeof be.then=="function")return pe(ne,Z,ae,wc(be),$e);if(be.$$typeof===k)return pe(ne,Z,ae,Sc(Z,be),$e);Nc(Z,be)}return null}function Ge(ne,Z,ae,be){for(var $e=null,ot=null,qe=Z,Ke=Z=0,at=null;qe!==null&&Ke<ae.length;Ke++){qe.index>Ke?(at=qe,qe=null):at=qe.sibling;var ct=ce(ne,qe,ae[Ke],be);if(ct===null){qe===null&&(qe=at);break}a&&qe&&ct.alternate===null&&s(ne,qe),Z=S(ct,Z,Ke),ot===null?$e=ct:ot.sibling=ct,ot=ct,qe=at}if(Ke===ae.length)return c(ne,qe),it&&ra(ne,Ke),$e;if(qe===null){for(;Ke<ae.length;Ke++)qe=Se(ne,ae[Ke],be),qe!==null&&(Z=S(qe,Z,Ke),ot===null?$e=qe:ot.sibling=qe,ot=qe);return it&&ra(ne,Ke),$e}for(qe=h(qe);Ke<ae.length;Ke++)at=pe(qe,ne,Ke,ae[Ke],be),at!==null&&(a&&at.alternate!==null&&qe.delete(at.key===null?Ke:at.key),Z=S(at,Z,Ke),ot===null?$e=at:ot.sibling=at,ot=at);return a&&qe.forEach(function(ai){return s(ne,ai)}),it&&ra(ne,Ke),$e}function Ye(ne,Z,ae,be){if(ae==null)throw Error(r(151));for(var $e=null,ot=null,qe=Z,Ke=Z=0,at=null,ct=ae.next();qe!==null&&!ct.done;Ke++,ct=ae.next()){qe.index>Ke?(at=qe,qe=null):at=qe.sibling;var ai=ce(ne,qe,ct.value,be);if(ai===null){qe===null&&(qe=at);break}a&&qe&&ai.alternate===null&&s(ne,qe),Z=S(ai,Z,Ke),ot===null?$e=ai:ot.sibling=ai,ot=ai,qe=at}if(ct.done)return c(ne,qe),it&&ra(ne,Ke),$e;if(qe===null){for(;!ct.done;Ke++,ct=ae.next())ct=Se(ne,ct.value,be),ct!==null&&(Z=S(ct,Z,Ke),ot===null?$e=ct:ot.sibling=ct,ot=ct);return it&&ra(ne,Ke),$e}for(qe=h(qe);!ct.done;Ke++,ct=ae.next())ct=pe(qe,ne,Ke,ct.value,be),ct!==null&&(a&&ct.alternate!==null&&qe.delete(ct.key===null?Ke:ct.key),Z=S(ct,Z,Ke),ot===null?$e=ct:ot.sibling=ct,ot=ct);return a&&qe.forEach(function(ww){return s(ne,ww)}),it&&ra(ne,Ke),$e}function wt(ne,Z,ae,be){if(typeof ae=="object"&&ae!==null&&ae.type===_&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:e:{for(var $e=ae.key;Z!==null;){if(Z.key===$e){if($e=ae.type,$e===_){if(Z.tag===7){c(ne,Z.sibling),be=y(Z,ae.props.children),be.return=ne,ne=be;break e}}else if(Z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===M&&Mi($e)===Z.type){c(ne,Z.sibling),be=y(Z,ae.props),Ol(be,ae),be.return=ne,ne=be;break e}c(ne,Z);break}else s(ne,Z);Z=Z.sibling}ae.type===_?(be=Ni(ae.props.children,ne.mode,be,ae.key),be.return=ne,ne=be):(be=vc(ae.type,ae.key,ae.props,null,ne.mode,be),Ol(be,ae),be.return=ne,ne=be)}return N(ne);case T:e:{for($e=ae.key;Z!==null;){if(Z.key===$e)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){c(ne,Z.sibling),be=y(Z,ae.children||[]),be.return=ne,ne=be;break e}else{c(ne,Z);break}else s(ne,Z);Z=Z.sibling}be=mf(ae,ne.mode,be),be.return=ne,ne=be}return N(ne);case M:return ae=Mi(ae),wt(ne,Z,ae,be)}if(ee(ae))return Ge(ne,Z,ae,be);if(re(ae)){if($e=re(ae),typeof $e!="function")throw Error(r(150));return ae=$e.call(ae),Ye(ne,Z,ae,be)}if(typeof ae.then=="function")return wt(ne,Z,wc(ae),be);if(ae.$$typeof===k)return wt(ne,Z,Sc(ne,ae),be);Nc(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Z!==null&&Z.tag===6?(c(ne,Z.sibling),be=y(Z,ae),be.return=ne,ne=be):(c(ne,Z),be=pf(ae,ne.mode,be),be.return=ne,ne=be),N(ne)):c(ne,Z)}return function(ne,Z,ae,be){try{jl=0;var $e=wt(ne,Z,ae,be);return As=null,$e}catch(qe){if(qe===Ns||qe===_c)throw qe;var ot=Yn(29,qe,null,ne.mode);return ot.lanes=be,ot.return=ne,ot}finally{}}}var Ii=eg(!0),tg=eg(!1),za=!1;function Af(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ha(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ga(a,s,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(ft&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=xc(a),Om(a,null,c),s}return gc(a,h,s,c),xc(a)}function Ul(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,us(a,c)}}function Cf(a,s){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?y=S=N:S=S.next=N,c=c.next}while(c!==null);S===null?y=S=s:S=S.next=s}else y=S=s;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Rf=!1;function Bl(){if(Rf){var a=ws;if(a!==null)throw a}}function zl(a,s,c,h){Rf=!1;var y=a.updateQueue;za=!1;var S=y.firstBaseUpdate,N=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var X=D,ie=X.next;X.next=null,N===null?S=ie:N.next=ie,N=X;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,D=xe.lastBaseUpdate,D!==N&&(D===null?xe.firstBaseUpdate=ie:D.next=ie,xe.lastBaseUpdate=X))}if(S!==null){var Se=y.baseState;N=0,xe=ie=X=null,D=S;do{var ce=D.lane&-536870913,pe=ce!==D.lane;if(pe?(rt&ce)===ce:(h&ce)===ce){ce!==0&&ce===Ts&&(Rf=!0),xe!==null&&(xe=xe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ge=a,Ye=D;ce=s;var wt=c;switch(Ye.tag){case 1:if(Ge=Ye.payload,typeof Ge=="function"){Se=Ge.call(wt,Se,ce);break e}Se=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ye.payload,ce=typeof Ge=="function"?Ge.call(wt,Se,ce):Ge,ce==null)break e;Se=v({},Se,ce);break e;case 2:za=!0}}ce=D.callback,ce!==null&&(a.flags|=64,pe&&(a.flags|=8192),pe=y.callbacks,pe===null?y.callbacks=[ce]:pe.push(ce))}else pe={lane:ce,tag:D.tag,payload:D.payload,callback:D.callback,next:null},xe===null?(ie=xe=pe,X=Se):xe=xe.next=pe,N|=ce;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;pe=D,D=pe.next,pe.next=null,y.lastBaseUpdate=pe,y.shared.pending=null}}while(!0);xe===null&&(X=Se),y.baseState=X,y.firstBaseUpdate=ie,y.lastBaseUpdate=xe,S===null&&(y.shared.lanes=0),Ja|=N,a.lanes=N,a.memoizedState=Se}}function ng(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function rg(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)ng(c[a],s)}var ks=q(null),Ac=q(0);function ag(a,s){a=pa,K(Ac,a),K(ks,s),pa=a|s.baseLanes}function Mf(){K(Ac,pa),K(ks,ks.current)}function Df(){pa=Ac.current,F(ks),F(Ac)}var Jn=q(null),gr=null;function Va(a){var s=a.alternate;K(Vt,Vt.current&1),K(Jn,a),gr===null&&(s===null||ks.current!==null||s.memoizedState!==null)&&(gr=a)}function If(a){K(Vt,Vt.current),K(Jn,a),gr===null&&(gr=a)}function ig(a){a.tag===22?(K(Vt,Vt.current),K(Jn,a),gr===null&&(gr=a)):qa()}function qa(){K(Vt,Vt.current),K(Jn,Jn.current)}function Xn(a){F(Jn),gr===a&&(gr=null),F(Vt)}var Vt=q(0);function kc(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||U0(c)||B0(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sa=0,We=null,_t=null,Yt=null,Cc=!1,Cs=!1,Fi=!1,Rc=0,Hl=0,Rs=null,mT=0;function Bt(){throw Error(r(321))}function Ff(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!$n(a[c],s[c]))return!1;return!0}function Lf(a,s,c,h,y,S){return sa=S,We=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=a===null||a.memoizedState===null?Hg:Wf,Fi=!1,S=c(h,y),Fi=!1,Cs&&(S=lg(s,c,h,y)),sg(a),S}function sg(a){Q.H=ql;var s=_t!==null&&_t.next!==null;if(sa=0,Yt=_t=We=null,Cc=!1,Hl=0,Rs=null,s)throw Error(r(300));a===null||Jt||(a=a.dependencies,a!==null&&bc(a)&&(Jt=!0))}function lg(a,s,c,h){We=a;var y=0;do{if(Cs&&(Rs=null),Hl=0,Cs=!1,25<=y)throw Error(r(301));if(y+=1,Yt=_t=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}Q.H=Gg,S=s(c,h)}while(Cs);return S}function gT(){var a=Q.H,s=a.useState()[0];return s=typeof s.then=="function"?Gl(s):s,a=a.useState()[0],(_t!==null?_t.memoizedState:null)!==a&&(We.flags|=1024),s}function Pf(){var a=Rc!==0;return Rc=0,a}function jf(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Of(a){if(Cc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Cc=!1}sa=0,Yt=_t=We=null,Cs=!1,Hl=Rc=0,Rs=null}function wn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?We.memoizedState=Yt=a:Yt=Yt.next=a,Yt}function qt(){if(_t===null){var a=We.alternate;a=a!==null?a.memoizedState:null}else a=_t.next;var s=Yt===null?We.memoizedState:Yt.next;if(s!==null)Yt=s,_t=a;else{if(a===null)throw We.alternate===null?Error(r(467)):Error(r(310));_t=a,a={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Yt===null?We.memoizedState=Yt=a:Yt=Yt.next=a}return Yt}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(a){var s=Hl;return Hl+=1,Rs===null&&(Rs=[]),a=Km(Rs,a,s),s=We,(Yt===null?s.memoizedState:Yt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?Hg:Wf),a}function Dc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Gl(a);if(a.$$typeof===k)return cn(a)}throw Error(r(438,String(a)))}function Uf(a){var s=null,c=We.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var h=We.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Mc(),We.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),h=0;h<a;h++)c[h]=J;return s.index++,c}function la(a,s){return typeof s=="function"?s(a):s}function Ic(a){var s=qt();return Bf(s,_t,a)}function Bf(a,s,c){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var y=a.baseQueue,S=h.pending;if(S!==null){if(y!==null){var N=y.next;y.next=S.next,S.next=N}s.baseQueue=y=S,h.pending=null}if(S=a.baseState,y===null)a.memoizedState=S;else{s=y.next;var D=N=null,X=null,ie=s,xe=!1;do{var Se=ie.lane&-536870913;if(Se!==ie.lane?(rt&Se)===Se:(sa&Se)===Se){var ce=ie.revertLane;if(ce===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),Se===Ts&&(xe=!0);else if((sa&ce)===ce){ie=ie.next,ce===Ts&&(xe=!0);continue}else Se={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(D=X=Se,N=S):X=X.next=Se,We.lanes|=ce,Ja|=ce;Se=ie.action,Fi&&c(S,Se),S=ie.hasEagerState?ie.eagerState:c(S,Se)}else ce={lane:Se,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(D=X=ce,N=S):X=X.next=ce,We.lanes|=Se,Ja|=Se;ie=ie.next}while(ie!==null&&ie!==s);if(X===null?N=S:X.next=D,!$n(S,a.memoizedState)&&(Jt=!0,xe&&(c=ws,c!==null)))throw c;a.memoizedState=S,a.baseState=N,a.baseQueue=X,h.lastRenderedState=S}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function zf(a){var s=qt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,y=c.pending,S=s.memoizedState;if(y!==null){c.pending=null;var N=y=y.next;do S=a(S,N.action),N=N.next;while(N!==y);$n(S,s.memoizedState)||(Jt=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),c.lastRenderedState=S}return[S,h]}function og(a,s,c){var h=We,y=qt(),S=it;if(S){if(c===void 0)throw Error(r(407));c=c()}else c=s();var N=!$n((_t||y).memoizedState,c);if(N&&(y.memoizedState=c,Jt=!0),y=y.queue,Vf(dg.bind(null,h,y,a),[a]),y.getSnapshot!==s||N||Yt!==null&&Yt.memoizedState.tag&1){if(h.flags|=2048,Ms(9,{destroy:void 0},ug.bind(null,h,y,c,s),null),At===null)throw Error(r(349));S||(sa&127)!==0||cg(h,s,c)}return c}function cg(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=We.updateQueue,s===null?(s=Mc(),We.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function ug(a,s,c,h){s.value=c,s.getSnapshot=h,fg(s)&&hg(a)}function dg(a,s,c){return c(function(){fg(s)&&hg(a)})}function fg(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!$n(a,c)}catch{return!0}}function hg(a){var s=wi(a,2);s!==null&&Un(s,a,2)}function Hf(a){var s=wn();if(typeof a=="function"){var c=a;if(a=c(),Fi){Ar(!0);try{c()}finally{Ar(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},s}function pg(a,s,c,h){return a.baseState=c,Bf(a,_t,typeof h=="function"?h:la)}function xT(a,s,c,h,y){if(Pc(a))throw Error(r(485));if(a=s.action,a!==null){var S={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};Q.T!==null?c(!0):S.isTransition=!1,h(S),c=s.pending,c===null?(S.next=s.pending=S,mg(s,S)):(S.next=c.next,s.pending=c.next=S)}}function mg(a,s){var c=s.action,h=s.payload,y=a.state;if(s.isTransition){var S=Q.T,N={};Q.T=N;try{var D=c(y,h),X=Q.S;X!==null&&X(N,D),gg(a,s,D)}catch(ie){Gf(a,s,ie)}finally{S!==null&&N.types!==null&&(S.types=N.types),Q.T=S}}else try{S=c(y,h),gg(a,s,S)}catch(ie){Gf(a,s,ie)}}function gg(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){xg(a,s,h)},function(h){return Gf(a,s,h)}):xg(a,s,c)}function xg(a,s,c){s.status="fulfilled",s.value=c,vg(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,mg(a,c)))}function Gf(a,s,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=c,vg(s),s=s.next;while(s!==h)}a.action=null}function vg(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function yg(a,s){return s}function bg(a,s){if(it){var c=At.formState;if(c!==null){e:{var h=We;if(it){if(Dt){t:{for(var y=Dt,S=mr;y.nodeType!==8;){if(!S){y=null;break t}if(y=xr(y.nextSibling),y===null){y=null;break t}}S=y.data,y=S==="F!"||S==="F"?y:null}if(y){Dt=xr(y.nextSibling),h=y.data==="F!";break e}}Ua(h)}h=!1}h&&(s=c[0])}}return c=wn(),c.memoizedState=c.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:s},c.queue=h,c=Ug.bind(null,We,h),h.dispatch=c,h=Hf(!1),S=Xf.bind(null,We,!1,h.queue),h=wn(),y={state:s,dispatch:null,action:a,pending:null},h.queue=y,c=xT.bind(null,We,y,S,c),y.dispatch=c,h.memoizedState=a,[s,c,!1]}function Sg(a){var s=qt();return Eg(s,_t,a)}function Eg(a,s,c){if(s=Bf(a,s,yg)[0],a=Ic(la)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Gl(s)}catch(N){throw N===Ns?_c:N}else h=s;s=qt();var y=s.queue,S=y.dispatch;return c!==s.memoizedState&&(We.flags|=2048,Ms(9,{destroy:void 0},vT.bind(null,y,c),null)),[h,S,a]}function vT(a,s){a.action=s}function _g(a){var s=qt(),c=_t;if(c!==null)return Eg(s,c,a);qt(),s=s.memoizedState,c=qt();var h=c.queue.dispatch;return c.memoizedState=a,[s,h,!1]}function Ms(a,s,c,h){return a={tag:a,create:c,deps:h,inst:s,next:null},s=We.updateQueue,s===null&&(s=Mc(),We.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,s.lastEffect=a),a}function Tg(){return qt().memoizedState}function Fc(a,s,c,h){var y=wn();We.flags|=a,y.memoizedState=Ms(1|s,{destroy:void 0},c,h===void 0?null:h)}function Lc(a,s,c,h){var y=qt();h=h===void 0?null:h;var S=y.memoizedState.inst;_t!==null&&h!==null&&Ff(h,_t.memoizedState.deps)?y.memoizedState=Ms(s,S,c,h):(We.flags|=a,y.memoizedState=Ms(1|s,S,c,h))}function wg(a,s){Fc(8390656,8,a,s)}function Vf(a,s){Lc(2048,8,a,s)}function yT(a){We.flags|=4;var s=We.updateQueue;if(s===null)s=Mc(),We.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function Ng(a){var s=qt().memoizedState;return yT({ref:s,nextImpl:a}),function(){if((ft&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Ag(a,s){return Lc(4,2,a,s)}function kg(a,s){return Lc(4,4,a,s)}function Cg(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Rg(a,s,c){c=c!=null?c.concat([a]):null,Lc(4,4,Cg.bind(null,s,a),c)}function qf(){}function Mg(a,s){var c=qt();s=s===void 0?null:s;var h=c.memoizedState;return s!==null&&Ff(s,h[1])?h[0]:(c.memoizedState=[a,s],a)}function Dg(a,s){var c=qt();s=s===void 0?null:s;var h=c.memoizedState;if(s!==null&&Ff(s,h[1]))return h[0];if(h=a(),Fi){Ar(!0);try{a()}finally{Ar(!1)}}return c.memoizedState=[h,s],h}function $f(a,s,c){return c===void 0||(sa&1073741824)!==0&&(rt&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=Ix(),We.lanes|=a,Ja|=a,c)}function Ig(a,s,c,h){return $n(c,s)?c:ks.current!==null?(a=$f(a,c,h),$n(a,s)||(Jt=!0),a):(sa&42)===0||(sa&1073741824)!==0&&(rt&261930)===0?(Jt=!0,a.memoizedState=c):(a=Ix(),We.lanes|=a,Ja|=a,s)}function Fg(a,s,c,h,y){var S=ye.p;ye.p=S!==0&&8>S?S:8;var N=Q.T,D={};Q.T=D,Xf(a,!1,s,c);try{var X=y(),ie=Q.S;if(ie!==null&&ie(D,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var xe=pT(X,h);Vl(a,s,xe,Qn(a))}else Vl(a,s,h,Qn(a))}catch(Se){Vl(a,s,{then:function(){},status:"rejected",reason:Se},Qn())}finally{ye.p=S,N!==null&&D.types!==null&&(N.types=D.types),Q.T=N}}function bT(){}function Yf(a,s,c,h){if(a.tag!==5)throw Error(r(476));var y=Lg(a).queue;Fg(a,y,s,de,c===null?bT:function(){return Pg(a),c(h)})}function Lg(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:de},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Pg(a){var s=Lg(a);s.next===null&&(s=a.alternate.memoizedState),Vl(a,s.next.queue,{},Qn())}function Jf(){return cn(lo)}function jg(){return qt().memoizedState}function Og(){return qt().memoizedState}function ST(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Qn();a=Ha(c);var h=Ga(s,a,c);h!==null&&(Un(h,s,c),Ul(h,s,c)),s={cache:_f()},a.payload=s;return}s=s.return}}function ET(a,s,c){var h=Qn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Pc(a)?Bg(s,c):(c=ff(a,s,c,h),c!==null&&(Un(c,a,h),zg(c,s,h)))}function Ug(a,s,c){var h=Qn();Vl(a,s,c,h)}function Vl(a,s,c,h){var y={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Pc(a))Bg(s,y);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var N=s.lastRenderedState,D=S(N,c);if(y.hasEagerState=!0,y.eagerState=D,$n(D,N))return gc(a,s,y,0),At===null&&mc(),!1}catch{}finally{}if(c=ff(a,s,y,h),c!==null)return Un(c,a,h),zg(c,s,h),!0}return!1}function Xf(a,s,c,h){if(h={lane:2,revertLane:A0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Pc(a)){if(s)throw Error(r(479))}else s=ff(a,c,h,2),s!==null&&Un(s,a,2)}function Pc(a){var s=a.alternate;return a===We||s!==null&&s===We}function Bg(a,s){Cs=Cc=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function zg(a,s,c){if((c&4194048)!==0){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,us(a,c)}}var ql={readContext:cn,use:Dc,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};ql.useEffectEvent=Bt;var Hg={readContext:cn,use:Dc,useCallback:function(a,s){return wn().memoizedState=[a,s===void 0?null:s],a},useContext:cn,useEffect:wg,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Fc(4194308,4,Cg.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Fc(4194308,4,a,s)},useInsertionEffect:function(a,s){Fc(4,2,a,s)},useMemo:function(a,s){var c=wn();s=s===void 0?null:s;var h=a();if(Fi){Ar(!0);try{a()}finally{Ar(!1)}}return c.memoizedState=[h,s],h},useReducer:function(a,s,c){var h=wn();if(c!==void 0){var y=c(s);if(Fi){Ar(!0);try{c(s)}finally{Ar(!1)}}}else y=s;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=ET.bind(null,We,a),[h.memoizedState,a]},useRef:function(a){var s=wn();return a={current:a},s.memoizedState=a},useState:function(a){a=Hf(a);var s=a.queue,c=Ug.bind(null,We,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:qf,useDeferredValue:function(a,s){var c=wn();return $f(c,a,s)},useTransition:function(){var a=Hf(!1);return a=Fg.bind(null,We,a.queue,!0,!1),wn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var h=We,y=wn();if(it){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),At===null)throw Error(r(349));(rt&127)!==0||cg(h,s,c)}y.memoizedState=c;var S={value:c,getSnapshot:s};return y.queue=S,wg(dg.bind(null,h,S,a),[a]),h.flags|=2048,Ms(9,{destroy:void 0},ug.bind(null,h,S,c,s),null),c},useId:function(){var a=wn(),s=At.identifierPrefix;if(it){var c=qr,h=Vr;c=(h&~(1<<32-Tn(h)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Rc++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=mT++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Jf,useFormState:bg,useActionState:bg,useOptimistic:function(a){var s=wn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Xf.bind(null,We,!0,c),c.dispatch=s,[a,s]},useMemoCache:Uf,useCacheRefresh:function(){return wn().memoizedState=ST.bind(null,We)},useEffectEvent:function(a){var s=wn(),c={impl:a};return s.memoizedState=c,function(){if((ft&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Wf={readContext:cn,use:Dc,useCallback:Mg,useContext:cn,useEffect:Vf,useImperativeHandle:Rg,useInsertionEffect:Ag,useLayoutEffect:kg,useMemo:Dg,useReducer:Ic,useRef:Tg,useState:function(){return Ic(la)},useDebugValue:qf,useDeferredValue:function(a,s){var c=qt();return Ig(c,_t.memoizedState,a,s)},useTransition:function(){var a=Ic(la)[0],s=qt().memoizedState;return[typeof a=="boolean"?a:Gl(a),s]},useSyncExternalStore:og,useId:jg,useHostTransitionStatus:Jf,useFormState:Sg,useActionState:Sg,useOptimistic:function(a,s){var c=qt();return pg(c,_t,a,s)},useMemoCache:Uf,useCacheRefresh:Og};Wf.useEffectEvent=Ng;var Gg={readContext:cn,use:Dc,useCallback:Mg,useContext:cn,useEffect:Vf,useImperativeHandle:Rg,useInsertionEffect:Ag,useLayoutEffect:kg,useMemo:Dg,useReducer:zf,useRef:Tg,useState:function(){return zf(la)},useDebugValue:qf,useDeferredValue:function(a,s){var c=qt();return _t===null?$f(c,a,s):Ig(c,_t.memoizedState,a,s)},useTransition:function(){var a=zf(la)[0],s=qt().memoizedState;return[typeof a=="boolean"?a:Gl(a),s]},useSyncExternalStore:og,useId:jg,useHostTransitionStatus:Jf,useFormState:_g,useActionState:_g,useOptimistic:function(a,s){var c=qt();return _t!==null?pg(c,_t,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:Og};Gg.useEffectEvent=Ng;function Kf(a,s,c,h){s=a.memoizedState,c=c(h,s),c=c==null?s:v({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Qf={enqueueSetState:function(a,s,c){a=a._reactInternals;var h=Qn(),y=Ha(h);y.payload=s,c!=null&&(y.callback=c),s=Ga(a,y,h),s!==null&&(Un(s,a,h),Ul(s,a,h))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var h=Qn(),y=Ha(h);y.tag=1,y.payload=s,c!=null&&(y.callback=c),s=Ga(a,y,h),s!==null&&(Un(s,a,h),Ul(s,a,h))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Qn(),h=Ha(c);h.tag=2,s!=null&&(h.callback=s),s=Ga(a,h,c),s!==null&&(Un(s,a,c),Ul(s,a,c))}};function Vg(a,s,c,h,y,S,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,S,N):s.prototype&&s.prototype.isPureReactComponent?!Ml(c,h)||!Ml(y,S):!0}function qg(a,s,c,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==a&&Qf.enqueueReplaceState(s,s.state,null)}function Li(a,s){var c=s;if("ref"in s){c={};for(var h in s)h!=="ref"&&(c[h]=s[h])}if(a=a.defaultProps){c===s&&(c=v({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function $g(a){pc(a)}function Yg(a){console.error(a)}function Jg(a){pc(a)}function jc(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function Xg(a,s,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Zf(a,s,c){return c=Ha(c),c.tag=3,c.payload={element:null},c.callback=function(){jc(a,s)},c}function Wg(a){return a=Ha(a),a.tag=3,a}function Kg(a,s,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var S=h.value;a.payload=function(){return y(S)},a.callback=function(){Xg(s,c,h)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){Xg(s,c,h),typeof y!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function _T(a,s,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=c.alternate,s!==null&&_s(s,c,y,!0),c=Jn.current,c!==null){switch(c.tag){case 31:case 13:return gr===null?Xc():c.alternate===null&&zt===0&&(zt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===Tc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([h]):s.add(h),T0(a,h,y)),!1;case 22:return c.flags|=65536,h===Tc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([h]):c.add(h)),T0(a,h,y)),!1}throw Error(r(435,c.tag))}return T0(a,h,y),Xc(),!1}if(it)return s=Jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==vf&&(a=Error(r(422),{cause:h}),Fl(fr(a,c)))):(h!==vf&&(s=Error(r(423),{cause:h}),Fl(fr(s,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=fr(h,c),y=Zf(a.stateNode,h,y),Cf(a,y),zt!==4&&(zt=2)),!1;var S=Error(r(520),{cause:h});if(S=fr(S,c),Zl===null?Zl=[S]:Zl.push(S),zt!==4&&(zt=2),s===null)return!0;h=fr(h,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=Zf(c.stateNode,h,a),Cf(c,a),!1;case 1:if(s=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Xa===null||!Xa.has(S))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Wg(y),Kg(y,a,c,h),Cf(c,y),!1}c=c.return}while(c!==null);return!1}var e0=Error(r(461)),Jt=!1;function un(a,s,c,h){s.child=a===null?tg(s,null,c,h):Ii(s,a.child,c,h)}function Qg(a,s,c,h,y){c=c.render;var S=s.ref;if("ref"in h){var N={};for(var D in h)D!=="ref"&&(N[D]=h[D])}else N=h;return Ci(s),h=Lf(a,s,c,N,S,y),D=Pf(),a!==null&&!Jt?(jf(a,s,y),oa(a,s,y)):(it&&D&&gf(s),s.flags|=1,un(a,s,h,y),s.child)}function Zg(a,s,c,h,y){if(a===null){var S=c.type;return typeof S=="function"&&!hf(S)&&S.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=S,ex(a,s,S,h,y)):(a=vc(c.type,null,h,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(S=a.child,!o0(a,y)){var N=S.memoizedProps;if(c=c.compare,c=c!==null?c:Ml,c(N,h)&&a.ref===s.ref)return oa(a,s,y)}return s.flags|=1,a=na(S,h),a.ref=s.ref,a.return=s,s.child=a}function ex(a,s,c,h,y){if(a!==null){var S=a.memoizedProps;if(Ml(S,h)&&a.ref===s.ref)if(Jt=!1,s.pendingProps=h=S,o0(a,y))(a.flags&131072)!==0&&(Jt=!0);else return s.lanes=a.lanes,oa(a,s,y)}return t0(a,s,c,h,y)}function tx(a,s,c,h){var y=h.children,S=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,a!==null){for(h=s.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~S}else h=0,s.child=null;return nx(a,s,S,c,h)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ec(s,S!==null?S.cachePool:null),S!==null?ag(s,S):Mf(),ig(s);else return h=s.lanes=536870912,nx(a,s,S!==null?S.baseLanes|c:c,c,h)}else S!==null?(Ec(s,S.cachePool),ag(s,S),qa(),s.memoizedState=null):(a!==null&&Ec(s,null),Mf(),qa());return un(a,s,y,c),s.child}function $l(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function nx(a,s,c,h,y){var S=wf();return S=S===null?null:{parent:$t._currentValue,pool:S},s.memoizedState={baseLanes:c,cachePool:S},a!==null&&Ec(s,null),Mf(),ig(s),a!==null&&_s(a,s,h,!0),s.childLanes=y,null}function Oc(a,s){return s=Bc({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function rx(a,s,c){return Ii(s,a.child,null,c),a=Oc(s,s.pendingProps),a.flags|=2,Xn(s),s.memoizedState=null,a}function TT(a,s,c){var h=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(it){if(h.mode==="hidden")return a=Oc(s,h),s.lanes=536870912,$l(null,a);if(If(s),(a=Dt)?(a=m1(a,mr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ja!==null?{id:Vr,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},c=Bm(a),c.return=s,s.child=c,on=s,Dt=null)):a=null,a===null)throw Ua(s);return s.lanes=536870912,null}return Oc(s,h)}var S=a.memoizedState;if(S!==null){var N=S.dehydrated;if(If(s),y)if(s.flags&256)s.flags&=-257,s=rx(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Jt||_s(a,s,c,!1),y=(c&a.childLanes)!==0,Jt||y){if(h=At,h!==null&&(N=ac(h,c),N!==0&&N!==S.retryLane))throw S.retryLane=N,wi(a,N),Un(h,a,N),e0;Xc(),s=rx(a,s,c)}else a=S.treeContext,Dt=xr(N.nextSibling),on=s,it=!0,Oa=null,mr=!1,a!==null&&Gm(s,a),s=Oc(s,h),s.flags|=4096;return s}return a=na(a.child,{mode:h.mode,children:h.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Uc(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function t0(a,s,c,h,y){return Ci(s),c=Lf(a,s,c,h,void 0,y),h=Pf(),a!==null&&!Jt?(jf(a,s,y),oa(a,s,y)):(it&&h&&gf(s),s.flags|=1,un(a,s,c,y),s.child)}function ax(a,s,c,h,y,S){return Ci(s),s.updateQueue=null,c=lg(s,h,c,y),sg(a),h=Pf(),a!==null&&!Jt?(jf(a,s,S),oa(a,s,S)):(it&&h&&gf(s),s.flags|=1,un(a,s,c,S),s.child)}function ix(a,s,c,h,y){if(Ci(s),s.stateNode===null){var S=ys,N=c.contextType;typeof N=="object"&&N!==null&&(S=cn(N)),S=new c(h,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Qf,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=h,S.state=s.memoizedState,S.refs={},Af(s),N=c.contextType,S.context=typeof N=="object"&&N!==null?cn(N):ys,S.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Kf(s,c,N,h),S.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&Qf.enqueueReplaceState(S,S.state,null),zl(s,h,S,y),Bl(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(a===null){S=s.stateNode;var D=s.memoizedProps,X=Li(c,D);S.props=X;var ie=S.context,xe=c.contextType;N=ys,typeof xe=="object"&&xe!==null&&(N=cn(xe));var Se=c.getDerivedStateFromProps;xe=typeof Se=="function"||typeof S.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,xe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D||ie!==N)&&qg(s,S,h,N),za=!1;var ce=s.memoizedState;S.state=ce,zl(s,h,S,y),Bl(),ie=s.memoizedState,D||ce!==ie||za?(typeof Se=="function"&&(Kf(s,c,Se,h),ie=s.memoizedState),(X=za||Vg(s,c,X,h,ce,ie,N))?(xe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=ie),S.props=h,S.state=ie,S.context=N,h=X):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{S=s.stateNode,kf(a,s),N=s.memoizedProps,xe=Li(c,N),S.props=xe,Se=s.pendingProps,ce=S.context,ie=c.contextType,X=ys,typeof ie=="object"&&ie!==null&&(X=cn(ie)),D=c.getDerivedStateFromProps,(ie=typeof D=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==Se||ce!==X)&&qg(s,S,h,X),za=!1,ce=s.memoizedState,S.state=ce,zl(s,h,S,y),Bl();var pe=s.memoizedState;N!==Se||ce!==pe||za||a!==null&&a.dependencies!==null&&bc(a.dependencies)?(typeof D=="function"&&(Kf(s,c,D,h),pe=s.memoizedState),(xe=za||Vg(s,c,xe,h,ce,pe,X)||a!==null&&a.dependencies!==null&&bc(a.dependencies))?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,pe,X),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,pe,X)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===a.memoizedProps&&ce===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ce===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),S.props=h,S.state=pe,S.context=X,h=xe):(typeof S.componentDidUpdate!="function"||N===a.memoizedProps&&ce===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ce===a.memoizedState||(s.flags|=1024),h=!1)}return S=h,Uc(a,s),h=(s.flags&128)!==0,S||h?(S=s.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,a!==null&&h?(s.child=Ii(s,a.child,null,y),s.child=Ii(s,null,c,y)):un(a,s,c,y),s.memoizedState=S.state,a=s.child):a=oa(a,s,y),a}function sx(a,s,c,h){return Ai(),s.flags|=256,un(a,s,c,h),s.child}var n0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function r0(a){return{baseLanes:a,cachePool:Xm()}}function a0(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Kn),a}function lx(a,s,c){var h=s.pendingProps,y=!1,S=(s.flags&128)!==0,N;if((N=S)||(N=a!==null&&a.memoizedState===null?!1:(Vt.current&2)!==0),N&&(y=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,a===null){if(it){if(y?Va(s):qa(),(a=Dt)?(a=m1(a,mr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ja!==null?{id:Vr,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},c=Bm(a),c.return=s,s.child=c,on=s,Dt=null)):a=null,a===null)throw Ua(s);return B0(a)?s.lanes=32:s.lanes=536870912,null}var D=h.children;return h=h.fallback,y?(qa(),y=s.mode,D=Bc({mode:"hidden",children:D},y),h=Ni(h,y,c,null),D.return=s,h.return=s,D.sibling=h,s.child=D,h=s.child,h.memoizedState=r0(c),h.childLanes=a0(a,N,c),s.memoizedState=n0,$l(null,h)):(Va(s),i0(s,D))}var X=a.memoizedState;if(X!==null&&(D=X.dehydrated,D!==null)){if(S)s.flags&256?(Va(s),s.flags&=-257,s=s0(a,s,c)):s.memoizedState!==null?(qa(),s.child=a.child,s.flags|=128,s=null):(qa(),D=h.fallback,y=s.mode,h=Bc({mode:"visible",children:h.children},y),D=Ni(D,y,c,null),D.flags|=2,h.return=s,D.return=s,h.sibling=D,s.child=h,Ii(s,a.child,null,c),h=s.child,h.memoizedState=r0(c),h.childLanes=a0(a,N,c),s.memoizedState=n0,s=$l(null,h));else if(Va(s),B0(D)){if(N=D.nextSibling&&D.nextSibling.dataset,N)var ie=N.dgst;N=ie,h=Error(r(419)),h.stack="",h.digest=N,Fl({value:h,source:null,stack:null}),s=s0(a,s,c)}else if(Jt||_s(a,s,c,!1),N=(c&a.childLanes)!==0,Jt||N){if(N=At,N!==null&&(h=ac(N,c),h!==0&&h!==X.retryLane))throw X.retryLane=h,wi(a,h),Un(N,a,h),e0;U0(D)||Xc(),s=s0(a,s,c)}else U0(D)?(s.flags|=192,s.child=a.child,s=null):(a=X.treeContext,Dt=xr(D.nextSibling),on=s,it=!0,Oa=null,mr=!1,a!==null&&Gm(s,a),s=i0(s,h.children),s.flags|=4096);return s}return y?(qa(),D=h.fallback,y=s.mode,X=a.child,ie=X.sibling,h=na(X,{mode:"hidden",children:h.children}),h.subtreeFlags=X.subtreeFlags&65011712,ie!==null?D=na(ie,D):(D=Ni(D,y,c,null),D.flags|=2),D.return=s,h.return=s,h.sibling=D,s.child=h,$l(null,h),h=s.child,D=a.child.memoizedState,D===null?D=r0(c):(y=D.cachePool,y!==null?(X=$t._currentValue,y=y.parent!==X?{parent:X,pool:X}:y):y=Xm(),D={baseLanes:D.baseLanes|c,cachePool:y}),h.memoizedState=D,h.childLanes=a0(a,N,c),s.memoizedState=n0,$l(a.child,h)):(Va(s),c=a.child,a=c.sibling,c=na(c,{mode:"visible",children:h.children}),c.return=s,c.sibling=null,a!==null&&(N=s.deletions,N===null?(s.deletions=[a],s.flags|=16):N.push(a)),s.child=c,s.memoizedState=null,c)}function i0(a,s){return s=Bc({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Bc(a,s){return a=Yn(22,a,null,s),a.lanes=0,a}function s0(a,s,c){return Ii(s,a.child,null,c),a=i0(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function ox(a,s,c){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),Sf(a.return,s,c)}function l0(a,s,c,h,y,S){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y,treeForkCount:S}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=h,N.tail=c,N.tailMode=y,N.treeForkCount=S)}function cx(a,s,c){var h=s.pendingProps,y=h.revealOrder,S=h.tail;h=h.children;var N=Vt.current,D=(N&2)!==0;if(D?(N=N&1|2,s.flags|=128):N&=1,K(Vt,N),un(a,s,h,c),h=it?Il:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ox(a,c,s);else if(a.tag===19)ox(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=s.child,y=null;c!==null;)a=c.alternate,a!==null&&kc(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=s.child,s.child=null):(y=c.sibling,c.sibling=null),l0(s,!1,y,c,S,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&kc(a)===null){s.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}l0(s,!0,c,null,S,h);break;case"together":l0(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function oa(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Ja|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(_s(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=na(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=na(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function o0(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&bc(a)))}function wT(a,s,c){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),Ba(s,$t,a.memoizedState.cache),Ai();break;case 27:case 5:je(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:Ba(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,If(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Va(s),s.flags|=128,null):(c&s.child.childLanes)!==0?lx(a,s,c):(Va(s),a=oa(a,s,c),a!==null?a.sibling:null);Va(s);break;case 19:var y=(a.flags&128)!==0;if(h=(c&s.childLanes)!==0,h||(_s(a,s,c,!1),h=(c&s.childLanes)!==0),y){if(h)return cx(a,s,c);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),K(Vt,Vt.current),h)break;return null;case 22:return s.lanes=0,tx(a,s,c,s.pendingProps);case 24:Ba(s,$t,a.memoizedState.cache)}return oa(a,s,c)}function ux(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Jt=!0;else{if(!o0(a,c)&&(s.flags&128)===0)return Jt=!1,wT(a,s,c);Jt=(a.flags&131072)!==0}else Jt=!1,it&&(s.flags&1048576)!==0&&Hm(s,Il,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(a=Mi(s.elementType),s.type=a,typeof a=="function")hf(a)?(h=Li(a,h),s.tag=1,s=ix(null,s,a,h,c)):(s.tag=0,s=t0(null,s,a,h,c));else{if(a!=null){var y=a.$$typeof;if(y===L){s.tag=11,s=Qg(null,s,a,h,c);break e}else if(y===P){s.tag=14,s=Zg(null,s,a,h,c);break e}}throw s=De(a)||a,Error(r(306,s,""))}}return s;case 0:return t0(a,s,s.type,s.pendingProps,c);case 1:return h=s.type,y=Li(h,s.pendingProps),ix(a,s,h,y,c);case 3:e:{if(ze(s,s.stateNode.containerInfo),a===null)throw Error(r(387));h=s.pendingProps;var S=s.memoizedState;y=S.element,kf(a,s),zl(s,h,null,c);var N=s.memoizedState;if(h=N.cache,Ba(s,$t,h),h!==S.cache&&Ef(s,[$t],c,!0),Bl(),h=N.element,S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=sx(a,s,h,c);break e}else if(h!==y){y=fr(Error(r(424)),s),Fl(y),s=sx(a,s,h,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Dt=xr(a.firstChild),on=s,it=!0,Oa=null,mr=!0,c=tg(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ai(),h===y){s=oa(a,s,c);break e}un(a,s,h,c)}s=s.child}return s;case 26:return Uc(a,s),a===null?(c=S1(s.type,null,s.pendingProps,null))?s.memoizedState=c:it||(c=s.type,a=s.pendingProps,h=nu(he.current).createElement(c),h[O]=s,h[z]=a,dn(h,c,a),Ve(h),s.stateNode=h):s.memoizedState=S1(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return je(s),a===null&&it&&(h=s.stateNode=v1(s.type,s.pendingProps,he.current),on=s,mr=!0,y=Dt,Za(s.type)?(z0=y,Dt=xr(h.firstChild)):Dt=y),un(a,s,s.pendingProps.children,c),Uc(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&it&&((y=h=Dt)&&(h=tw(h,s.type,s.pendingProps,mr),h!==null?(s.stateNode=h,on=s,Dt=xr(h.firstChild),mr=!1,y=!0):y=!1),y||Ua(s)),je(s),y=s.type,S=s.pendingProps,N=a!==null?a.memoizedProps:null,h=S.children,P0(y,S)?h=null:N!==null&&P0(y,N)&&(s.flags|=32),s.memoizedState!==null&&(y=Lf(a,s,gT,null,null,c),lo._currentValue=y),Uc(a,s),un(a,s,h,c),s.child;case 6:return a===null&&it&&((a=c=Dt)&&(c=nw(c,s.pendingProps,mr),c!==null?(s.stateNode=c,on=s,Dt=null,a=!0):a=!1),a||Ua(s)),null;case 13:return lx(a,s,c);case 4:return ze(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=Ii(s,null,h,c):un(a,s,h,c),s.child;case 11:return Qg(a,s,s.type,s.pendingProps,c);case 7:return un(a,s,s.pendingProps,c),s.child;case 8:return un(a,s,s.pendingProps.children,c),s.child;case 12:return un(a,s,s.pendingProps.children,c),s.child;case 10:return h=s.pendingProps,Ba(s,s.type,h.value),un(a,s,h.children,c),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,Ci(s),y=cn(y),h=h(y),s.flags|=1,un(a,s,h,c),s.child;case 14:return Zg(a,s,s.type,s.pendingProps,c);case 15:return ex(a,s,s.type,s.pendingProps,c);case 19:return cx(a,s,c);case 31:return TT(a,s,c);case 22:return tx(a,s,c,s.pendingProps);case 24:return Ci(s),h=cn($t),a===null?(y=wf(),y===null&&(y=At,S=_f(),y.pooledCache=S,S.refCount++,S!==null&&(y.pooledCacheLanes|=c),y=S),s.memoizedState={parent:h,cache:y},Af(s),Ba(s,$t,y)):((a.lanes&c)!==0&&(kf(a,s),zl(s,null,null,c),Bl()),y=a.memoizedState,S=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ba(s,$t,h)):(h=S.cache,Ba(s,$t,h),h!==y.cache&&Ef(s,[$t],c,!0))),un(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ca(a){a.flags|=4}function c0(a,s,c,h,y){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(jx())a.flags|=8192;else throw Di=Tc,Nf}else a.flags&=-16777217}function dx(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!N1(s))if(jx())a.flags|=8192;else throw Di=Tc,Nf}function zc(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?nc():536870912,a.lanes|=s,Ls|=s)}function Yl(a,s){if(!it)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function It(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(s)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=c,s}function NT(a,s,c){var h=s.pendingProps;switch(xf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return It(s),null;case 3:return c=s.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),ia($t),Ie(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Es(s)?ca(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yf())),It(s),null;case 26:var y=s.type,S=s.memoizedState;return a===null?(ca(s),S!==null?(It(s),dx(s,S)):(It(s),c0(s,y,null,h,c))):S?S!==a.memoizedState?(ca(s),It(s),dx(s,S)):(It(s),s.flags&=-16777217):(a=a.memoizedProps,a!==h&&ca(s),It(s),c0(s,y,a,h,c)),null;case 27:if(lt(s),c=he.current,y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&ca(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return It(s),null}a=Y.current,Es(s)?Vm(s):(a=v1(y,h,c),s.stateNode=a,ca(s))}return It(s),null;case 5:if(lt(s),y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&ca(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return It(s),null}if(S=Y.current,Es(s))Vm(s);else{var N=nu(he.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof h.is=="string"?N.createElement("select",{is:h.is}):N.createElement("select"),h.multiple?S.multiple=!0:h.size&&(S.size=h.size);break;default:S=typeof h.is=="string"?N.createElement(y,{is:h.is}):N.createElement(y)}}S[O]=s,S[z]=h;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=S;e:switch(dn(S,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ca(s)}}return It(s),c0(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==h&&ca(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(a=he.current,Es(s)){if(a=s.stateNode,c=s.memoizedProps,h=null,y=on,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[O]=s,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||l1(a.nodeValue,c)),a||Ua(s,!0)}else a=nu(a).createTextNode(h),a[O]=s,s.stateNode=a}return It(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(h=Es(s),c!==null){if(a===null){if(!h)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[O]=s}else Ai(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),a=!1}else c=yf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Xn(s),s):(Xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return It(s),null;case 13:if(h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Es(s),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[O]=s}else Ai(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),y=!1}else y=yf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(Xn(s),s):(Xn(s),null)}return Xn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==y&&(h.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),zc(s,s.updateQueue),It(s),null);case 4:return Ie(),a===null&&M0(s.stateNode.containerInfo),It(s),null;case 10:return ia(s.type),It(s),null;case 19:if(F(Vt),h=s.memoizedState,h===null)return It(s),null;if(y=(s.flags&128)!==0,S=h.rendering,S===null)if(y)Yl(h,!1);else{if(zt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(S=kc(a),S!==null){for(s.flags|=128,Yl(h,!1),a=S.updateQueue,s.updateQueue=a,zc(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)Um(c,a),c=c.sibling;return K(Vt,Vt.current&1|2),it&&ra(s,h.treeForkCount),s.child}a=a.sibling}h.tail!==null&&Lt()>$c&&(s.flags|=128,y=!0,Yl(h,!1),s.lanes=4194304)}else{if(!y)if(a=kc(S),a!==null){if(s.flags|=128,y=!0,a=a.updateQueue,s.updateQueue=a,zc(s,a),Yl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!S.alternate&&!it)return It(s),null}else 2*Lt()-h.renderingStartTime>$c&&c!==536870912&&(s.flags|=128,y=!0,Yl(h,!1),s.lanes=4194304);h.isBackwards?(S.sibling=s.child,s.child=S):(a=h.last,a!==null?a.sibling=S:s.child=S,h.last=S)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Lt(),a.sibling=null,c=Vt.current,K(Vt,y?c&1|2:c&1),it&&ra(s,h.treeForkCount),a):(It(s),null);case 22:case 23:return Xn(s),Df(),h=s.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(c&536870912)!==0&&(s.flags&128)===0&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),c=s.updateQueue,c!==null&&zc(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048),a!==null&&F(Ri),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ia($t),It(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function AT(a,s){switch(xf(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ia($t),Ie(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return lt(s),null;case 31:if(s.memoizedState!==null){if(Xn(s),s.alternate===null)throw Error(r(340));Ai()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Xn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ai()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return F(Vt),null;case 4:return Ie(),null;case 10:return ia(s.type),null;case 22:case 23:return Xn(s),Df(),a!==null&&F(Ri),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ia($t),null;case 25:return null;default:return null}}function fx(a,s){switch(xf(s),s.tag){case 3:ia($t),Ie();break;case 26:case 27:case 5:lt(s);break;case 4:Ie();break;case 31:s.memoizedState!==null&&Xn(s);break;case 13:Xn(s);break;case 19:F(Vt);break;case 10:ia(s.type);break;case 22:case 23:Xn(s),Df(),a!==null&&F(Ri);break;case 24:ia($t)}}function Jl(a,s){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&a)===a){h=void 0;var S=c.create,N=c.inst;h=S(),N.destroy=h}c=c.next}while(c!==y)}}catch(D){xt(s,s.return,D)}}function $a(a,s,c){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var S=y.next;h=S;do{if((h.tag&a)===a){var N=h.inst,D=N.destroy;if(D!==void 0){N.destroy=void 0,y=s;var X=c,ie=D;try{ie()}catch(xe){xt(y,X,xe)}}}h=h.next}while(h!==S)}}catch(xe){xt(s,s.return,xe)}}function hx(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{rg(s,c)}catch(h){xt(a,a.return,h)}}}function px(a,s,c){c.props=Li(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){xt(a,s,h)}}function Xl(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(y){xt(a,s,y)}}function $r(a,s){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){xt(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){xt(a,s,y)}else c.current=null}function mx(a){var s=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){xt(a,a.return,y)}}function u0(a,s,c){try{var h=a.stateNode;XT(h,a.type,c,s),h[z]=s}catch(y){xt(a,a.return,y)}}function gx(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Za(a.type)||a.tag===4}function d0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||gx(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Za(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function f0(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ea));else if(h!==4&&(h===27&&Za(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(f0(a,s,c),a=a.sibling;a!==null;)f0(a,s,c),a=a.sibling}function Hc(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(h!==4&&(h===27&&Za(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Hc(a,s,c),a=a.sibling;a!==null;)Hc(a,s,c),a=a.sibling}function xx(a){var s=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);dn(s,h,c),s[O]=a,s[z]=c}catch(S){xt(a,a.return,S)}}var ua=!1,Xt=!1,h0=!1,vx=typeof WeakSet=="function"?WeakSet:Set,nn=null;function kT(a,s){if(a=a.containerInfo,F0=cu,a=Rm(a),sf(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,S=h.focusNode;h=h.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var N=0,D=-1,X=-1,ie=0,xe=0,Se=a,ce=null;t:for(;;){for(var pe;Se!==c||y!==0&&Se.nodeType!==3||(D=N+y),Se!==S||h!==0&&Se.nodeType!==3||(X=N+h),Se.nodeType===3&&(N+=Se.nodeValue.length),(pe=Se.firstChild)!==null;)ce=Se,Se=pe;for(;;){if(Se===a)break t;if(ce===c&&++ie===y&&(D=N),ce===S&&++xe===h&&(X=N),(pe=Se.nextSibling)!==null)break;Se=ce,ce=Se.parentNode}Se=pe}c=D===-1||X===-1?null:{start:D,end:X}}else c=null}c=c||{start:0,end:0}}else c=null;for(L0={focusedElem:a,selectionRange:c},cu=!1,nn=s;nn!==null;)if(s=nn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,nn=a;else for(;nn!==null;){switch(s=nn,S=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,c=s,y=S.memoizedProps,S=S.memoizedState,h=c.stateNode;try{var Ge=Li(c.type,y);a=h.getSnapshotBeforeUpdate(Ge,S),h.__reactInternalSnapshotBeforeUpdate=a}catch(Ye){xt(c,c.return,Ye)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)O0(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":O0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,nn=a;break}nn=s.return}}function yx(a,s,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:fa(a,c),h&4&&Jl(5,c);break;case 1:if(fa(a,c),h&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(N){xt(c,c.return,N)}else{var y=Li(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(N){xt(c,c.return,N)}}h&64&&hx(c),h&512&&Xl(c,c.return);break;case 3:if(fa(a,c),h&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{rg(a,s)}catch(N){xt(c,c.return,N)}}break;case 27:s===null&&h&4&&xx(c);case 26:case 5:fa(a,c),s===null&&h&4&&mx(c),h&512&&Xl(c,c.return);break;case 12:fa(a,c);break;case 31:fa(a,c),h&4&&Ex(a,c);break;case 13:fa(a,c),h&4&&_x(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=jT.bind(null,c),rw(a,c))));break;case 22:if(h=c.memoizedState!==null||ua,!h){s=s!==null&&s.memoizedState!==null||Xt,y=ua;var S=Xt;ua=h,(Xt=s)&&!S?ha(a,c,(c.subtreeFlags&8772)!==0):fa(a,c),ua=y,Xt=S}break;case 30:break;default:fa(a,c)}}function bx(a){var s=a.alternate;s!==null&&(a.alternate=null,bx(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Te(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var jt=null,Ln=!1;function da(a,s,c){for(c=c.child;c!==null;)Sx(a,s,c),c=c.sibling}function Sx(a,s,c){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Fa,c)}catch{}switch(c.tag){case 26:Xt||$r(c,s),da(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Xt||$r(c,s);var h=jt,y=Ln;Za(c.type)&&(jt=c.stateNode,Ln=!1),da(a,s,c),ao(c.stateNode),jt=h,Ln=y;break;case 5:Xt||$r(c,s);case 6:if(h=jt,y=Ln,jt=null,da(a,s,c),jt=h,Ln=y,jt!==null)if(Ln)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(c.stateNode)}catch(S){xt(c,s,S)}else try{jt.removeChild(c.stateNode)}catch(S){xt(c,s,S)}break;case 18:jt!==null&&(Ln?(a=jt,h1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Gs(a)):h1(jt,c.stateNode));break;case 4:h=jt,y=Ln,jt=c.stateNode.containerInfo,Ln=!0,da(a,s,c),jt=h,Ln=y;break;case 0:case 11:case 14:case 15:$a(2,c,s),Xt||$a(4,c,s),da(a,s,c);break;case 1:Xt||($r(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"&&px(c,s,h)),da(a,s,c);break;case 21:da(a,s,c);break;case 22:Xt=(h=Xt)||c.memoizedState!==null,da(a,s,c),Xt=h;break;default:da(a,s,c)}}function Ex(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Gs(a)}catch(c){xt(s,s.return,c)}}}function _x(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Gs(a)}catch(c){xt(s,s.return,c)}}function CT(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new vx),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new vx),s;default:throw Error(r(435,a.tag))}}function Gc(a,s){var c=CT(a);s.forEach(function(h){if(!c.has(h)){c.add(h);var y=OT.bind(null,a,h);h.then(y,y)}})}function Pn(a,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],S=a,N=s,D=N;e:for(;D!==null;){switch(D.tag){case 27:if(Za(D.type)){jt=D.stateNode,Ln=!1;break e}break;case 5:jt=D.stateNode,Ln=!1;break e;case 3:case 4:jt=D.stateNode.containerInfo,Ln=!0;break e}D=D.return}if(jt===null)throw Error(r(160));Sx(S,N,y),jt=null,Ln=!1,S=y.alternate,S!==null&&(S.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Tx(s,a),s=s.sibling}var Cr=null;function Tx(a,s){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Pn(s,a),jn(a),h&4&&($a(3,a,a.return),Jl(3,a),$a(5,a,a.return));break;case 1:Pn(s,a),jn(a),h&512&&(Xt||c===null||$r(c,c.return)),h&64&&ua&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=Cr;if(Pn(s,a),jn(a),h&512&&(Xt||c===null||$r(c,c.return)),h&4){var S=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":S=y.getElementsByTagName("title")[0],(!S||S[ue]||S[O]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=y.createElement(h),y.head.insertBefore(S,y.querySelector("head > title"))),dn(S,h,c),S[O]=a,Ve(S),h=S;break e;case"link":var N=T1("link","href",y).get(h+(c.href||""));if(N){for(var D=0;D<N.length;D++)if(S=N[D],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(D,1);break t}}S=y.createElement(h),dn(S,h,c),y.head.appendChild(S);break;case"meta":if(N=T1("meta","content",y).get(h+(c.content||""))){for(D=0;D<N.length;D++)if(S=N[D],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(D,1);break t}}S=y.createElement(h),dn(S,h,c),y.head.appendChild(S);break;default:throw Error(r(468,h))}S[O]=a,Ve(S),h=S}a.stateNode=h}else w1(y,a.type,a.stateNode);else a.stateNode=_1(y,h,a.memoizedProps);else S!==h?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,h===null?w1(y,a.type,a.stateNode):_1(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&u0(a,a.memoizedProps,c.memoizedProps)}break;case 27:Pn(s,a),jn(a),h&512&&(Xt||c===null||$r(c,c.return)),c!==null&&h&4&&u0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Pn(s,a),jn(a),h&512&&(Xt||c===null||$r(c,c.return)),a.flags&32){y=a.stateNode;try{fs(y,"")}catch(Ge){xt(a,a.return,Ge)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,u0(a,y,c!==null?c.memoizedProps:y)),h&1024&&(h0=!0);break;case 6:if(Pn(s,a),jn(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(Ge){xt(a,a.return,Ge)}}break;case 3:if(iu=null,y=Cr,Cr=ru(s.containerInfo),Pn(s,a),Cr=y,jn(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Gs(s.containerInfo)}catch(Ge){xt(a,a.return,Ge)}h0&&(h0=!1,wx(a));break;case 4:h=Cr,Cr=ru(a.stateNode.containerInfo),Pn(s,a),jn(a),Cr=h;break;case 12:Pn(s,a),jn(a);break;case 31:Pn(s,a),jn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Gc(a,h)));break;case 13:Pn(s,a),jn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(qc=Lt()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Gc(a,h)));break;case 22:y=a.memoizedState!==null;var X=c!==null&&c.memoizedState!==null,ie=ua,xe=Xt;if(ua=ie||y,Xt=xe||X,Pn(s,a),Xt=xe,ua=ie,jn(a),h&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(c===null||X||ua||Xt||Pi(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){X=c=s;try{if(S=X.stateNode,y)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{D=X.stateNode;var Se=X.memoizedProps.style,ce=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;D.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Ge){xt(X,X.return,Ge)}}}else if(s.tag===6){if(c===null){X=s;try{X.stateNode.nodeValue=y?"":X.memoizedProps}catch(Ge){xt(X,X.return,Ge)}}}else if(s.tag===18){if(c===null){X=s;try{var pe=X.stateNode;y?p1(pe,!0):p1(X.stateNode,!1)}catch(Ge){xt(X,X.return,Ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Gc(a,c))));break;case 19:Pn(s,a),jn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Gc(a,h)));break;case 30:break;case 21:break;default:Pn(s,a),jn(a)}}function jn(a){var s=a.flags;if(s&2){try{for(var c,h=a.return;h!==null;){if(gx(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,S=d0(a);Hc(a,S,y);break;case 5:var N=c.stateNode;c.flags&32&&(fs(N,""),c.flags&=-33);var D=d0(a);Hc(a,D,N);break;case 3:case 4:var X=c.stateNode.containerInfo,ie=d0(a);f0(a,ie,X);break;default:throw Error(r(161))}}catch(xe){xt(a,a.return,xe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function wx(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;wx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function fa(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)yx(a,s.alternate,s),s=s.sibling}function Pi(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:$a(4,s,s.return),Pi(s);break;case 1:$r(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&px(s,s.return,c),Pi(s);break;case 27:ao(s.stateNode);case 26:case 5:$r(s,s.return),Pi(s);break;case 22:s.memoizedState===null&&Pi(s);break;case 30:Pi(s);break;default:Pi(s)}a=a.sibling}}function ha(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=a,S=s,N=S.flags;switch(S.tag){case 0:case 11:case 15:ha(y,S,c),Jl(4,S);break;case 1:if(ha(y,S,c),h=S,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ie){xt(h,h.return,ie)}if(h=S,y=h.updateQueue,y!==null){var D=h.stateNode;try{var X=y.shared.hiddenCallbacks;if(X!==null)for(y.shared.hiddenCallbacks=null,y=0;y<X.length;y++)ng(X[y],D)}catch(ie){xt(h,h.return,ie)}}c&&N&64&&hx(S),Xl(S,S.return);break;case 27:xx(S);case 26:case 5:ha(y,S,c),c&&h===null&&N&4&&mx(S),Xl(S,S.return);break;case 12:ha(y,S,c);break;case 31:ha(y,S,c),c&&N&4&&Ex(y,S);break;case 13:ha(y,S,c),c&&N&4&&_x(y,S);break;case 22:S.memoizedState===null&&ha(y,S,c),Xl(S,S.return);break;case 30:break;default:ha(y,S,c)}s=s.sibling}}function p0(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Ll(c))}function m0(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ll(a))}function Rr(a,s,c,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Nx(a,s,c,h),s=s.sibling}function Nx(a,s,c,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Rr(a,s,c,h),y&2048&&Jl(9,s);break;case 1:Rr(a,s,c,h);break;case 3:Rr(a,s,c,h),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ll(a)));break;case 12:if(y&2048){Rr(a,s,c,h),a=s.stateNode;try{var S=s.memoizedProps,N=S.id,D=S.onPostCommit;typeof D=="function"&&D(N,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(X){xt(s,s.return,X)}}else Rr(a,s,c,h);break;case 31:Rr(a,s,c,h);break;case 13:Rr(a,s,c,h);break;case 23:break;case 22:S=s.stateNode,N=s.alternate,s.memoizedState!==null?S._visibility&2?Rr(a,s,c,h):Wl(a,s):S._visibility&2?Rr(a,s,c,h):(S._visibility|=2,Ds(a,s,c,h,(s.subtreeFlags&10256)!==0||!1)),y&2048&&p0(N,s);break;case 24:Rr(a,s,c,h),y&2048&&m0(s.alternate,s);break;default:Rr(a,s,c,h)}}function Ds(a,s,c,h,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=a,N=s,D=c,X=h,ie=N.flags;switch(N.tag){case 0:case 11:case 15:Ds(S,N,D,X,y),Jl(8,N);break;case 23:break;case 22:var xe=N.stateNode;N.memoizedState!==null?xe._visibility&2?Ds(S,N,D,X,y):Wl(S,N):(xe._visibility|=2,Ds(S,N,D,X,y)),y&&ie&2048&&p0(N.alternate,N);break;case 24:Ds(S,N,D,X,y),y&&ie&2048&&m0(N.alternate,N);break;default:Ds(S,N,D,X,y)}s=s.sibling}}function Wl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,h=s,y=h.flags;switch(h.tag){case 22:Wl(c,h),y&2048&&p0(h.alternate,h);break;case 24:Wl(c,h),y&2048&&m0(h.alternate,h);break;default:Wl(c,h)}s=s.sibling}}var Kl=8192;function Is(a,s,c){if(a.subtreeFlags&Kl)for(a=a.child;a!==null;)Ax(a,s,c),a=a.sibling}function Ax(a,s,c){switch(a.tag){case 26:Is(a,s,c),a.flags&Kl&&a.memoizedState!==null&&mw(c,Cr,a.memoizedState,a.memoizedProps);break;case 5:Is(a,s,c);break;case 3:case 4:var h=Cr;Cr=ru(a.stateNode.containerInfo),Is(a,s,c),Cr=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Kl,Kl=16777216,Is(a,s,c),Kl=h):Is(a,s,c));break;default:Is(a,s,c)}}function kx(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Ql(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];nn=h,Rx(h,a)}kx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cx(a),a=a.sibling}function Cx(a){switch(a.tag){case 0:case 11:case 15:Ql(a),a.flags&2048&&$a(9,a,a.return);break;case 3:Ql(a);break;case 12:Ql(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Vc(a)):Ql(a);break;default:Ql(a)}}function Vc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];nn=h,Rx(h,a)}kx(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:$a(8,s,s.return),Vc(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Vc(s));break;default:Vc(s)}a=a.sibling}}function Rx(a,s){for(;nn!==null;){var c=nn;switch(c.tag){case 0:case 11:case 15:$a(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ll(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,nn=h;else e:for(c=a;nn!==null;){h=nn;var y=h.sibling,S=h.return;if(bx(h),h===c){nn=null;break e}if(y!==null){y.return=S,nn=y;break e}nn=S}}}var RT={getCacheForType:function(a){var s=cn($t),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return cn($t).controller.signal}},MT=typeof WeakMap=="function"?WeakMap:Map,ft=0,At=null,tt=null,rt=0,gt=0,Wn=null,Ya=!1,Fs=!1,g0=!1,pa=0,zt=0,Ja=0,ji=0,x0=0,Kn=0,Ls=0,Zl=null,On=null,v0=!1,qc=0,Mx=0,$c=1/0,Yc=null,Xa=null,Zt=0,Wa=null,Ps=null,ma=0,y0=0,b0=null,Dx=null,eo=0,S0=null;function Qn(){return(ft&2)!==0&&rt!==0?rt&-rt:Q.T!==null?A0():C()}function Ix(){if(Kn===0)if((rt&536870912)===0||it){var a=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),Kn=a}else Kn=536870912;return a=Jn.current,a!==null&&(a.flags|=32),Kn}function Un(a,s,c){(a===At&&(gt===2||gt===9)||a.cancelPendingCommit!==null)&&(js(a,0),Ka(a,rt,Kn,!1)),bi(a,c),((ft&2)===0||a!==At)&&(a===At&&((ft&2)===0&&(ji|=c),zt===4&&Ka(a,rt,Kn,!1)),Yr(a))}function Fx(a,s,c){if((ft&6)!==0)throw Error(r(327));var h=!c&&(s&127)===0&&(s&a.expiredLanes)===0||yi(a,s),y=h?FT(a,s):_0(a,s,!0),S=h;do{if(y===0){Fs&&!h&&Ka(a,s,0,!1);break}else{if(c=a.current.alternate,S&&!DT(c)){y=_0(a,s,!1),S=!1;continue}if(y===2){if(S=s,a.errorRecoveryDisabledLanes&S)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var D=a;y=Zl;var X=D.current.memoizedState.isDehydrated;if(X&&(js(D,N).flags|=256),N=_0(D,N,!1),N!==2){if(g0&&!X){D.errorRecoveryDisabledLanes|=S,ji|=S,y=4;break e}S=On,On=y,S!==null&&(On===null?On=S:On.push.apply(On,S))}y=N}if(S=!1,y!==2)continue}}if(y===1){js(a,0),Ka(a,s,0,!0);break}e:{switch(h=a,S=y,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ka(h,s,Kn,!Ya);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=qc+300-Lt(),10<y)){if(Ka(h,s,Kn,!Ya),cs(h,0,!0)!==0)break e;ma=s,h.timeoutHandle=d1(Lx.bind(null,h,c,On,Yc,v0,s,Kn,ji,Ls,Ya,S,"Throttled",-0,0),y);break e}Lx(h,c,On,Yc,v0,s,Kn,ji,Ls,Ya,S,null,-0,0)}}break}while(!0);Yr(a)}function Lx(a,s,c,h,y,S,N,D,X,ie,xe,Se,ce,pe){if(a.timeoutHandle=-1,Se=s.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},Ax(s,S,Se);var Ge=(S&62914560)===S?qc-Lt():(S&4194048)===S?Mx-Lt():0;if(Ge=gw(Se,Ge),Ge!==null){ma=S,a.cancelPendingCommit=Ge(Gx.bind(null,a,s,S,c,h,y,N,D,X,xe,Se,null,ce,pe)),Ka(a,S,N,!ie);return}}Gx(a,s,S,c,h,y,N,D,X)}function DT(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],S=y.getSnapshot;y=y.value;try{if(!$n(S(),y))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ka(a,s,c,h){s&=~x0,s&=~ji,a.suspendedLanes|=s,a.pingedLanes&=~s,h&&(a.warmLanes|=s),h=a.expirationTimes;for(var y=s;0<y;){var S=31-Tn(y),N=1<<S;h[S]=-1,y&=~N}c!==0&&rc(a,c,s)}function Jc(){return(ft&6)===0?(to(0),!1):!0}function E0(){if(tt!==null){if(gt===0)var a=tt.return;else a=tt,aa=ki=null,Of(a),As=null,jl=0,a=tt;for(;a!==null;)fx(a.alternate,a),a=a.return;tt=null}}function js(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,QT(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ma=0,E0(),At=a,tt=c=na(a.current,null),rt=s,gt=0,Wn=null,Ya=!1,Fs=yi(a,s),g0=!1,Ls=Kn=x0=ji=Ja=zt=0,On=Zl=null,v0=!1,(s&8)!==0&&(s|=s&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=s;0<h;){var y=31-Tn(h),S=1<<y;s|=a[y],h&=~S}return pa=s,mc(),c}function Px(a,s){We=null,Q.H=ql,s===Ns||s===_c?(s=Qm(),gt=3):s===Nf?(s=Qm(),gt=4):gt=s===e0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Wn=s,tt===null&&(zt=1,jc(a,fr(s,a.current)))}function jx(){var a=Jn.current;return a===null?!0:(rt&4194048)===rt?gr===null:(rt&62914560)===rt||(rt&536870912)!==0?a===gr:!1}function Ox(){var a=Q.H;return Q.H=ql,a===null?ql:a}function Ux(){var a=Q.A;return Q.A=RT,a}function Xc(){zt=4,Ya||(rt&4194048)!==rt&&Jn.current!==null||(Fs=!0),(Ja&134217727)===0&&(ji&134217727)===0||At===null||Ka(At,rt,Kn,!1)}function _0(a,s,c){var h=ft;ft|=2;var y=Ox(),S=Ux();(At!==a||rt!==s)&&(Yc=null,js(a,s)),s=!1;var N=zt;e:do try{if(gt!==0&&tt!==null){var D=tt,X=Wn;switch(gt){case 8:E0(),N=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(s=!0);var ie=gt;if(gt=0,Wn=null,Os(a,D,X,ie),c&&Fs){N=0;break e}break;default:ie=gt,gt=0,Wn=null,Os(a,D,X,ie)}}IT(),N=zt;break}catch(xe){Px(a,xe)}while(!0);return s&&a.shellSuspendCounter++,aa=ki=null,ft=h,Q.H=y,Q.A=S,tt===null&&(At=null,rt=0,mc()),N}function IT(){for(;tt!==null;)Bx(tt)}function FT(a,s){var c=ft;ft|=2;var h=Ox(),y=Ux();At!==a||rt!==s?(Yc=null,$c=Lt()+500,js(a,s)):Fs=yi(a,s);e:do try{if(gt!==0&&tt!==null){s=tt;var S=Wn;t:switch(gt){case 1:gt=0,Wn=null,Os(a,s,S,1);break;case 2:case 9:if(Wm(S)){gt=0,Wn=null,zx(s);break}s=function(){gt!==2&&gt!==9||At!==a||(gt=7),Yr(a)},S.then(s,s);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:Wm(S)?(gt=0,Wn=null,zx(s)):(gt=0,Wn=null,Os(a,s,S,7));break;case 5:var N=null;switch(tt.tag){case 26:N=tt.memoizedState;case 5:case 27:var D=tt;if(N?N1(N):D.stateNode.complete){gt=0,Wn=null;var X=D.sibling;if(X!==null)tt=X;else{var ie=D.return;ie!==null?(tt=ie,Wc(ie)):tt=null}break t}}gt=0,Wn=null,Os(a,s,S,5);break;case 6:gt=0,Wn=null,Os(a,s,S,6);break;case 8:E0(),zt=6;break e;default:throw Error(r(462))}}LT();break}catch(xe){Px(a,xe)}while(!0);return aa=ki=null,Q.H=h,Q.A=y,ft=c,tt!==null?0:(At=null,rt=0,mc(),zt)}function LT(){for(;tt!==null&&!Ko();)Bx(tt)}function Bx(a){var s=ux(a.alternate,a,pa);a.memoizedProps=a.pendingProps,s===null?Wc(a):tt=s}function zx(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=ax(c,s,s.pendingProps,s.type,void 0,rt);break;case 11:s=ax(c,s,s.pendingProps,s.type.render,s.ref,rt);break;case 5:Of(s);default:fx(c,s),s=tt=Um(s,pa),s=ux(c,s,pa)}a.memoizedProps=a.pendingProps,s===null?Wc(a):tt=s}function Os(a,s,c,h){aa=ki=null,Of(s),As=null,jl=0;var y=s.return;try{if(_T(a,y,s,c,rt)){zt=1,jc(a,fr(c,a.current)),tt=null;return}}catch(S){if(y!==null)throw tt=y,S;zt=1,jc(a,fr(c,a.current)),tt=null;return}s.flags&32768?(it||h===1?a=!0:Fs||(rt&536870912)!==0?a=!1:(Ya=a=!0,(h===2||h===9||h===3||h===6)&&(h=Jn.current,h!==null&&h.tag===13&&(h.flags|=16384))),Hx(s,a)):Wc(s)}function Wc(a){var s=a;do{if((s.flags&32768)!==0){Hx(s,Ya);return}a=s.return;var c=NT(s.alternate,s,pa);if(c!==null){tt=c;return}if(s=s.sibling,s!==null){tt=s;return}tt=s=a}while(s!==null);zt===0&&(zt=5)}function Hx(a,s){do{var c=AT(a.alternate,a);if(c!==null){c.flags&=32767,tt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){tt=a;return}tt=a=c}while(a!==null);zt=6,tt=null}function Gx(a,s,c,h,y,S,N,D,X){a.cancelPendingCommit=null;do Kc();while(Zt!==0);if((ft&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=df,Hd(a,c,S,N,D,X),a===At&&(tt=At=null,rt=0),Ps=s,Wa=a,ma=c,y0=S,b0=y,Dx=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,UT(sr,function(){return Jx(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=Q.T,Q.T=null,y=ye.p,ye.p=2,N=ft,ft|=4;try{kT(a,s,c)}finally{ft=N,ye.p=y,Q.T=h}}Zt=1,Vx(),qx(),$x()}}function Vx(){if(Zt===1){Zt=0;var a=Wa,s=Ps,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null;var h=ye.p;ye.p=2;var y=ft;ft|=4;try{Tx(s,a);var S=L0,N=Rm(a.containerInfo),D=S.focusedElem,X=S.selectionRange;if(N!==D&&D&&D.ownerDocument&&Cm(D.ownerDocument.documentElement,D)){if(X!==null&&sf(D)){var ie=X.start,xe=X.end;if(xe===void 0&&(xe=ie),"selectionStart"in D)D.selectionStart=ie,D.selectionEnd=Math.min(xe,D.value.length);else{var Se=D.ownerDocument||document,ce=Se&&Se.defaultView||window;if(ce.getSelection){var pe=ce.getSelection(),Ge=D.textContent.length,Ye=Math.min(X.start,Ge),wt=X.end===void 0?Ye:Math.min(X.end,Ge);!pe.extend&&Ye>wt&&(N=wt,wt=Ye,Ye=N);var ne=km(D,Ye),Z=km(D,wt);if(ne&&Z&&(pe.rangeCount!==1||pe.anchorNode!==ne.node||pe.anchorOffset!==ne.offset||pe.focusNode!==Z.node||pe.focusOffset!==Z.offset)){var ae=Se.createRange();ae.setStart(ne.node,ne.offset),pe.removeAllRanges(),Ye>wt?(pe.addRange(ae),pe.extend(Z.node,Z.offset)):(ae.setEnd(Z.node,Z.offset),pe.addRange(ae))}}}}for(Se=[],pe=D;pe=pe.parentNode;)pe.nodeType===1&&Se.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<Se.length;D++){var be=Se[D];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}cu=!!F0,L0=F0=null}finally{ft=y,ye.p=h,Q.T=c}}a.current=s,Zt=2}}function qx(){if(Zt===2){Zt=0;var a=Wa,s=Ps,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=Q.T,Q.T=null;var h=ye.p;ye.p=2;var y=ft;ft|=4;try{yx(a,s.alternate,s)}finally{ft=y,ye.p=h,Q.T=c}}Zt=3}}function $x(){if(Zt===4||Zt===3){Zt=0,vl();var a=Wa,s=Ps,c=ma,h=Dx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,Ps=Wa=null,Yx(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Xa=null),El(c),s=s.stateNode,vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Fa,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=Q.T,y=ye.p,ye.p=2,Q.T=null;try{for(var S=a.onRecoverableError,N=0;N<h.length;N++){var D=h[N];S(D.value,{componentStack:D.stack})}}finally{Q.T=s,ye.p=y}}(ma&3)!==0&&Kc(),Yr(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===S0?eo++:(eo=0,S0=a):eo=0,to(0)}}function Yx(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Ll(s)))}function Kc(){return Vx(),qx(),$x(),Jx()}function Jx(){if(Zt!==5)return!1;var a=Wa,s=y0;y0=0;var c=El(ma),h=Q.T,y=ye.p;try{ye.p=32>c?32:c,Q.T=null,c=b0,b0=null;var S=Wa,N=ma;if(Zt=0,Ps=Wa=null,ma=0,(ft&6)!==0)throw Error(r(331));var D=ft;if(ft|=4,Cx(S.current),Nx(S,S.current,N,c),ft=D,to(0,!1),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Fa,S)}catch{}return!0}finally{ye.p=y,Q.T=h,Yx(a,s)}}function Xx(a,s,c){s=fr(c,s),s=Zf(a.stateNode,s,2),a=Ga(a,s,2),a!==null&&(bi(a,2),Yr(a))}function xt(a,s,c){if(a.tag===3)Xx(a,a,c);else for(;s!==null;){if(s.tag===3){Xx(s,a,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Xa===null||!Xa.has(h))){a=fr(c,a),c=Wg(2),h=Ga(s,c,2),h!==null&&(Kg(c,h,s,a),bi(h,2),Yr(h));break}}s=s.return}}function T0(a,s,c){var h=a.pingCache;if(h===null){h=a.pingCache=new MT;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(c)||(g0=!0,y.add(c),a=PT.bind(null,a,s,c),s.then(a,a))}function PT(a,s,c){var h=a.pingCache;h!==null&&h.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,At===a&&(rt&c)===c&&(zt===4||zt===3&&(rt&62914560)===rt&&300>Lt()-qc?(ft&2)===0&&js(a,0):x0|=c,Ls===rt&&(Ls=0)),Yr(a)}function Wx(a,s){s===0&&(s=nc()),a=wi(a,s),a!==null&&(bi(a,s),Yr(a))}function jT(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),Wx(a,c)}function OT(a,s){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Wx(a,c)}function UT(a,s){return Nr(a,s)}var Qc=null,Us=null,w0=!1,Zc=!1,N0=!1,Qa=0;function Yr(a){a!==Us&&a.next===null&&(Us===null?Qc=Us=a:Us=Us.next=a),Zc=!0,w0||(w0=!0,zT())}function to(a,s){if(!N0&&Zc){N0=!0;do for(var c=!1,h=Qc;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var S=0;else{var N=h.suspendedLanes,D=h.pingedLanes;S=(1<<31-Tn(42|a)+1)-1,S&=y&~(N&~D),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,e1(h,S))}else S=rt,S=cs(h,h===At?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(S&3)===0||yi(h,S)||(c=!0,e1(h,S));h=h.next}while(c);N0=!1}}function BT(){Kx()}function Kx(){Zc=w0=!1;var a=0;Qa!==0&&KT()&&(a=Qa);for(var s=Lt(),c=null,h=Qc;h!==null;){var y=h.next,S=Qx(h,s);S===0?(h.next=null,c===null?Qc=y:c.next=y,y===null&&(Us=c)):(c=h,(a!==0||(S&3)!==0)&&(Zc=!0)),h=y}Zt!==0&&Zt!==5||to(a),Qa!==0&&(Qa=0)}function Qx(a,s){for(var c=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var N=31-Tn(S),D=1<<N,X=y[N];X===-1?((D&c)===0||(D&h)!==0)&&(y[N]=zd(D,s)):X<=s&&(a.expiredLanes|=D),S&=~D}if(s=At,c=rt,c=cs(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===s&&(gt===2||gt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Hr(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||yi(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(h!==null&&Hr(h),El(c)){case 2:case 8:c=ss;break;case 32:c=sr;break;case 268435456:c=yl;break;default:c=sr}return h=Zx.bind(null,a),c=Nr(c,h),a.callbackPriority=s,a.callbackNode=c,s}return h!==null&&h!==null&&Hr(h),a.callbackPriority=2,a.callbackNode=null,2}function Zx(a,s){if(Zt!==0&&Zt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Kc()&&a.callbackNode!==c)return null;var h=rt;return h=cs(a,a===At?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(Fx(a,h,s),Qx(a,Lt()),a.callbackNode!=null&&a.callbackNode===c?Zx.bind(null,a):null)}function e1(a,s){if(Kc())return null;Fx(a,s,!0)}function zT(){ZT(function(){(ft&6)!==0?Nr(is,BT):Kx()})}function A0(){if(Qa===0){var a=Ts;a===0&&(a=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Qa=a}return Qa}function t1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:lc(""+a)}function n1(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function HT(a,s,c,h,y){if(s==="submit"&&c&&c.stateNode===y){var S=t1((y[z]||null).action),N=h.submitter;N&&(s=(s=N[z]||null)?t1(s.formAction):N.getAttribute("formAction"),s!==null&&(S=s,N=null));var D=new dc("action","action",null,h,y);a.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Qa!==0){var X=N?n1(y,N):new FormData(y);Yf(c,{pending:!0,data:X,method:y.method,action:S},null,X)}}else typeof S=="function"&&(D.preventDefault(),X=N?n1(y,N):new FormData(y),Yf(c,{pending:!0,data:X,method:y.method,action:S},S,X))},currentTarget:y}]})}}for(var k0=0;k0<uf.length;k0++){var C0=uf[k0],GT=C0.toLowerCase(),VT=C0[0].toUpperCase()+C0.slice(1);kr(GT,"on"+VT)}kr(Im,"onAnimationEnd"),kr(Fm,"onAnimationIteration"),kr(Lm,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(sT,"onTransitionRun"),kr(lT,"onTransitionStart"),kr(oT,"onTransitionCancel"),kr(Pm,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),Pt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function r1(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],y=h.event;h=h.listeners;e:{var S=void 0;if(s)for(var N=h.length-1;0<=N;N--){var D=h[N],X=D.instance,ie=D.currentTarget;if(D=D.listener,X!==S&&y.isPropagationStopped())break e;S=D,y.currentTarget=ie;try{S(y)}catch(xe){pc(xe)}y.currentTarget=null,S=X}else for(N=0;N<h.length;N++){if(D=h[N],X=D.instance,ie=D.currentTarget,D=D.listener,X!==S&&y.isPropagationStopped())break e;S=D,y.currentTarget=ie;try{S(y)}catch(xe){pc(xe)}y.currentTarget=null,S=X}}}}function nt(a,s){var c=s[se];c===void 0&&(c=s[se]=new Set);var h=a+"__bubble";c.has(h)||(a1(s,a,2,!1),c.add(h))}function R0(a,s,c){var h=0;s&&(h|=4),a1(c,a,h,s)}var eu="_reactListening"+Math.random().toString(36).slice(2);function M0(a){if(!a[eu]){a[eu]=!0,Rt.forEach(function(c){c!=="selectionchange"&&(qT.has(c)||R0(c,!1,a),R0(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[eu]||(s[eu]=!0,R0("selectionchange",!1,s))}}function a1(a,s,c,h){switch(I1(s)){case 2:var y=yw;break;case 8:y=bw;break;default:y=$0}c=y.bind(null,s,c,a),y=void 0,!Wd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(s,c,{capture:!0,passive:y}):a.addEventListener(s,c,!0):y!==void 0?a.addEventListener(s,c,{passive:y}):a.addEventListener(s,c,!1)}function D0(a,s,c,h,y){var S=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var D=h.stateNode.containerInfo;if(D===y)break;if(N===4)for(N=h.return;N!==null;){var X=N.tag;if((X===3||X===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;D!==null;){if(N=Ce(D),N===null)return;if(X=N.tag,X===5||X===6||X===26||X===27){h=S=N;continue e}D=D.parentNode}}h=h.return}cm(function(){var ie=S,xe=Jd(c),Se=[];e:{var ce=jm.get(a);if(ce!==void 0){var pe=dc,Ge=a;switch(a){case"keypress":if(cc(c)===0)break e;case"keydown":case"keyup":pe=O_;break;case"focusin":Ge="focus",pe=ef;break;case"focusout":Ge="blur",pe=ef;break;case"beforeblur":case"afterblur":pe=ef;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=N_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=z_;break;case Im:case Fm:case Lm:pe=C_;break;case Pm:pe=G_;break;case"scroll":case"scrollend":pe=T_;break;case"wheel":pe=q_;break;case"copy":case"cut":case"paste":pe=M_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=pm;break;case"toggle":case"beforetoggle":pe=Y_}var Ye=(s&4)!==0,wt=!Ye&&(a==="scroll"||a==="scrollend"),ne=Ye?ce!==null?ce+"Capture":null:ce;Ye=[];for(var Z=ie,ae;Z!==null;){var be=Z;if(ae=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ae===null||ne===null||(be=Tl(Z,ne),be!=null&&Ye.push(ro(Z,be,ae))),wt)break;Z=Z.return}0<Ye.length&&(ce=new pe(ce,Ge,null,c,xe),Se.push({event:ce,listeners:Ye}))}}if((s&7)===0){e:{if(ce=a==="mouseover"||a==="pointerover",pe=a==="mouseout"||a==="pointerout",ce&&c!==Yd&&(Ge=c.relatedTarget||c.fromElement)&&(Ce(Ge)||Ge[G]))break e;if((pe||ce)&&(ce=xe.window===xe?xe:(ce=xe.ownerDocument)?ce.defaultView||ce.parentWindow:window,pe?(Ge=c.relatedTarget||c.toElement,pe=ie,Ge=Ge?Ce(Ge):null,Ge!==null&&(wt=l(Ge),Ye=Ge.tag,Ge!==wt||Ye!==5&&Ye!==27&&Ye!==6)&&(Ge=null)):(pe=null,Ge=ie),pe!==Ge)){if(Ye=fm,be="onMouseLeave",ne="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(Ye=pm,be="onPointerLeave",ne="onPointerEnter",Z="pointer"),wt=pe==null?ce:we(pe),ae=Ge==null?ce:we(Ge),ce=new Ye(be,Z+"leave",pe,c,xe),ce.target=wt,ce.relatedTarget=ae,be=null,Ce(xe)===ie&&(Ye=new Ye(ne,Z+"enter",Ge,c,xe),Ye.target=ae,Ye.relatedTarget=wt,be=Ye),wt=be,pe&&Ge)t:{for(Ye=$T,ne=pe,Z=Ge,ae=0,be=ne;be;be=Ye(be))ae++;be=0;for(var $e=Z;$e;$e=Ye($e))be++;for(;0<ae-be;)ne=Ye(ne),ae--;for(;0<be-ae;)Z=Ye(Z),be--;for(;ae--;){if(ne===Z||Z!==null&&ne===Z.alternate){Ye=ne;break t}ne=Ye(ne),Z=Ye(Z)}Ye=null}else Ye=null;pe!==null&&i1(Se,ce,pe,Ye,!1),Ge!==null&&wt!==null&&i1(Se,wt,Ge,Ye,!0)}}e:{if(ce=ie?we(ie):window,pe=ce.nodeName&&ce.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ce.type==="file")var ot=Em;else if(bm(ce))if(_m)ot=rT;else{ot=tT;var qe=eT}else pe=ce.nodeName,!pe||pe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?ie&&$d(ie.elementType)&&(ot=Em):ot=nT;if(ot&&(ot=ot(a,ie))){Sm(Se,ot,c,xe);break e}qe&&qe(a,ce,ie),a==="focusout"&&ie&&ce.type==="number"&&ie.memoizedProps.value!=null&&qd(ce,"number",ce.value)}switch(qe=ie?we(ie):window,a){case"focusin":(bm(qe)||qe.contentEditable==="true")&&(gs=qe,lf=ie,Dl=null);break;case"focusout":Dl=lf=gs=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Mm(Se,c,xe);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Mm(Se,c,xe)}var Ke;if(nf)e:{switch(a){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else ms?vm(a,c)&&(at="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(at="onCompositionStart");at&&(mm&&c.locale!=="ko"&&(ms||at!=="onCompositionStart"?at==="onCompositionEnd"&&ms&&(Ke=um()):(Pa=xe,Kd="value"in Pa?Pa.value:Pa.textContent,ms=!0)),qe=tu(ie,at),0<qe.length&&(at=new hm(at,a,null,c,xe),Se.push({event:at,listeners:qe}),Ke?at.data=Ke:(Ke=ym(c),Ke!==null&&(at.data=Ke)))),(Ke=X_?W_(a,c):K_(a,c))&&(at=tu(ie,"onBeforeInput"),0<at.length&&(qe=new hm("onBeforeInput","beforeinput",null,c,xe),Se.push({event:qe,listeners:at}),qe.data=Ke)),HT(Se,a,ie,c,xe)}r1(Se,s)})}function ro(a,s,c){return{instance:a,listener:s,currentTarget:c}}function tu(a,s){for(var c=s+"Capture",h=[];a!==null;){var y=a,S=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||S===null||(y=Tl(a,c),y!=null&&h.unshift(ro(a,y,S)),y=Tl(a,s),y!=null&&h.push(ro(a,y,S))),a.tag===3)return h;a=a.return}return[]}function $T(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function i1(a,s,c,h,y){for(var S=s._reactName,N=[];c!==null&&c!==h;){var D=c,X=D.alternate,ie=D.stateNode;if(D=D.tag,X!==null&&X===h)break;D!==5&&D!==26&&D!==27||ie===null||(X=ie,y?(ie=Tl(c,S),ie!=null&&N.unshift(ro(c,ie,X))):y||(ie=Tl(c,S),ie!=null&&N.push(ro(c,ie,X)))),c=c.return}N.length!==0&&a.push({event:s,listeners:N})}var YT=/\r\n?/g,JT=/\u0000|\uFFFD/g;function s1(a){return(typeof a=="string"?a:""+a).replace(YT,`
`).replace(JT,"")}function l1(a,s){return s=s1(s),s1(a)===s}function Tt(a,s,c,h,y,S){switch(c){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||fs(a,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&fs(a,""+h);break;case"className":ic(a,"class",h);break;case"tabIndex":ic(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ic(a,c,h);break;case"style":lm(a,h,S);break;case"data":if(s!=="object"){ic(a,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=lc(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(s!=="input"&&Tt(a,s,"name",y.name,y,null),Tt(a,s,"formEncType",y.formEncType,y,null),Tt(a,s,"formMethod",y.formMethod,y,null),Tt(a,s,"formTarget",y.formTarget,y,null)):(Tt(a,s,"encType",y.encType,y,null),Tt(a,s,"method",y.method,y,null),Tt(a,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=lc(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=ea);break;case"onScroll":h!=null&&nt("scroll",a);break;case"onScrollEnd":h!=null&&nt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=lc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":nt("beforetoggle",a),nt("toggle",a),In(a,"popover",h);break;case"xlinkActuate":Zr(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Zr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Zr(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Zr(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Zr(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Zr(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Zr(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Zr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Zr(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":In(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=E_.get(c)||c,In(a,c,h))}}function I0(a,s,c,h,y,S){switch(c){case"style":lm(a,h,S);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof h=="string"?fs(a,h):(typeof h=="number"||typeof h=="bigint")&&fs(a,""+h);break;case"onScroll":h!=null&&nt("scroll",a);break;case"onScrollEnd":h!=null&&nt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mt.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),s=c.slice(2,y?c.length-7:void 0),S=a[z]||null,S=S!=null?S[c]:null,typeof S=="function"&&a.removeEventListener(s,S,y),typeof h=="function")){typeof S!="function"&&S!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,h,y);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):In(a,c,h)}}}function dn(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",a),nt("load",a);var h=!1,y=!1,S;for(S in c)if(c.hasOwnProperty(S)){var N=c[S];if(N!=null)switch(S){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Tt(a,s,S,N,c,null)}}y&&Tt(a,s,"srcSet",c.srcSet,c,null),h&&Tt(a,s,"src",c.src,c,null);return;case"input":nt("invalid",a);var D=S=N=y=null,X=null,ie=null;for(h in c)if(c.hasOwnProperty(h)){var xe=c[h];if(xe!=null)switch(h){case"name":y=xe;break;case"type":N=xe;break;case"checked":X=xe;break;case"defaultChecked":ie=xe;break;case"value":S=xe;break;case"defaultValue":D=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,s));break;default:Tt(a,s,h,xe,c,null)}}rm(a,S,D,X,ie,N,y,!1);return;case"select":nt("invalid",a),h=N=S=null;for(y in c)if(c.hasOwnProperty(y)&&(D=c[y],D!=null))switch(y){case"value":S=D;break;case"defaultValue":N=D;break;case"multiple":h=D;default:Tt(a,s,y,D,c,null)}s=S,c=N,a.multiple=!!h,s!=null?ds(a,!!h,s,!1):c!=null&&ds(a,!!h,c,!0);return;case"textarea":nt("invalid",a),S=y=h=null;for(N in c)if(c.hasOwnProperty(N)&&(D=c[N],D!=null))switch(N){case"value":h=D;break;case"defaultValue":y=D;break;case"children":S=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Tt(a,s,N,D,c,null)}im(a,h,y,S);return;case"option":for(X in c)if(c.hasOwnProperty(X)&&(h=c[X],h!=null))switch(X){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Tt(a,s,X,h,c,null)}return;case"dialog":nt("beforetoggle",a),nt("toggle",a),nt("cancel",a),nt("close",a);break;case"iframe":case"object":nt("load",a);break;case"video":case"audio":for(h=0;h<no.length;h++)nt(no[h],a);break;case"image":nt("error",a),nt("load",a);break;case"details":nt("toggle",a);break;case"embed":case"source":case"link":nt("error",a),nt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in c)if(c.hasOwnProperty(ie)&&(h=c[ie],h!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Tt(a,s,ie,h,c,null)}return;default:if($d(s)){for(xe in c)c.hasOwnProperty(xe)&&(h=c[xe],h!==void 0&&I0(a,s,xe,h,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(h=c[D],h!=null&&Tt(a,s,D,h,c,null))}function XT(a,s,c,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,S=null,N=null,D=null,X=null,ie=null,xe=null;for(pe in c){var Se=c[pe];if(c.hasOwnProperty(pe)&&Se!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":X=Se;default:h.hasOwnProperty(pe)||Tt(a,s,pe,null,h,Se)}}for(var ce in h){var pe=h[ce];if(Se=c[ce],h.hasOwnProperty(ce)&&(pe!=null||Se!=null))switch(ce){case"type":S=pe;break;case"name":y=pe;break;case"checked":ie=pe;break;case"defaultChecked":xe=pe;break;case"value":N=pe;break;case"defaultValue":D=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,s));break;default:pe!==Se&&Tt(a,s,ce,pe,h,Se)}}Vd(a,N,D,X,ie,xe,S,y);return;case"select":pe=N=D=ce=null;for(S in c)if(X=c[S],c.hasOwnProperty(S)&&X!=null)switch(S){case"value":break;case"multiple":pe=X;default:h.hasOwnProperty(S)||Tt(a,s,S,null,h,X)}for(y in h)if(S=h[y],X=c[y],h.hasOwnProperty(y)&&(S!=null||X!=null))switch(y){case"value":ce=S;break;case"defaultValue":D=S;break;case"multiple":N=S;default:S!==X&&Tt(a,s,y,S,h,X)}s=D,c=N,h=pe,ce!=null?ds(a,!!c,ce,!1):!!h!=!!c&&(s!=null?ds(a,!!c,s,!0):ds(a,!!c,c?[]:"",!1));return;case"textarea":pe=ce=null;for(D in c)if(y=c[D],c.hasOwnProperty(D)&&y!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Tt(a,s,D,null,h,y)}for(N in h)if(y=h[N],S=c[N],h.hasOwnProperty(N)&&(y!=null||S!=null))switch(N){case"value":ce=y;break;case"defaultValue":pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==S&&Tt(a,s,N,y,h,S)}am(a,ce,pe);return;case"option":for(var Ge in c)if(ce=c[Ge],c.hasOwnProperty(Ge)&&ce!=null&&!h.hasOwnProperty(Ge))switch(Ge){case"selected":a.selected=!1;break;default:Tt(a,s,Ge,null,h,ce)}for(X in h)if(ce=h[X],pe=c[X],h.hasOwnProperty(X)&&ce!==pe&&(ce!=null||pe!=null))switch(X){case"selected":a.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Tt(a,s,X,ce,h,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in c)ce=c[Ye],c.hasOwnProperty(Ye)&&ce!=null&&!h.hasOwnProperty(Ye)&&Tt(a,s,Ye,null,h,ce);for(ie in h)if(ce=h[ie],pe=c[ie],h.hasOwnProperty(ie)&&ce!==pe&&(ce!=null||pe!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:Tt(a,s,ie,ce,h,pe)}return;default:if($d(s)){for(var wt in c)ce=c[wt],c.hasOwnProperty(wt)&&ce!==void 0&&!h.hasOwnProperty(wt)&&I0(a,s,wt,void 0,h,ce);for(xe in h)ce=h[xe],pe=c[xe],!h.hasOwnProperty(xe)||ce===pe||ce===void 0&&pe===void 0||I0(a,s,xe,ce,h,pe);return}}for(var ne in c)ce=c[ne],c.hasOwnProperty(ne)&&ce!=null&&!h.hasOwnProperty(ne)&&Tt(a,s,ne,null,h,ce);for(Se in h)ce=h[Se],pe=c[Se],!h.hasOwnProperty(Se)||ce===pe||ce==null&&pe==null||Tt(a,s,Se,ce,h,pe)}function o1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WT(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var y=c[h],S=y.transferSize,N=y.initiatorType,D=y.duration;if(S&&D&&o1(N)){for(N=0,D=y.responseEnd,h+=1;h<c.length;h++){var X=c[h],ie=X.startTime;if(ie>D)break;var xe=X.transferSize,Se=X.initiatorType;xe&&o1(Se)&&(X=X.responseEnd,N+=xe*(X<D?1:(D-ie)/(X-ie)))}if(--h,s+=8*(S+N)/(y.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var F0=null,L0=null;function nu(a){return a.nodeType===9?a:a.ownerDocument}function c1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u1(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function P0(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var j0=null;function KT(){var a=window.event;return a&&a.type==="popstate"?a===j0?!1:(j0=a,!0):(j0=null,!1)}var d1=typeof setTimeout=="function"?setTimeout:void 0,QT=typeof clearTimeout=="function"?clearTimeout:void 0,f1=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof f1<"u"?function(a){return f1.resolve(null).then(a).catch(ew)}:d1;function ew(a){setTimeout(function(){throw a})}function Za(a){return a==="head"}function h1(a,s){var c=s,h=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(y),Gs(s);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")ao(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,ao(c);for(var S=c.firstChild;S;){var N=S.nextSibling,D=S.nodeName;S[ue]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=N}}else c==="body"&&ao(a.ownerDocument.body);c=y}while(c);Gs(s)}function p1(a,s){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function O0(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":O0(c),Te(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function tw(a,s,c,h){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[ue])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var S=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=xr(a.nextSibling),a===null)break}return null}function nw(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=xr(a.nextSibling),a===null))return null;return a}function m1(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=xr(a.nextSibling),a===null))return null;return a}function U0(a){return a.data==="$?"||a.data==="$~"}function B0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function rw(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var h=function(){s(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function xr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var z0=null;function g1(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return xr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function x1(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function v1(a,s,c){switch(s=nu(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function ao(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Te(a)}var vr=new Map,y1=new Set;function ru(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ga=ye.d;ye.d={f:aw,r:iw,D:sw,C:lw,L:ow,m:cw,X:dw,S:uw,M:fw};function aw(){var a=ga.f(),s=Jc();return a||s}function iw(a){var s=Ue(a);s!==null&&s.tag===5&&s.type==="form"?Pg(s):ga.r(a)}var Bs=typeof document>"u"?null:document;function b1(a,s,c){var h=Bs;if(h&&typeof s=="string"&&s){var y=ur(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),y1.has(y)||(y1.add(y),a={rel:a,crossOrigin:c,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),dn(s,"link",a),Ve(s),h.head.appendChild(s)))}}function sw(a){ga.D(a),b1("dns-prefetch",a,null)}function lw(a,s){ga.C(a,s),b1("preconnect",a,s)}function ow(a,s,c){ga.L(a,s,c);var h=Bs;if(h&&a&&s){var y='link[rel="preload"][as="'+ur(s)+'"]';s==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+ur(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+ur(c.imageSizes)+'"]')):y+='[href="'+ur(a)+'"]';var S=y;switch(s){case"style":S=zs(a);break;case"script":S=Hs(a)}vr.has(S)||(a=v({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),vr.set(S,a),h.querySelector(y)!==null||s==="style"&&h.querySelector(io(S))||s==="script"&&h.querySelector(so(S))||(s=h.createElement("link"),dn(s,"link",a),Ve(s),h.head.appendChild(s)))}}function cw(a,s){ga.m(a,s);var c=Bs;if(c&&a){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+ur(h)+'"][href="'+ur(a)+'"]',S=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Hs(a)}if(!vr.has(S)&&(a=v({rel:"modulepreload",href:a},s),vr.set(S,a),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(so(S)))return}h=c.createElement("link"),dn(h,"link",a),Ve(h),c.head.appendChild(h)}}}function uw(a,s,c){ga.S(a,s,c);var h=Bs;if(h&&a){var y=Oe(h).hoistableStyles,S=zs(a);s=s||"default";var N=y.get(S);if(!N){var D={loading:0,preload:null};if(N=h.querySelector(io(S)))D.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":s},c),(c=vr.get(S))&&H0(a,c);var X=N=h.createElement("link");Ve(X),dn(X,"link",a),X._p=new Promise(function(ie,xe){X.onload=ie,X.onerror=xe}),X.addEventListener("load",function(){D.loading|=1}),X.addEventListener("error",function(){D.loading|=2}),D.loading|=4,au(N,s,h)}N={type:"stylesheet",instance:N,count:1,state:D},y.set(S,N)}}}function dw(a,s){ga.X(a,s);var c=Bs;if(c&&a){var h=Oe(c).hoistableScripts,y=Hs(a),S=h.get(y);S||(S=c.querySelector(so(y)),S||(a=v({src:a,async:!0},s),(s=vr.get(y))&&G0(a,s),S=c.createElement("script"),Ve(S),dn(S,"link",a),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(y,S))}}function fw(a,s){ga.M(a,s);var c=Bs;if(c&&a){var h=Oe(c).hoistableScripts,y=Hs(a),S=h.get(y);S||(S=c.querySelector(so(y)),S||(a=v({src:a,async:!0,type:"module"},s),(s=vr.get(y))&&G0(a,s),S=c.createElement("script"),Ve(S),dn(S,"link",a),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(y,S))}}function S1(a,s,c,h){var y=(y=he.current)?ru(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=zs(c.href),c=Oe(y).hoistableStyles,h=c.get(s),h||(h={type:"style",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=zs(c.href);var S=Oe(y).hoistableStyles,N=S.get(a);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,N),(S=y.querySelector(io(a)))&&!S._p&&(N.instance=S,N.state.loading=5),vr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},vr.set(a,c),S||hw(y,a,c,N.state))),s&&h===null)throw Error(r(528,""));return N}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Hs(c),c=Oe(y).hoistableScripts,h=c.get(s),h||(h={type:"script",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function zs(a){return'href="'+ur(a)+'"'}function io(a){return'link[rel="stylesheet"]['+a+"]"}function E1(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function hw(a,s,c,h){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=a.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),dn(s,"link",c),Ve(s),a.head.appendChild(s))}function Hs(a){return'[src="'+ur(a)+'"]'}function so(a){return"script[async]"+a}function _1(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var h=a.querySelector('style[data-href~="'+ur(c.href)+'"]');if(h)return s.instance=h,Ve(h),h;var y=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Ve(h),dn(h,"style",y),au(h,c.precedence,a),s.instance=h;case"stylesheet":y=zs(c.href);var S=a.querySelector(io(y));if(S)return s.state.loading|=4,s.instance=S,Ve(S),S;h=E1(c),(y=vr.get(y))&&H0(h,y),S=(a.ownerDocument||a).createElement("link"),Ve(S);var N=S;return N._p=new Promise(function(D,X){N.onload=D,N.onerror=X}),dn(S,"link",h),s.state.loading|=4,au(S,c.precedence,a),s.instance=S;case"script":return S=Hs(c.src),(y=a.querySelector(so(S)))?(s.instance=y,Ve(y),y):(h=c,(y=vr.get(S))&&(h=v({},c),G0(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),Ve(y),dn(y,"link",h),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,au(h,c.precedence,a));return s.instance}function au(a,s,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,S=y,N=0;N<h.length;N++){var D=h[N];if(D.dataset.precedence===s)S=D;else if(S!==y)break}S?S.parentNode.insertBefore(a,S.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function H0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function G0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var iu=null;function T1(a,s,c){if(iu===null){var h=new Map,y=iu=new Map;y.set(c,h)}else y=iu,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var S=c[y];if(!(S[ue]||S[O]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(s)||"";N=a+N;var D=h.get(N);D?D.push(S):h.set(N,[S])}}return h}function w1(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function pw(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function N1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function mw(a,s,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=zs(h.href),S=s.querySelector(io(y));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=su.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=S,Ve(S);return}S=s.ownerDocument||s,h=E1(h),(y=vr.get(y))&&H0(h,y),S=S.createElement("link"),Ve(S);var N=S;N._p=new Promise(function(D,X){N.onload=D,N.onerror=X}),dn(S,"link",h),c.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=su.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var V0=0;function gw(a,s){return a.stylesheets&&a.count===0&&ou(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&ou(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+s);0<a.imgBytes&&V0===0&&(V0=62500*WT());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ou(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>V0?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ou(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var lu=null;function ou(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,lu=new Map,s.forEach(xw,a),lu=null,su.call(a))}function xw(a,s){if(!(s.state.loading&4)){var c=lu.get(a);if(c)var h=c.get(null);else{c=new Map,lu.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<y.length;S++){var N=y[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),h=N)}h&&c.set(null,h)}y=s.instance,N=y.getAttribute("data-precedence"),S=c.get(N)||h,S===h&&c.set(null,y),c.set(N,y),this.count++,h=su.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),S?S.parentNode.insertBefore(y,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var lo={$$typeof:k,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function vw(a,s,c,h,y,S,N,D,X){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.hiddenUpdates=bl(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function A1(a,s,c,h,y,S,N,D,X,ie,xe,Se){return a=new vw(a,s,c,N,X,ie,xe,Se,D),s=1,S===!0&&(s|=24),S=Yn(3,null,null,s),a.current=S,S.stateNode=a,s=_f(),s.refCount++,a.pooledCache=s,s.refCount++,S.memoizedState={element:h,isDehydrated:c,cache:s},Af(S),a}function k1(a){return a?(a=ys,a):ys}function C1(a,s,c,h,y,S){y=k1(y),h.context===null?h.context=y:h.pendingContext=y,h=Ha(s),h.payload={element:c},S=S===void 0?null:S,S!==null&&(h.callback=S),c=Ga(a,h,s),c!==null&&(Un(c,a,s),Ul(c,a,s))}function R1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function q0(a,s){R1(a,s),(a=a.alternate)&&R1(a,s)}function M1(a){if(a.tag===13||a.tag===31){var s=wi(a,67108864);s!==null&&Un(s,a,67108864),q0(a,67108864)}}function D1(a){if(a.tag===13||a.tag===31){var s=Qn();s=Sl(s);var c=wi(a,s);c!==null&&Un(c,a,s),q0(a,s)}}var cu=!0;function yw(a,s,c,h){var y=Q.T;Q.T=null;var S=ye.p;try{ye.p=2,$0(a,s,c,h)}finally{ye.p=S,Q.T=y}}function bw(a,s,c,h){var y=Q.T;Q.T=null;var S=ye.p;try{ye.p=8,$0(a,s,c,h)}finally{ye.p=S,Q.T=y}}function $0(a,s,c,h){if(cu){var y=Y0(h);if(y===null)D0(a,s,h,uu,c),F1(a,h);else if(Ew(y,a,s,c,h))h.stopPropagation();else if(F1(a,h),s&4&&-1<Sw.indexOf(a)){for(;y!==null;){var S=Ue(y);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=lr(S.pendingLanes);if(N!==0){var D=S;for(D.pendingLanes|=2,D.entangledLanes|=2;N;){var X=1<<31-Tn(N);D.entanglements[1]|=X,N&=~X}Yr(S),(ft&6)===0&&($c=Lt()+500,to(0))}}break;case 31:case 13:D=wi(S,2),D!==null&&Un(D,S,2),Jc(),q0(S,2)}if(S=Y0(h),S===null&&D0(a,s,h,uu,c),S===y)break;y=S}y!==null&&h.stopPropagation()}else D0(a,s,h,null,c)}}function Y0(a){return a=Jd(a),J0(a)}var uu=null;function J0(a){if(uu=null,a=Ce(a),a!==null){var s=l(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=o(s),a!==null)return a;a=null}else if(c===31){if(a=d(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return uu=a,null}function I1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(as()){case is:return 2;case ss:return 8;case sr:case Ud:return 32;case yl:return 268435456;default:return 32}default:return 32}}var X0=!1,ei=null,ti=null,ni=null,oo=new Map,co=new Map,ri=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F1(a,s){switch(a){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":oo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(s.pointerId)}}function uo(a,s,c,h,y,S){return a===null||a.nativeEvent!==S?(a={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:S,targetContainers:[y]},s!==null&&(s=Ue(s),s!==null&&M1(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function Ew(a,s,c,h,y){switch(s){case"focusin":return ei=uo(ei,a,s,c,h,y),!0;case"dragenter":return ti=uo(ti,a,s,c,h,y),!0;case"mouseover":return ni=uo(ni,a,s,c,h,y),!0;case"pointerover":var S=y.pointerId;return oo.set(S,uo(oo.get(S)||null,a,s,c,h,y)),!0;case"gotpointercapture":return S=y.pointerId,co.set(S,uo(co.get(S)||null,a,s,c,h,y)),!0}return!1}function L1(a){var s=Ce(a.target);if(s!==null){var c=l(s);if(c!==null){if(s=c.tag,s===13){if(s=o(c),s!==null){a.blockedOn=s,H(a.priority,function(){D1(c)});return}}else if(s===31){if(s=d(c),s!==null){a.blockedOn=s,H(a.priority,function(){D1(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function du(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Y0(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Yd=h,c.target.dispatchEvent(h),Yd=null}else return s=Ue(c),s!==null&&M1(s),a.blockedOn=c,!1;s.shift()}return!0}function P1(a,s,c){du(a)&&c.delete(s)}function _w(){X0=!1,ei!==null&&du(ei)&&(ei=null),ti!==null&&du(ti)&&(ti=null),ni!==null&&du(ni)&&(ni=null),oo.forEach(P1),co.forEach(P1)}function fu(a,s){a.blockedOn===s&&(a.blockedOn=null,X0||(X0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_w)))}var hu=null;function j1(a){hu!==a&&(hu=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hu===a&&(hu=null);for(var s=0;s<a.length;s+=3){var c=a[s],h=a[s+1],y=a[s+2];if(typeof h!="function"){if(J0(h||c)===null)continue;break}var S=Ue(c);S!==null&&(a.splice(s,3),s-=3,Yf(S,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function Gs(a){function s(X){return fu(X,a)}ei!==null&&fu(ei,a),ti!==null&&fu(ti,a),ni!==null&&fu(ni,a),oo.forEach(s),co.forEach(s);for(var c=0;c<ri.length;c++){var h=ri[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<ri.length&&(c=ri[0],c.blockedOn===null);)L1(c),c.blockedOn===null&&ri.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],S=c[h+1],N=y[z]||null;if(typeof S=="function")N||j1(c);else if(N){var D=null;if(S&&S.hasAttribute("formAction")){if(y=S,N=S[z]||null)D=N.formAction;else if(J0(y)!==null)continue}else D=N.action;typeof D=="function"?c[h+1]=D:(c.splice(h,3),h-=3),j1(c)}}}function O1(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function W0(a){this._internalRoot=a}pu.prototype.render=W0.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,h=Qn();C1(c,h,a,s,null,null)},pu.prototype.unmount=W0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;C1(a.current,2,null,a,null,null),Jc(),s[G]=null}};function pu(a){this._internalRoot=a}pu.prototype.unstable_scheduleHydration=function(a){if(a){var s=C();a={blockedOn:null,target:a,priority:s};for(var c=0;c<ri.length&&s!==0&&s<ri[c].priority;c++);ri.splice(c,0,a),c===0&&L1(a)}};var U1=e.version;if(U1!=="19.2.3")throw Error(r(527,U1,"19.2.3"));ye.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var Tw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Fa=mu.inject(Tw),vn=mu}catch{}}return ho.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,h="",y=$g,S=Yg,N=Jg;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=A1(a,1,!1,null,null,c,h,null,y,S,N,O1),a[G]=s.current,M0(a),new W0(s)},ho.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var h=!1,y="",S=$g,N=Yg,D=Jg,X=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(X=c.formState)),s=A1(a,1,!0,s,c??null,h,y,X,S,N,D,O1),s.context=k1(null),c=s.current,h=Qn(),h=Sl(h),y=Ha(h),y.callback=null,Ga(c,y,h),c=h,s.current.lanes=c,bi(s,c),Yr(s),a[G]=s.current,M0(a),new pu(s)},ho.version="19.2.3",ho}var X1;function Pw(){if(X1)return Z0.exports;X1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Z0.exports=Lw(),Z0.exports}var jw=Pw();const Ow=ip(jw);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uw(t={}){let{initialEntries:e=["/"],initialIndex:n,v5Compat:r=!1}=t,i;i=e.map((E,T)=>m(E,typeof E=="string"?null:E.state,T===0?"default":void 0));let l=p(n??i.length-1),o="POP",d=null;function p(E){return Math.min(Math.max(E,0),i.length-1)}function f(){return i[l]}function m(E,T=null,_){let w=zw(i?f().pathname:"/",E,T,_);return zn(w.pathname.charAt(0)==="/",`relative pathnames are not supported in memory history: ${JSON.stringify(E)}`),w}function v(E){return typeof E=="string"?E:Bu(E)}return{get index(){return l},get action(){return o},get location(){return f()},createHref:v,createURL(E){return new URL(v(E),"http://localhost")},encodeLocation(E){let T=typeof E=="string"?Xi(E):E;return{pathname:T.pathname||"",search:T.search||"",hash:T.hash||""}},push(E,T){o="PUSH";let _=m(E,T);l+=1,i.splice(l,i.length,_),r&&d&&d({action:o,location:_,delta:1})},replace(E,T){o="REPLACE";let _=m(E,T);i[l]=_,r&&d&&d({action:o,location:_,delta:0})},go(E){o="POP";let T=p(l+E),_=i[T];l=T,d&&d({action:o,location:_,delta:E})},listen(E){return d=E,()=>{d=null}}}}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bw(){return Math.random().toString(36).substring(2,10)}function zw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xi(e):e,state:n,key:e&&e.key||r||Bw()}}function Bu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Q2(t,e,n="/"){return Hw(t,e,n,!1)}function Hw(t,e,n,r){let i=typeof e=="string"?Xi(e):e,l=Na(i.pathname||"/",n);if(l==null)return null;let o=Z2(t);Gw(o);let d=null;for(let p=0;d==null&&p<o.length;++p){let f=eN(l);d=Qw(o[p],f,r)}return d}function Z2(t,e=[],n=[],r="",i=!1){let l=(o,d,p=i,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&p)return;Ot(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let v=ya([r,m.relativePath]),b=n.concat(m);o.children&&o.children.length>0&&(Ot(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Z2(o.children,e,b,v,p)),!(o.path==null&&!o.index)&&e.push({path:v,score:Ww(v,o.index),routesMeta:b})};return t.forEach((o,d)=>{var p;if(o.path===""||!((p=o.path)!=null&&p.includes("?")))l(o,d);else for(let f of eb(o.path))l(o,d,!0,f)}),e}function eb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let o=eb(r.join("/")),d=[];return d.push(...o.map(p=>p===""?l:[l,p].join("/"))),i&&d.push(...o),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function Gw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Kw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Vw=/^:[\w-]+$/,qw=3,$w=2,Yw=1,Jw=10,Xw=-2,W1=t=>t==="*";function Ww(t,e){let n=t.split("/"),r=n.length;return n.some(W1)&&(r+=Xw),e&&(r+=$w),n.filter(i=>!W1(i)).reduce((i,l)=>i+(Vw.test(l)?qw:l===""?Yw:Jw),r)}function Kw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Qw(t,e,n=!1){let{routesMeta:r}=t,i={},l="/",o=[];for(let d=0;d<r.length;++d){let p=r[d],f=d===r.length-1,m=l==="/"?e:e.slice(l.length)||"/",v=zu({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},m),b=p.route;if(!v&&f&&n&&!r[r.length-1].route.index&&(v=zu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),o.push({params:i,pathname:ya([l,v.pathname]),pathnameBase:aN(ya([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=ya([l,v.pathnameBase]))}return o}function zu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Zw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],o=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:v},b)=>{if(m==="*"){let T=d[b]||"";o=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const E=d[b];return v&&!E?f[m]=void 0:f[m]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:o,pattern:t}}function Zw(t,e=!1,n=!0){zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function eN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Na(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tN=t=>tb.test(t);function nN(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xi(t):t,l;if(n)if(tN(n))l=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),zn(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?l=K1(n.substring(1),"/"):l=K1(n,e)}else l=e;return{pathname:l,search:iN(r),hash:sN(i)}}function K1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sp(t){let e=rN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function lp(t,e,n,r=!1){let i;typeof t=="string"?i=Xi(t):(i={...t},Ot(!i.pathname||!i.pathname.includes("?"),rh("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),rh("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),rh("#","search","hash",i)));let l=t===""||i.pathname==="",o=l?"/":i.pathname,d;if(o==null)d=n;else{let v=e.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}d=v>=0?e[v]:"/"}let p=nN(i,d),f=o&&o!=="/"&&o.endsWith("/"),m=(l||o===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(f||m)&&(p.pathname+="/"),p}var ya=t=>t.join("/").replace(/\/\/+/g,"/"),aN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,lN=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function oN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function cN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rb(t,e){let n=t;if(typeof n!="string"||!tb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(nb)try{let l=new URL(window.location.href),o=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Na(o.pathname,e);o.origin===l.origin&&d!=null?n=d+o.search+o.hash:i=!0}catch{zn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ab=["POST","PUT","PATCH","DELETE"];new Set(ab);var uN=["GET",...ab];new Set(uN);var ol=I.createContext(null);ol.displayName="DataRouter";var vd=I.createContext(null);vd.displayName="DataRouterState";var dN=I.createContext(!1),ib=I.createContext({isTransitioning:!1});ib.displayName="ViewTransition";var fN=I.createContext(new Map);fN.displayName="Fetchers";var hN=I.createContext(null);hN.displayName="Await";var ir=I.createContext(null);ir.displayName="Navigation";var Oo=I.createContext(null);Oo.displayName="Location";var Qr=I.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var op=I.createContext(null);op.displayName="RouteError";var sb="REACT_ROUTER_ERROR",pN="REDIRECT",mN="ROUTE_ERROR_RESPONSE";function gN(t){if(t.startsWith(`${sb}:${pN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xN(t){if(t.startsWith(`${sb}:${mN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new lN(e.status,e.statusText,e.data)}catch{}}function vN(t,{relative:e}={}){Ot(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(ir),{hash:i,pathname:l,search:o}=Uo(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ya([n,l])),r.createHref({pathname:d,search:o,hash:i})}function cl(){return I.useContext(Oo)!=null}function Br(){return Ot(cl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Oo).location}var lb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ob(t){I.useContext(ir).static||I.useLayoutEffect(t)}function Wi(){let{isDataRoute:t}=I.useContext(Qr);return t?MN():yN()}function yN(){Ot(cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(ol),{basename:e,navigator:n}=I.useContext(ir),{matches:r}=I.useContext(Qr),{pathname:i}=Br(),l=JSON.stringify(sp(r)),o=I.useRef(!1);return ob(()=>{o.current=!0}),I.useCallback((p,f={})=>{if(zn(o.current,lb),!o.current)return;if(typeof p=="number"){n.go(p);return}let m=lp(p,JSON.parse(l),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ya([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,l,i,t])}I.createContext(null);function Uo(t,{relative:e}={}){let{matches:n}=I.useContext(Qr),{pathname:r}=Br(),i=JSON.stringify(sp(n));return I.useMemo(()=>lp(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function bN(t,e){return cb(t,e)}function cb(t,e,n,r,i){var R;Ot(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(ir),{matches:o}=I.useContext(Qr),d=o[o.length-1],p=d?d.params:{},f=d?d.pathname:"/",m=d?d.pathnameBase:"/",v=d&&d.route;{let k=v&&v.path||"";db(f,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=Br(),E;if(e){let k=typeof e=="string"?Xi(e):e;Ot(m==="/"||((R=k.pathname)==null?void 0:R.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),E=k}else E=b;let T=E.pathname||"/",_=T;if(m!=="/"){let k=m.replace(/^\//,"").split("/");_="/"+T.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=Q2(t,{pathname:_});zn(v||w!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),zn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=wN(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:ya([m,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:ya([m,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),o,n,r,i);return e&&A?I.createElement(Oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},A):A}function SN(){let t=RN(),e=oN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,o)}var EN=I.createElement(SN,null),ub=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=xN(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(Qr.Provider,{value:this.props.routeContext},I.createElement(op.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(_N,{error:t},e):e}};ub.contextType=dN;var ah=new WeakMap;function _N({children:t,error:e}){let{basename:n}=I.useContext(ir);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=gN(e.digest);if(r){let i=ah.get(e);if(i)throw i;let l=rb(r.location,n);if(nb&&!ah.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw ah.set(e,o),o}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function TN({routeContext:t,match:e,children:n}){let r=I.useContext(ol);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Qr.Provider,{value:t},n)}function wN(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=n==null?void 0:n.errors;if(o!=null){let m=l.findIndex(v=>v.route.id&&(o==null?void 0:o[v.route.id])!==void 0);Ot(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,p=-1;if(n)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:b,errors:E}=n,T=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||T){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let f=n&&r?(m,v)=>{var b,E;r(m,{location:n.location,params:((E=(b=n.matches)==null?void 0:b[0])==null?void 0:E.params)??{},unstable_pattern:cN(n.matches),errorInfo:v})}:void 0;return l.reduceRight((m,v,b)=>{let E,T=!1,_=null,w=null;n&&(E=o&&v.route.id?o[v.route.id]:void 0,_=v.route.errorElement||EN,d&&(p<0&&b===0?(db("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,w=null):p===b&&(T=!0,w=v.route.hydrateFallbackElement||null)));let A=e.concat(l.slice(0,b+1)),R=()=>{let k;return E?k=_:T?k=w:v.route.Component?k=I.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=m,I.createElement(TN,{match:v,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:k})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?I.createElement(ub,{location:n.location,revalidation:n.revalidation,component:_,error:E,children:R(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:f}):R()},null)}function cp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NN(t){let e=I.useContext(ol);return Ot(e,cp(t)),e}function AN(t){let e=I.useContext(vd);return Ot(e,cp(t)),e}function kN(t){let e=I.useContext(Qr);return Ot(e,cp(t)),e}function up(t){let e=kN(t),n=e.matches[e.matches.length-1];return Ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function CN(){return up("useRouteId")}function RN(){var r;let t=I.useContext(op),e=AN("useRouteError"),n=up("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function MN(){let{router:t}=NN("useNavigate"),e=up("useNavigate"),n=I.useRef(!1);return ob(()=>{n.current=!0}),I.useCallback(async(i,l={})=>{zn(n.current,lb),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var Q1={};function db(t,e,n){!e&&!Q1[t]&&(Q1[t]=!0,zn(!1,n))}I.memo(DN);function DN({routes:t,future:e,state:n,onError:r}){return cb(t,void 0,n,r,e)}function IN({basename:t,children:e,initialEntries:n,initialIndex:r,unstable_useTransitions:i}){let l=I.useRef();l.current==null&&(l.current=Uw({initialEntries:n,initialIndex:r,v5Compat:!0}));let o=l.current,[d,p]=I.useState({action:o.action,location:o.location}),f=I.useCallback(m=>{i===!1?p(m):I.startTransition(()=>p(m))},[i]);return I.useLayoutEffect(()=>o.listen(f),[o,f]),I.createElement(FN,{basename:t,children:e,location:d.location,navigationType:d.action,navigator:o,unstable_useTransitions:i})}function Mr({to:t,replace:e,state:n,relative:r}){Ot(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(ir);zn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Qr),{pathname:o}=Br(),d=Wi(),p=lp(t,sp(l),o,r==="path"),f=JSON.stringify(p);return I.useEffect(()=>{d(JSON.parse(f),{replace:e,state:n,relative:r})},[d,f,r,e,n]),null}function pt(t){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:l=!1,unstable_useTransitions:o}){Ot(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:d,navigator:i,static:l,unstable_useTransitions:o,future:{}}),[d,i,l,o]);typeof n=="string"&&(n=Xi(n));let{pathname:f="/",search:m="",hash:v="",state:b=null,key:E="default"}=n,T=I.useMemo(()=>{let _=Na(f,d);return _==null?null:{location:{pathname:_,search:m,hash:v,state:b,key:E},navigationType:r}},[d,f,m,v,b,E,r]);return zn(T!=null,`<Router basename="${d}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:I.createElement(ir.Provider,{value:p},I.createElement(Oo.Provider,{children:e,value:T}))}function Z1({children:t,location:e}){return bN(Dh(t),e)}function Dh(t,e=[]){let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let l=[...e,i];if(r.type===I.Fragment){n.push.apply(n,Dh(r.props.children,l));return}Ot(r.type===pt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dh(r.props.children,l)),n.push(o)}),n}var Fu="get",Lu="application/x-www-form-urlencoded";function yd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function LN(t){return yd(t)&&t.tagName.toLowerCase()==="button"}function PN(t){return yd(t)&&t.tagName.toLowerCase()==="form"}function jN(t){return yd(t)&&t.tagName.toLowerCase()==="input"}function ON(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UN(t,e){return t.button===0&&(!e||e==="_self")&&!ON(t)}function Ih(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function BN(t,e){let n=Ih(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(l=>{n.append(i,l)})}),n}var gu=null;function zN(){if(gu===null)try{new FormData(document.createElement("form"),0),gu=!1}catch{gu=!0}return gu}var HN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ih(t){return t!=null&&!HN.has(t)?(zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lu}"`),null):t}function GN(t,e){let n,r,i,l,o;if(PN(t)){let d=t.getAttribute("action");r=d?Na(d,e):null,n=t.getAttribute("method")||Fu,i=ih(t.getAttribute("enctype"))||Lu,l=new FormData(t)}else if(LN(t)||jN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||d.getAttribute("action");if(r=p?Na(p,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Fu,i=ih(t.getAttribute("formenctype"))||ih(d.getAttribute("enctype"))||Lu,l=new FormData(d,t),!zN()){let{name:f,type:m,value:v}=t;if(m==="image"){let b=f?`${f}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else f&&l.append(f,v)}}else{if(yd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fu,r=null,i=Lu,o=t}return l&&i==="text/plain"&&(o=l,l=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:l,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Na(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function qN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $N(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function YN(t,e,n){let r=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let o=await qN(l,n);return o.links?o.links():[]}return[]}));return KN(r.flat(1).filter($N).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ev(t,e,n,r,i,l){let o=(p,f)=>n[f]?p.route.id!==n[f].route.id:!0,d=(p,f)=>{var m;return n[f].pathname!==p.pathname||((m=n[f].route.path)==null?void 0:m.endsWith("*"))&&n[f].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,f)=>o(p,f)||d(p,f)):l==="data"?e.filter((p,f)=>{var v;let m=r.routes[p.route.id];if(!m||!m.hasLoader)return!1;if(o(p,f)||d(p,f))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function JN(t,e,{includeHydrateFallback:n}={}){return XN(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function XN(t){return[...new Set(t)]}function WN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function KN(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let l=JSON.stringify(WN(i));return n.has(l)||(n.add(l),r.push({key:l,link:i})),r},[])}function fb(){let t=I.useContext(ol);return dp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QN(){let t=I.useContext(vd);return dp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fp=I.createContext(void 0);fp.displayName="FrameworkContext";function hb(){let t=I.useContext(fp);return dp(t,"You must render this element inside a <HydratedRouter> element"),t}function ZN(t,e){let n=I.useContext(fp),[r,i]=I.useState(!1),[l,o]=I.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:f,onMouseLeave:m,onTouchStart:v}=e,b=I.useRef(null);I.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let _=A=>{A.forEach(R=>{o(R.isIntersecting)})},w=new IntersectionObserver(_,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[t]),I.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let E=()=>{i(!0)},T=()=>{i(!1),o(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:po(d,E),onBlur:po(p,T),onMouseEnter:po(f,E),onMouseLeave:po(m,T),onTouchStart:po(v,E)}]:[!1,b,{}]}function po(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eA({page:t,...e}){let{router:n}=fb(),r=I.useMemo(()=>Q2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(nA,{page:t,matches:r,...e}):null}function tA(t){let{manifest:e,routeModules:n}=hb(),[r,i]=I.useState([]);return I.useEffect(()=>{let l=!1;return YN(t,e,n).then(o=>{l||i(o)}),()=>{l=!0}},[t,e,n]),r}function nA({page:t,matches:e,...n}){let r=Br(),{manifest:i,routeModules:l}=hb(),{basename:o}=fb(),{loaderData:d,matches:p}=QN(),f=I.useMemo(()=>ev(t,e,p,i,r,"data"),[t,e,p,i,r]),m=I.useMemo(()=>ev(t,e,p,i,r,"assets"),[t,e,p,i,r]),v=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,_=!1;if(e.forEach(A=>{var k;let R=i.routes[A.route.id];!R||!R.hasLoader||(!f.some(L=>L.route.id===A.route.id)&&A.route.id in d&&((k=l[A.route.id])!=null&&k.shouldRevalidate)||R.hasClientLoader?_=!0:T.add(A.route.id))}),T.size===0)return[];let w=VN(t,o,"data");return _&&T.size>0&&w.searchParams.set("_routes",e.filter(A=>T.has(A.route.id)).map(A=>A.route.id).join(",")),[w.pathname+w.search]},[o,d,r,i,f,e,t,l]),b=I.useMemo(()=>JN(m,i),[m,i]),E=tA(m);return I.createElement(I.Fragment,null,v.map(T=>I.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),b.map(T=>I.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),E.map(({key:T,link:_})=>I.createElement("link",{key:T,nonce:n.nonce,..._})))}function rA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aA&&(window.__reactRouterVersion="7.11.0")}catch{}var pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aa=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:l,replace:o,state:d,target:p,to:f,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:b,...E},T){let{basename:_,unstable_useTransitions:w}=I.useContext(ir),A=typeof f=="string"&&pb.test(f),R=rb(f,_);f=R.to;let k=vN(f,{relative:i}),[L,V,te]=ZN(r,E),P=oA(f,{replace:o,state:d,target:p,preventScrollReset:m,relative:i,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:w});function M(J){e&&e(J),J.defaultPrevented||P(J)}let B=I.createElement("a",{...E,...te,href:R.absoluteURL||k,onClick:R.isExternal||l?e:M,ref:rA(T,V),target:p,"data-discover":!A&&n==="render"?"true":void 0});return L&&!A?I.createElement(I.Fragment,null,B,I.createElement(eA,{page:k})):B});Aa.displayName="Link";var iA=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:o,viewTransition:d,children:p,...f},m){let v=Uo(o,{relative:f.relative}),b=Br(),E=I.useContext(vd),{navigator:T,basename:_}=I.useContext(ir),w=E!=null&&pA(v)&&d===!0,A=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,R=b.pathname,k=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(R=R.toLowerCase(),k=k?k.toLowerCase():null,A=A.toLowerCase()),k&&_&&(k=Na(k,_)||k);const L=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let V=R===A||!i&&R.startsWith(A)&&R.charAt(L)==="/",te=k!=null&&(k===A||!i&&k.startsWith(A)&&k.charAt(A.length)==="/"),P={isActive:V,isPending:te,isTransitioning:w},M=V?e:void 0,B;typeof r=="function"?B=r(P):B=[r,V?"active":null,te?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(P):l;return I.createElement(Aa,{...f,"aria-current":M,className:B,ref:m,style:J,to:o,viewTransition:d},typeof p=="function"?p(P):p)});iA.displayName="NavLink";var sA=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:l,method:o=Fu,action:d,onSubmit:p,relative:f,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:b,...E},T)=>{let{unstable_useTransitions:_}=I.useContext(ir),w=fA(),A=hA(d,{relative:f}),R=o.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&pb.test(d),L=V=>{if(p&&p(V),V.defaultPrevented)return;V.preventDefault();let te=V.nativeEvent.submitter,P=(te==null?void 0:te.getAttribute("formmethod"))||o,M=()=>w(te||V.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:l,relative:f,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:b});_&&n!==!1?I.startTransition(()=>M()):M()};return I.createElement("form",{ref:T,method:R,action:A,onSubmit:r?p:L,...E,"data-discover":!k&&t==="render"?"true":void 0})});sA.displayName="Form";function lA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mb(t){let e=I.useContext(ol);return Ot(e,lA(t)),e}function oA(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:o,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let f=Wi(),m=Br(),v=Uo(t,{relative:l});return I.useCallback(b=>{if(UN(b,e)){b.preventDefault();let E=n!==void 0?n:Bu(m)===Bu(v),T=()=>f(t,{replace:E,state:r,preventScrollReset:i,relative:l,viewTransition:o,unstable_defaultShouldRevalidate:d});p?I.startTransition(()=>T()):T()}},[m,f,v,n,r,e,t,i,l,o,d,p])}function cA(t){zn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=I.useRef(Ih(t)),n=I.useRef(!1),r=Br(),i=I.useMemo(()=>BN(r.search,n.current?null:e.current),[r.search]),l=Wi(),o=I.useCallback((d,p)=>{const f=Ih(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,l("?"+f,p)},[l,i]);return[i,o]}var uA=0,dA=()=>`__${String(++uA)}__`;function fA(){let{router:t}=mb("useSubmit"),{basename:e}=I.useContext(ir),n=CN(),r=t.fetch,i=t.navigate;return I.useCallback(async(l,o={})=>{let{action:d,method:p,encType:f,formData:m,body:v}=GN(l,e);if(o.navigate===!1){let b=o.fetcherKey||dA();await r(b,n,o.action||d,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||p,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||d,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||p,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function hA(t,{relative:e}={}){let{basename:n}=I.useContext(ir),r=I.useContext(Qr);Ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...Uo(t||".",{relative:e})},o=Br();if(t==null){l.search=o.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(m=>m==="")){d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();l.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ya([n,l.pathname])),Bu(l)}function pA(t,{relative:e}={}){let n=I.useContext(ib);Ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mb("useViewTransitionState"),i=Uo(t,{relative:e});if(!n.isTransitioning)return!1;let l=Na(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Na(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zu(i.pathname,o)!=null||zu(i.pathname,l)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),tv=t=>{const e=gA(t);return e.charAt(0).toUpperCase()+e.slice(1)},gb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),xA=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:o,...d},p)=>I.createElement("svg",{ref:p,...vA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gb("lucide",i),...!l&&!xA(d)&&{"aria-hidden":"true"},...d},[...o.map(([f,m])=>I.createElement(f,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=I.forwardRef(({className:r,...i},l)=>I.createElement(yA,{ref:l,iconNode:e,className:gb(`lucide-${mA(tv(t))}`,`lucide-${t}`,r),...i}));return n.displayName=tv(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],xb=Fe("activity",bA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],EA=Fe("archive",SA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],TA=Fe("arrow-left",_A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Hu=Fe("arrow-right",wA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],AA=Fe("at-sign",NA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],CA=Fe("award",kA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vb=Fe("badge-check",RA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Gu=Fe("bell",MA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nv=Fe("book-open",DA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],FA=Fe("book",IA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],PA=Fe("bot",LA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],OA=Fe("box",jA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],BA=Fe("briefcase",UA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Pu=Fe("building-2",zA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],GA=Fe("calendar-plus",HA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bo=Fe("calendar",VA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$A=Fe("camera",qA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vu=Fe("check",YA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yb=Fe("chevron-right",JA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rr=Fe("circle-alert",XA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ba=Fe("circle-check-big",WA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mn=Fe("circle-check",KA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ui=Fe("circle-plus",QA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],e4=Fe("circle-user",ZA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hp=Fe("circle-x",t4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Fh=Fe("clipboard-check",n4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],rv=Fe("clipboard-list",r4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Er=Fe("clock",a4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],av=Fe("cloud-upload",i4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],pp=Fe("database",s4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zo=Fe("download",l4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bb=Fe("eye",o4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],u4=Fe("file-spreadsheet",c4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Pr=Fe("file-text",d4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],h4=Fe("file-up",f4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9 13 2 2 4-4",key:"6343dt"}]],iv=Fe("folder-check",p4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Sb=Fe("funnel",m4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Sa=Fe("graduation-cap",g4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],qu=Fe("heart",x4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Lh=Fe("history",v4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],b4=Fe("image",y4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],E4=Fe("inbox",S4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hi=Fe("info",_4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$u=Fe("key",T4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],sv=Fe("layers",w4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sh=Fe("layout-dashboard",N4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],k4=Fe("layout-grid",A4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Yu=Fe("link",C4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],st=Fe("loader-circle",R4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],D4=Fe("log-out",M4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gi=Fe("mail",I4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bd=Fe("map-pin",F4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],P4=Fe("megaphone",L4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],O4=Fe("menu",j4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Xs=Fe("message-square",U4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],z4=Fe("minimize-2",B4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],G4=Fe("moon",H4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ph=Fe("pen-line",V4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$4=Fe("phone-call",q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lv=Fe("phone",Y4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Co=Fe("plus",J4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Eb=Fe("presentation",X4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],_b=Fe("printer",W4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Tb=Fe("qr-code",K4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Z4=Fe("refresh-ccw",Q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ho=Fe("save",ek);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Go=Fe("search",tk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Sd=Fe("send",nk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Ea=Fe("shield-alert",rk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]],ik=Fe("shield-ban",ak);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],di=Fe("shield-check",sk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wb=Fe("sparkles",lk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_r=Fe("square-pen",ok);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nb=Fe("star",ck);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],dk=Fe("sun",uk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],hk=Fe("terminal",fk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mi=Fe("trash-2",pk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gk=Fe("trending-up",mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],vk=Fe("type",xk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],jh=Fe("user-plus",yk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ul=Fe("user",bk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vi=Fe("users",Sk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ut=Fe("x",Ek);var _e=(t=>(t.STUDENT="STUDENT",t.FACULTY="FACULTY",t.TEACHER="TEACHER",t.TRANSFEREE="TRANSFEREE",t.ADMIN="ADMIN",t.PENDING="PENDING",t))(_e||{});class _k{constructor(){this.prefix="snes_db_"}getTable(e){const n=localStorage.getItem(this.prefix+e);return n?JSON.parse(n):[]}saveTable(e,n){localStorage.setItem(this.prefix+e,JSON.stringify(n))}query(e,n){const r=this.getTable(e);return n?r.filter(n):r}insert(e,n){const r=this.getTable(e);return r.unshift(n),this.saveTable(e,r),n}update(e,n,r){const i=this.getTable(e),l=i.findIndex(o=>o.id===n);l>-1&&(i[l]={...i[l],...r},this.saveTable(e,i))}delete(e,n){const r=this.getTable(e);this.saveTable(e,r.filter(i=>i.id!==n))}replaceTable(e,n){this.saveTable(e,n)}getRawStorage(){const e={};for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(r!=null&&r.startsWith(this.prefix)){const i=r.replace(this.prefix,"");i!=="PASSWORDS"&&(e[i]=JSON.parse(localStorage.getItem(r)||"[]"))}}return e}}const Le=new _k,Pe={USERS:"users",PASSWORDS:"passwords",GRADES:"grades",ANNOUNCEMENTS:"announcements",ENROLLMENT:"enrollment",SCHEDULE:"schedule",MODULES:"modules",ASSIGNMENTS:"assignments",SUBMISSIONS:"submissions",ATTENDANCE:"attendance",EVENTS:"events",LOGS:"activity_logs",CLEARANCE:"clearance",DROPOUTS:"dropouts",SECTIONS:"sections",SMS:"sms_logs",LIBRARY:"library",FACILITIES:"facilities",HEALTH:"health",DOC_REQUESTS:"doc_requests",LOCKOUT:"security_lockout",FINANCE:"finance",EMAIL_LOGS:"email_logs",MESSAGES:"messages"},Tk=[{id:"u-admin",name:"System Admin",email:"admin@gmail.com",role:_e.ADMIN,gradeLevel:"Grade 1",section:"Sampaguita"},{id:"u-stu1",name:"Juan Dela Cruz",email:"student@gmail.com",role:_e.STUDENT,lrn:"123456789012",gradeLevel:"Grade 4",section:"Narra",attendanceRate:98,gwa:92.5,honorStatus:"With High Honors",is4Ps:!0,phone:"09123456789",address:"Brgy. Santo Nio, City",guardianName:"Maria Dela Cruz",guardianPhone:"09171234567",psaStatus:"Verified",feedingProgramStatus:"Beneficiary"},{id:"u-tea1",name:"Teacher Rose",email:"teacher@gmail.com",role:_e.TEACHER,assignedSections:["Sampaguita","Narra"]},{id:"u-app1",name:"Demo Applicant",email:"applicant@gmail.com",role:_e.TRANSFEREE}],ov={"u-admin":"123","u-stu1":"123","u-tea1":"123","u-app1":"123"},Ne={getLockoutInfo:()=>({attempts:0,suspendedUntil:null}),login:async(t,e)=>{let n;const i=Le.query(Pe.USERS).find(l=>l.email===t);if(i){const l=Le.query(Pe.PASSWORDS)[0]||ov;(e==="123"||l[i.id]===e)&&(n={...i,emailVerified:!0})}if(n||(t==="applicant@gmail.com"||t==="admin@gmail.com"||t==="student@gmail.com"||t==="teacher@gmail.com")&&(n=Tk.find(l=>l.email===t)),n)return t==="student@gmail.com"&&(n.role=_e.STUDENT),t==="teacher@gmail.com"&&(n.role=_e.TEACHER),t==="admin@gmail.com"&&(n.role=_e.ADMIN),t==="applicant@gmail.com"&&(n.role=_e.TRANSFEREE),{...n,emailVerified:!0};throw new Error("Invalid credentials. Use password '123'")},signup:async(t,e,n,r=_e.PENDING)=>{const i={id:"u-"+Date.now(),name:t,email:e,role:r,lrn:Math.floor(1e11+Math.random()*9e11).toString(),gradeLevel:"Grade 1",section:"Sampaguita",is4Ps:!1,psaStatus:"Pending",address:"",phone:"",guardianName:"",guardianPhone:"",academicHistory:[],emailVerified:!0};Le.insert(Pe.USERS,i);const o=Le.query(Pe.PASSWORDS)[0]||{...ov};return o[i.id]=n,Le.replaceTable(Pe.PASSWORDS,[o]),i},logActivity:async(t,e,n,r)=>{Le.insert(Pe.LOGS,{id:"log-"+Date.now(),userId:t,userName:e,action:n,category:r,timestamp:new Date().toLocaleString()})},getLogs:async()=>Le.query(Pe.LOGS),getGrades:async t=>{const e=Le.query(Pe.GRADES);return e.length===0?(Le.insert(Pe.GRADES,{id:"g1",studentId:"u-stu1",studentName:"Juan Dela Cruz",subject:"Filipino",q1:88,q2:90,q3:92,q4:91,finalAverage:90.3,remarks:"Passed"}),Le.query(Pe.GRADES,t?n=>n.studentId===t:void 0)):t?e.filter(n=>n.studentId===t):e},createGrade:async t=>{Le.insert(Pe.GRADES,{...t,id:"grade-"+Date.now()})},updateGrade:async(t,e)=>{Le.update(Pe.GRADES,t,e)},deleteGrade:async t=>{Le.delete(Pe.GRADES,t)},getAnnouncements:async()=>Le.query(Pe.ANNOUNCEMENTS),createAnnouncement:async t=>{Le.insert(Pe.ANNOUNCEMENTS,{...t,id:"ann-"+Date.now(),date:new Date().toLocaleDateString()})},updateAnnouncement:async(t,e)=>{Le.update(Pe.ANNOUNCEMENTS,t,e)},deleteAnnouncement:async t=>{Le.delete(Pe.ANNOUNCEMENTS,t)},getEvents:async()=>{const t=Le.query(Pe.EVENTS);return t.length===0?(Le.insert(Pe.EVENTS,{id:"ev1",title:"Brigada Eskwela 2024",date:"2024-05-20",month:"MAY",day:"20",type:"Brigada Eskwela"}),Le.query(Pe.EVENTS)):t},postEvent:async(t,e)=>{Le.insert(Pe.EVENTS,{...t,id:"ev-"+Date.now()})},getUsers:async t=>{const e=Le.query(Pe.USERS);return t&&t!=="All"?e.filter(n=>n.section===t):e},getUser:async t=>Le.query(Pe.USERS).find(n=>n.id===t),createUser:async(t,e,n)=>{Ne.signup(t,e,"123456",n)},updateUser:async(t,e)=>{Le.update(Pe.USERS,t,e)},deleteUser:async t=>{Le.delete(Pe.USERS,t)},uploadAvatar:async(t,e)=>({avatarUrl:"https://ui-avatars.com/api/?name=User&background=random"}),getSMSLogs:async()=>Le.query(Pe.SMS),postSMSLog:async(t,e)=>{Le.insert(Pe.SMS,{id:"sms-"+Date.now(),recipient:t,message:e,timestamp:new Date().toLocaleString(),status:"delivered"})},getLibraryResources:async()=>{const t=Le.query(Pe.LIBRARY);return t.length===0?(Le.insert(Pe.LIBRARY,{id:"l1",title:"Adarna House: Alamat ng Saging",author:"Felipe de Leon",type:"ebook",category:"Literature"}),Le.query(Pe.LIBRARY)):t},postLibraryResource:async t=>{Le.insert(Pe.LIBRARY,{...t,id:"lib-"+Date.now()})},getFacilities:async()=>{const t=Le.query(Pe.FACILITIES);return t.length===0?(Le.insert(Pe.FACILITIES,{id:"fac-1",name:"Science Laboratory",status:"available",lastCleaned:"2024-05-15"}),Le.query(Pe.FACILITIES)):t},createFacility:async t=>{Le.insert(Pe.FACILITIES,{...t,id:"fac-"+Date.now()})},updateFacility:async(t,e)=>{Le.update(Pe.FACILITIES,t,e)},deleteFacility:async t=>{Le.delete(Pe.FACILITIES,t)},getHealthRecords:async()=>Le.query(Pe.HEALTH),postHealthRecord:async t=>{Le.insert(Pe.HEALTH,{...t,id:"health-"+Date.now()})},getDocRequests:async t=>Le.query(Pe.DOC_REQUESTS,e=>e.studentId===t),requestDoc:async t=>{Le.insert(Pe.DOC_REQUESTS,{...t,id:"req-"+Date.now(),status:"pending",dateRequested:new Date().toLocaleDateString()})},getAllRawData:async()=>Le.getRawStorage(),saveTableData:async(t,e)=>{Le.replaceTable(t.toLowerCase(),e)},getSections:async()=>{const t=Le.query(Pe.SECTIONS);return t.length===0?[{id:"s1",name:"Sampaguita",gradeLevel:"Grade 1",roomNumber:"101",studentCount:0}]:t},getModules:async()=>Le.query(Pe.MODULES),createModule:async t=>{Le.insert(Pe.MODULES,{...t,id:"mod-"+Date.now(),uploadDate:new Date().toLocaleDateString()})},updateModule:async(t,e)=>{Le.update(Pe.MODULES,t,e)},deleteModule:async t=>{Le.delete(Pe.MODULES,t)},getAssignments:async t=>{const e=Le.query(Pe.ASSIGNMENTS);return t&&t!=="All"?e.filter(n=>n.section===t):e},createAssignment:async t=>{Le.insert(Pe.ASSIGNMENTS,{...t,id:"asn-"+Date.now()})},updateAssignment:async(t,e)=>{Le.update(Pe.ASSIGNMENTS,t,e)},deleteAssignment:async t=>{Le.delete(Pe.ASSIGNMENTS,t)},getSubmissions:async()=>Le.query(Pe.SUBMISSIONS),submitAssignmentWork:async t=>{Le.insert(Pe.SUBMISSIONS,{...t,id:"sub-"+Date.now(),submittedAt:new Date().toLocaleString(),status:"pending"})},gradeSubmission:async(t,e)=>{Le.update(Pe.SUBMISSIONS,t,e)},getSchedule:async()=>Le.query(Pe.SCHEDULE),postSchedule:async t=>{Le.insert(Pe.SCHEDULE,{...t,id:"sch-"+Date.now()})},getAttendance:async(t="",e="")=>Le.query(Pe.ATTENDANCE,n=>(!t||n.studentId===t)&&(!e||n.date===e)),postAttendance:async t=>{const e=Le.query(Pe.ATTENDANCE).find(n=>n.studentId===t.studentId&&n.date===t.date);e?Le.update(Pe.ATTENDANCE,e.id,{status:t.status}):Le.insert(Pe.ATTENDANCE,{...t,id:"att-"+Date.now()})},postAttendanceBulk:async t=>{const{studentIds:e,startDate:n,endDate:r,status:i}=t;e.forEach(l=>{Le.insert(Pe.ATTENDANCE,{id:"att-"+Date.now()+Math.random(),studentId:l,date:n,status:i})})},getEnrollmentApplications:async()=>Le.query(Pe.ENROLLMENT),submitApplication:async t=>{const e=t instanceof FormData?Object.fromEntries(t):t;Le.insert(Pe.ENROLLMENT,{...e,id:"app-"+Date.now(),status:"pending",dateApplied:new Date().toLocaleDateString()})},updateEnrollmentStatus:async(t,e)=>{Le.update(Pe.ENROLLMENT,t,{status:e})},getClearance:async t=>{const e=Le.query(Pe.CLEARANCE,n=>n.studentId===t);if(e.length===0){const n=[{id:"c1-"+t,studentId:t,department:"Property",status:"cleared"},{id:"c2-"+t,studentId:t,department:"Clinic",status:"cleared"},{id:"c3-"+t,studentId:t,department:"Adviser",status:"pending",remarks:"Modules not returned"}];return n.forEach(r=>Le.insert(Pe.CLEARANCE,r)),n}return e},updateClearance:async(t,e)=>{Le.update(Pe.CLEARANCE,t,e)},dropStudent:async t=>{Le.delete(Pe.USERS,t)},getDropoutRequests:async()=>Le.query(Pe.DROPOUTS),submitDropoutRequest:async t=>{Le.insert(Pe.DROPOUTS,{...t,id:"drp-"+Date.now(),status:"pending",timestamp:new Date().toLocaleString()})},updateDropoutStatus:async(t,e)=>{Le.update(Pe.DROPOUTS,t,{status:e})},getFinances:async t=>Le.query(Pe.FINANCE,e=>e.studentId===t),addFeeRecord:async t=>{Le.insert(Pe.FINANCE,{...t,id:"fee-"+Date.now()})},getEmailLogs:async()=>Le.query(Pe.EMAIL_LOGS),sendEmailBroadcast:async t=>{Le.insert(Pe.EMAIL_LOGS,{id:"email-"+Date.now(),recipient:"Broadcast",subject:t.subject,message:t.message,timestamp:new Date().toLocaleString(),status:"sent"})},getMessages:async t=>Le.query(Pe.MESSAGES,e=>e.recipientId===t),getTables:async()=>Object.keys(Pe),getTableInfo:async t=>[{name:"id",type:"TEXT"},{name:"data",type:"JSON"}],getTableData:async t=>{const e=Pe[t]||t;return Le.query(e)},insertTableRecord:async(t,e)=>{const n=Pe[t]||t;Le.insert(n,e)},updateTableRecord:async(t,e,n)=>{const r=Pe[t]||t;Le.update(r,e,n)},deleteTableRecord:async(t,e)=>{const n=Pe[t]||t;Le.delete(n,e)}},lh="https://raw.githubusercontent.com/Golgrax/randompublicimagefreetouse/refs/heads/main/logo.png",wk="https://raw.githubusercontent.com/Golgrax/randompublicimagefreetouse/refs/heads/main/login-background.png",Nk=({onLogin:t})=>{const[e,n]=I.useState(null),[r,i]=I.useState(!1),[l,o]=I.useState(""),[d,p]=I.useState(""),[f,m]=I.useState(""),[v,b]=I.useState(""),[E,T]=I.useState(!1),[_,w]=I.useState(null),[A,R]=I.useState(!1);I.useEffect(()=>{w(Ne.getLockoutInfo());const P=localStorage.getItem("pending_application");if(P){const M=parseInt(P,10),B=Date.now(),J=1440*60*1e3;B-M<J?R(!0):localStorage.removeItem("pending_application")}},[]);const k=async P=>{P.preventDefault(),b(""),T(!0);try{if(r){if(A){b("You have a pending application. Only one account per device is allowed until approved or 24h passes."),T(!1);return}const M=e===_e.TRANSFEREE?_e.TRANSFEREE:_e.PENDING,B=await Ne.signup(f,l,d,M);localStorage.setItem("pending_application",Date.now().toString()),t(B)}else{const M=await Ne.login(l,d);M&&(M.role!==e&&M.role!==_e.ADMIN&&M.role!==_e.PENDING?b(`Invalid credentials for ${e} portal.`):(M.role!==_e.PENDING&&localStorage.removeItem("pending_application"),t(M)))}}catch(M){b(M.message||"Connection error. Please try again."),w(Ne.getLockoutInfo())}finally{T(!1)}},L=[{id:_e.STUDENT,title:"Students",desc:"View grades & modules",icon:u.jsx(Sa,{size:32}),color:"from-indigo-600 to-blue-700"},{id:_e.TEACHER,title:"Teachers",desc:"Manage sections & grading",icon:u.jsx(Eb,{size:32}),color:"from-cyan-600 to-blue-700"},{id:_e.TRANSFEREE,title:"Applicants",desc:"New student registration",icon:u.jsx(jh,{size:32}),color:"from-emerald-600 to-teal-700"},{id:_e.ADMIN,title:"Admin",desc:"System setup & control",icon:u.jsx(Ea,{size:32}),color:"from-rose-600 to-red-800"}],V=(_==null?void 0:_.suspendedUntil)&&Date.now()<_.suspendedUntil,te=L.find(P=>P.id===e);return u.jsxs("div",{className:"min-h-screen w-full bg-cover bg-center bg-fixed relative flex items-center justify-center overflow-hidden transition-all duration-700",style:{backgroundImage:`url('${wk}')`},children:[u.jsx("div",{className:"absolute inset-0 bg-slate-950/70 backdrop-blur-[3px] transition-all duration-700"}),u.jsx("div",{className:"w-full h-full relative z-10",children:e?u.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row animate-in slide-in-from-right duration-500 overflow-hidden",children:[u.jsxs("div",{className:`md:w-5/12 relative bg-gradient-to-br ${te==null?void 0:te.color} bg-opacity-90 flex flex-col justify-center p-12 lg:p-24 text-white overflow-hidden shadow-2xl`,children:[u.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:u.jsx("img",{src:lh,className:"absolute -bottom-40 -right-40 rotate-12 w-[600px] grayscale brightness-200",alt:""})}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("button",{onClick:()=>n(null),className:"text-white/60 hover:text-white font-bold text-xs flex items-center gap-2 mb-16 transition-colors uppercase tracking-widest group",children:[u.jsx(Hu,{className:"rotate-180 group-hover:-translate-x-1 transition-transform",size:18})," Exit Portal"]}),u.jsx("div",{className:"w-24 h-24 bg-white p-3 rounded-[2rem] flex items-center justify-center mb-10 shadow-2xl animate-float overflow-hidden",children:u.jsx("img",{src:lh,alt:"Sto. Nio Logo",className:"w-full h-full object-contain"})}),u.jsxs("h2",{className:"text-6xl font-black uppercase tracking-tighter leading-none mb-8",children:[e.toLowerCase()," ",u.jsx("br",{})," Authorization"]}),u.jsx("p",{className:"text-xl text-white/80 font-medium max-w-sm leading-relaxed",children:"Protecting learner records and institutional integrity. Identity verification is required."})]})]}),u.jsx("div",{className:"md:w-7/12 flex items-center justify-center p-8 lg:p-24",children:u.jsxs("div",{className:"w-full max-w-md space-y-12",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(di,{className:"text-school-gold",size:32}),u.jsx("h3",{className:"text-4xl font-black text-white tracking-tighter uppercase",children:r?"Create Profile":"Authenticate"})]}),u.jsx("p",{className:"text-white/50 font-medium text-lg",children:r?"Register for your official school identity.":"Provide your secured credentials below."})]}),V?u.jsxs("div",{className:"p-10 bg-rose-500/10 border-2 border-rose-500/20 backdrop-blur-xl rounded-[3rem] text-center space-y-6 animate-in zoom-in-95",children:[u.jsx("div",{className:"w-20 h-20 bg-rose-500/20 rounded-full flex items-center justify-center mx-auto text-rose-500",children:u.jsx(ik,{size:40})}),u.jsx("h4",{className:"text-xl font-black text-rose-400 uppercase tracking-tight",children:"Security Lockout"}),u.jsx("p",{className:"text-sm font-bold text-rose-300 leading-relaxed",children:"Access from this device has been suspended for 10 hours after 3 incorrect attempts."}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-rose-400 font-black text-xs uppercase tracking-widest bg-rose-500/10 py-3 rounded-2xl",children:[u.jsx(Er,{size:16})," Restricted Access"]}),u.jsx("button",{onClick:()=>n(null),className:"text-xs font-black uppercase tracking-widest text-white/40 hover:text-rose-400 transition-colors",children:"Return to Menu"})]}):u.jsxs("form",{className:"space-y-8",onSubmit:k,children:[v&&u.jsxs("div",{className:"bg-rose-500/10 text-rose-400 px-8 py-5 rounded-[2rem] text-[11px] font-black uppercase tracking-widest border-2 border-rose-500/20 flex items-center gap-4 animate-shake",children:[u.jsx(Ea,{size:20,className:"shrink-0"})," ",v]}),r&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[11px] font-black uppercase tracking-[0.2em] text-white/40 ml-3",children:"Legal Name"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx(ul,{className:"absolute left-6 text-white/20",size:24}),u.jsx("input",{type:"text",required:!0,value:f,onChange:P=>m(P.target.value),className:"w-full pl-16 pr-8 py-6 rounded-[2rem] bg-white/5 backdrop-blur-xl border-2 border-white/5 focus:border-school-gold outline-none font-bold text-white shadow-xl transition-all",placeholder:"Juan Dela Cruz"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[11px] font-black uppercase tracking-[0.2em] text-white/40 ml-3",children:"System Email"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx(Gi,{className:"absolute left-6 text-white/20",size:24}),u.jsx("input",{type:"email",required:!0,value:l,onChange:P=>o(P.target.value),className:"w-full pl-16 pr-8 py-6 rounded-[2rem] bg-white/5 backdrop-blur-xl border-2 border-white/5 focus:border-school-gold outline-none font-bold text-white shadow-xl transition-all",placeholder:"yourname@gmail.com"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center px-3",children:[u.jsx("label",{className:"block text-[11px] font-black uppercase tracking-[0.2em] text-white/40",children:"Security Key"}),u.jsx(Aa,{to:"/forgot-password",title:"Recover Account",className:"text-[10px] font-black uppercase text-school-gold tracking-widest opacity-60 hover:opacity-100",children:"Forgot?"})]}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx($u,{className:"absolute left-6 text-white/20",size:24}),u.jsx("input",{type:"password",required:!0,value:d,onChange:P=>p(P.target.value),className:"w-full pl-16 pr-8 py-6 rounded-[2rem] bg-white/5 backdrop-blur-xl border-2 border-white/5 focus:border-school-gold outline-none font-bold text-white shadow-xl transition-all",placeholder:""})]})]}),u.jsxs("button",{disabled:E,className:"w-full bg-white text-slate-900 font-black py-6 rounded-[2rem] hover:bg-school-gold hover:text-school-navy transition-all flex items-center justify-center gap-4 group uppercase tracking-[0.2em] text-xs shadow-2xl disabled:opacity-50",children:[E?"Processing...":r?"Create Profile":"Authenticate Device",!E&&u.jsx(Hu,{size:22,className:"group-hover:translate-x-2 transition-transform"})]}),u.jsx("div",{className:"text-center pt-6",children:u.jsx("button",{type:"button",onClick:()=>{i(!r),b("")},className:"text-[11px] font-black uppercase tracking-[0.3em] text-white/30 hover:text-school-gold transition-colors",children:r?"Already registered? Login":"No account? Create profile"})})]})]})})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 animate-in fade-in zoom-in-95 duration-1000",children:u.jsxs("div",{className:"w-full max-w-6xl space-y-12",children:[u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-32 h-32 bg-white p-2 rounded-[2.5rem] flex items-center justify-center mx-auto shadow-[0_0_50px_rgba(255,255,255,0.15)] animate-float overflow-hidden",children:u.jsx("img",{src:lh,alt:"Sto. Nio Logo",className:"w-full h-full object-contain"})}),u.jsxs("h1",{className:"text-6xl font-black text-white uppercase tracking-tighter leading-none drop-shadow-2xl",children:["Sto. Nio ",u.jsx("br",{className:"md:hidden"})," ",u.jsx("span",{className:"text-school-gold",children:"Portal"})]}),u.jsx("p",{className:"text-white/60 font-bold uppercase tracking-[0.4em] text-[10px]",children:"Unified Academic Access System"})]}),u.jsx("div",{className:"flex flex-wrap justify-center gap-4 px-4 w-full max-w-full mx-auto",children:L.map(P=>u.jsxs("button",{onClick:()=>{n(P.id),i(!1),b("")},className:"p-6 w-full md:w-56 lg:w-60 rounded-[2.5rem] border-2 border-white/10 hover:border-school-gold hover:scale-[1.05] hover:-translate-y-2 transition-all group text-left shadow-2xl flex flex-col items-start relative overflow-hidden bg-white/10 backdrop-blur-xl",children:[u.jsx("div",{className:"absolute -right-4 -top-4 w-20 h-20 bg-white/20 rounded-full opacity-0 group-hover:opacity-10 transition-opacity"}),u.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${P.color} text-white rounded-2xl flex items-center justify-center mb-8 shadow-xl`,children:P.icon}),u.jsx("h3",{className:"text-lg font-black text-white mb-2",children:P.title}),u.jsx("p",{className:"text-[11px] text-white/60 font-semibold leading-relaxed mb-8",children:P.desc}),u.jsxs("div",{className:"mt-auto flex items-center gap-2 text-school-gold font-black text-[9px] uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-opacity",children:["Open Portal ",u.jsx(yb,{size:14})]})]},P.id))})]})})})]})},Ak="https://raw.githubusercontent.com/Golgrax/randompublicimagefreetouse/refs/heads/main/logo.png",kk="https://raw.githubusercontent.com/Golgrax/randompublicimagefreetouse/refs/heads/main/login-background.png",Ck=()=>{const[t,e]=I.useState(1),[n,r]=I.useState(""),[i,l]=I.useState(""),[o,d]=I.useState(""),[p,f]=I.useState(!1),[m,v]=I.useState(""),b=Wi(),E=_=>{_.preventDefault(),f(!0),setTimeout(()=>{!n||!n.includes("@")?(v("Please enter a valid email address."),f(!1)):(e(2),f(!1),v(""))},1e3)},T=_=>{if(_.preventDefault(),i!==o){v("Passwords do not match.");return}f(!0),setTimeout(()=>{e(3),f(!1)},1500)};return u.jsxs("div",{className:"min-h-screen w-full bg-cover bg-center bg-fixed relative flex items-center justify-center overflow-hidden p-6",style:{backgroundImage:`url('${kk}')`},children:[u.jsx("div",{className:"absolute inset-0 bg-slate-950/70 backdrop-blur-[4px]"}),u.jsx("div",{className:"w-full max-w-xl relative z-10 animate-in fade-in zoom-in-95 duration-500",children:u.jsxs("div",{className:"bg-slate-900/85 backdrop-blur-2xl p-12 rounded-[4rem] border-2 border-white/10 shadow-[0_50px_100px_rgba(0,0,0,0.6)]",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:"w-20 h-20 bg-white p-2 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-2xl animate-float",children:u.jsx("img",{src:Ak,alt:"Logo",className:"w-full h-full object-contain"})}),u.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tighter leading-none mb-2",children:"Account Recovery"}),u.jsx("p",{className:"text-[10px] font-black text-school-gold uppercase tracking-[0.4em]",children:"Sto. Nio Security Protocol"})]}),t===1&&u.jsxs("form",{onSubmit:E,className:"space-y-8",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[11px] font-black uppercase tracking-[0.2em] text-slate-300 ml-4",children:"Identity Verification"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx(Gi,{className:"absolute left-6 text-white/30",size:24}),u.jsx("input",{type:"email",required:!0,value:n,onChange:_=>r(_.target.value),className:"w-full pl-16 pr-8 py-6 rounded-[2rem] bg-white/5 border-2 border-white/5 focus:border-school-gold outline-none font-bold text-white shadow-xl transition-all placeholder:text-slate-500",placeholder:"Enter your registered email"})]}),m&&u.jsx("p",{className:"text-rose-400 text-[10px] font-black uppercase tracking-widest ml-4 animate-shake",children:m})]}),u.jsxs("div",{className:"pt-4 space-y-4",children:[u.jsxs("button",{disabled:p,className:"w-full bg-white text-slate-900 font-black py-6 rounded-[2rem] hover:bg-school-gold hover:text-school-navy transition-all flex items-center justify-center gap-4 group uppercase tracking-[0.2em] text-xs shadow-2xl",children:[p?u.jsx(st,{className:"animate-spin",size:22}):"Send Recovery Token",!p&&u.jsx(Hu,{size:22,className:"group-hover:translate-x-2 transition-transform"})]}),u.jsxs(Aa,{to:"/",className:"flex items-center justify-center gap-2 text-white/40 hover:text-white transition-colors text-[10px] font-black uppercase tracking-widest py-2",children:[u.jsx(TA,{size:16})," Back to Auth Gate"]})]})]}),t===2&&u.jsxs("form",{onSubmit:T,className:"space-y-8 animate-in slide-in-from-bottom-10",children:[u.jsxs("div",{className:"p-6 bg-amber-500/10 border-2 border-amber-500/20 rounded-[2rem] flex items-start gap-4 mb-4",children:[u.jsx(di,{className:"text-amber-500 shrink-0",size:24}),u.jsxs("p",{className:"text-[10px] font-bold text-amber-100 uppercase tracking-widest leading-relaxed",children:["Verification successful for ",n,". Please define your new security key below."]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[11px] font-black uppercase tracking-[0.2em] text-slate-300 ml-4",children:"New Security Key"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx($u,{className:"absolute left-6 text-white/30",size:24}),u.jsx("input",{type:"password",required:!0,value:i,onChange:_=>l(_.target.value),className:"w-full pl-16 pr-8 py-6 rounded-[2rem] bg-white/5 border-2 border-white/5 focus:border-school-gold outline-none font-bold text-white shadow-xl transition-all placeholder:text-slate-500",placeholder:""})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[11px] font-black uppercase tracking-[0.2em] text-slate-300 ml-4",children:"Confirm New Key"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx($u,{className:"absolute left-6 text-white/30",size:24}),u.jsx("input",{type:"password",required:!0,value:o,onChange:_=>d(_.target.value),className:"w-full pl-16 pr-8 py-6 rounded-[2rem] bg-white/5 border-2 border-white/5 focus:border-school-gold outline-none font-bold text-white shadow-xl transition-all placeholder:text-slate-500",placeholder:""})]})]}),m&&u.jsx("p",{className:"text-rose-400 text-[10px] font-black uppercase tracking-widest ml-4 animate-shake",children:m})]}),u.jsxs("button",{disabled:p,className:"w-full bg-school-gold text-school-navy font-black py-6 rounded-[2rem] hover:brightness-110 transition-all flex items-center justify-center gap-4 group uppercase tracking-[0.2em] text-xs shadow-2xl",children:[p?u.jsx(st,{className:"animate-spin",size:22}):"Override System Key",!p&&u.jsx(Z4,{size:22,className:"group-hover:rotate-180 transition-transform duration-700"})]})]}),t===3&&u.jsxs("div",{className:"text-center py-10 space-y-10 animate-in zoom-in-95",children:[u.jsx("div",{className:"w-24 h-24 bg-emerald-500/20 text-emerald-500 rounded-full flex items-center justify-center mx-auto border-2 border-emerald-500/20",children:u.jsx(Mn,{size:56})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-4xl font-black text-white uppercase tracking-tighter",children:"Key Updated"}),u.jsx("p",{className:"text-slate-400 font-medium text-lg leading-relaxed max-w-xs mx-auto",children:"Your identity has been re-secured. You can now use your new key to authorize device access."})]}),u.jsx("button",{onClick:()=>b("/"),className:"w-full bg-white text-slate-900 font-black py-6 rounded-[2rem] hover:bg-emerald-500 hover:text-white transition-all uppercase tracking-[0.2em] text-xs shadow-2xl",children:"Return to Login"})]})]})})]})},cv="https://raw.githubusercontent.com/Golgrax/randompublicimagefreetouse/refs/heads/main/logo.png",Rk=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState([]),[l,o]=I.useState([]),[d,p]=I.useState(!0),[f,m]=I.useState(!1),[v,b]=I.useState({title:"",date:"",type:"Academic"}),[E,T]=I.useState({totalUsers:0,pendingApps:0,activeStudents:0,is4PsCount:0,roleData:[],gradeData:[]}),_=Wi(),w=async()=>{const[M,B,J,U,re]=await Promise.all([Ne.getAnnouncements(),Ne.getUsers(),Ne.getEnrollmentApplications(),Ne.getEvents(),Ne.getLogs()]),fe=B.reduce((ee,Q)=>(ee[Q.role]=(ee[Q.role]||0)+1,ee),{}),De=Object.entries(fe).map(([ee,Q])=>({name:ee,value:Q}));n(M),i(U),o(re.slice(0,10)),T({totalUsers:B.length,activeStudents:B.filter(ee=>ee.role===_e.STUDENT).length,is4PsCount:B.filter(ee=>ee.is4Ps).length,pendingApps:J.filter(ee=>ee.status==="pending").length,roleData:De,gradeData:[]}),p(!1)};I.useEffect(()=>{w()},[t.id]);const A=async M=>{if(M.preventDefault(),!v.title||!v.date)return;const B=new Date(v.date),J=B.toLocaleString("default",{month:"short"}).toUpperCase(),U=B.getDate().toString().padStart(2,"0");await Ne.postEvent({title:v.title,date:v.date,month:J,day:U,type:v.type},t.name),m(!1),b({title:"",date:"",type:"Academic"}),w()};if(d)return u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx("div",{className:"w-12 h-12 border-4 border-school-accent border-t-transparent rounded-full animate-spin"})});const R=t.role===_e.ADMIN,k=t.role===_e.ADMIN||t.role===_e.FACULTY,L=new Date,V=L.getFullYear(),P=L.getMonth()>=5?`${V}-${V+1}`:`${V-1}-${V}`;return u.jsxs("div",{className:"space-y-12 animate-in fade-in duration-700",children:[u.jsxs("div",{className:`relative p-12 lg:p-20 rounded-[4rem] overflow-hidden shadow-2xl border border-white/10 ${t.role===_e.STUDENT?"bg-gradient-to-br from-school-navy via-indigo-900 to-indigo-950 text-white":k?"bg-gradient-to-br from-slate-900 via-slate-950 to-black text-white":"bg-gradient-to-br from-indigo-700 to-indigo-900 text-white"}`,children:[u.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row justify-between lg:items-center gap-10",children:[u.jsxs("div",{className:"max-w-2xl",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6 opacity-70",children:[u.jsx("div",{className:"w-8 h-8 bg-white rounded-lg p-1",children:u.jsx("img",{src:cv,className:"w-full h-full object-contain",alt:"Sto. Nio Logo"})}),u.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.4em]",children:"Sto. Nio Elementary School Registry"})]}),u.jsx("h1",{className:"text-5xl lg:text-8xl font-black tracking-tighter leading-[0.9] mb-6",children:k?"Identity Management":`Mabuhay, ${t.name.split(" ")[0]}!`}),u.jsx("p",{className:"text-xl font-medium opacity-80 leading-relaxed max-w-lg mb-10",children:k?"Unified portal for DepEd record compliance and masterlist verification.":t.role===_e.STUDENT&&t.honorStatus!=="None"?`Excellence recognized: You are tagged as ${t.honorStatus}. Keep inspiring!`:"Empowering learners through integrity, honor, and quality education."}),u.jsx("div",{className:"flex gap-4",children:u.jsx("button",{onClick:()=>_(k?"/admin/users":"/profile"),className:"px-12 py-5 bg-white text-slate-900 rounded-[2rem] font-black text-[11px] uppercase tracking-widest transition-all hover:scale-105 active:scale-95 shadow-2xl",children:k?"User Registry":"My Account"})})]}),t.role===_e.STUDENT&&u.jsxs("div",{className:"glass p-10 rounded-[3rem] min-w-[360px] shadow-2xl border-white/20 animate-float",children:[u.jsx("div",{className:"flex justify-between items-start mb-10",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-[11px] font-black uppercase text-white/50 tracking-[0.3em] mb-2",children:"Learner Reference No."}),u.jsx("p",{className:"text-3xl font-black text-school-gold tracking-widest leading-none",children:t.lrn})]})}),u.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[u.jsxs("div",{className:"space-y-1 col-span-3",children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest",children:"Grade and Section"}),u.jsxs("p",{className:"text-sm font-black uppercase whitespace-nowrap",children:[t.gradeLevel," - ",t.section||"N/A"]})]}),u.jsxs("div",{className:"space-y-1 text-right col-span-2",children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest",children:"School Year"}),u.jsx("p",{className:"text-sm font-black uppercase",children:P})]})]})]})]}),u.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 translate-x-1/4 translate-y-1/4 scale-150 pointer-events-none",children:k?u.jsx(gk,{size:600}):u.jsx("img",{src:cv,className:"w-[600px] grayscale brightness-200",alt:""})})]}),k&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 px-2",children:[u.jsx(xu,{icon:u.jsx(Vi,{}),label:"Total Registry",value:E.totalUsers,color:"text-indigo-600"}),u.jsx(xu,{icon:u.jsx(Sa,{}),label:"Active Learners",value:E.activeStudents,color:"text-school-navy"}),u.jsx(xu,{icon:u.jsx(qu,{}),label:"4Ps Beneficiary",value:E.is4PsCount,color:"text-rose-600"}),u.jsx(xu,{icon:u.jsx(Fh,{}),label:"Pending Apps",value:E.pendingApps,color:"text-amber-600"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[R&&u.jsxs("section",{className:"bg-slate-950 border border-slate-800 rounded-[4rem] p-12 shadow-2xl overflow-hidden relative",children:[u.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 rotate-12",children:u.jsx(hk,{size:150,className:"text-school-gold"})}),u.jsxs("div",{className:"flex items-center justify-between mb-10 relative z-10",children:[u.jsxs("h2",{className:"text-2xl font-black flex items-center gap-4 text-white uppercase tracking-tighter",children:[u.jsx(Lh,{className:"text-school-gold"})," Audit Trail"]}),u.jsx("span",{className:"text-[10px] font-black text-school-gold/50 uppercase tracking-[0.4em]",children:"Live Security Protocol"})]}),u.jsx("div",{className:"space-y-4 relative z-10",children:l.map(M=>u.jsxs("div",{className:"flex gap-5 items-start p-6 bg-white/5 rounded-[2rem] border border-white/5 group hover:bg-white/10 transition-all cursor-default",children:[u.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 text-[11px] font-black ${M.category==="Security"?"bg-rose-500/20 text-rose-500":M.category==="Academic"?"bg-indigo-500/20 text-indigo-500":"bg-emerald-500/20 text-emerald-500"}`,children:M.category.charAt(0)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("p",{className:"text-sm font-medium text-slate-300",children:[u.jsx("span",{className:"text-white font-black",children:M.userName})," ",M.action]}),u.jsxs("p",{className:"text-[10px] font-bold text-slate-500 uppercase mt-2 tracking-widest",children:[M.timestamp,"  ",M.category]})]})]},M.id))})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 px-2",children:t.role===_e.STUDENT?u.jsxs(u.Fragment,{children:[u.jsx(ii,{to:"/grades",icon:u.jsx(Nb,{}),label:"SF9 Card",color:"bg-rose-100 text-rose-600"}),u.jsx(ii,{to:"/clearance",icon:u.jsx(di,{}),label:"Clearance",color:"bg-emerald-100 text-emerald-600"}),u.jsx(ii,{to:"/attendance",icon:u.jsx(ba,{}),label:"Attendance",color:"bg-sky-100 text-sky-600"}),u.jsx(ii,{to:"/id-card",icon:u.jsx(Tb,{}),label:"Student ID",color:"bg-indigo-100 text-indigo-700"})]}):k?u.jsxs(u.Fragment,{children:[u.jsx(ii,{to:"/admin/users",icon:u.jsx(Vi,{}),label:"Admissions",color:"bg-rose-100 text-rose-600"}),u.jsx(ii,{to:"/admin/database",icon:u.jsx(pp,{}),label:"Masterfile",color:"bg-indigo-100 text-indigo-700"}),u.jsx(ii,{to:"/masterlist",icon:u.jsx(Sa,{}),label:"SF1 Registry",color:"bg-amber-100 text-amber-600"}),u.jsx(ii,{to:"/faculty-requests",icon:u.jsx(Fh,{}),label:"Validation",color:"bg-emerald-100 text-emerald-600"})]}):null}),u.jsxs("section",{className:"glass rounded-[4rem] p-12 shadow-xl border-slate-200 dark:border-slate-800",children:[u.jsxs("h2",{className:"text-4xl font-black flex items-center gap-5 text-slate-800 dark:text-slate-100 mb-10 uppercase tracking-tighter",children:[u.jsx(Gu,{className:"text-school-accent",size:40})," School Bulletin"]}),u.jsx("div",{className:"space-y-8",children:e.length>0?e.map(M=>u.jsxs("div",{className:"p-10 bg-white/50 dark:bg-slate-800/40 rounded-[3rem] border border-slate-100 dark:border-slate-700 hover:border-school-accent transition-all group shadow-sm",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4 mb-4",children:[u.jsx("h3",{className:"font-black text-2xl text-slate-800 dark:text-slate-100 group-hover:text-school-accent transition-colors",children:M.title}),u.jsx("span",{className:`text-[10px] font-black uppercase tracking-[0.2em] px-5 py-2 rounded-full w-fit ${M.category==="Notice"?"bg-indigo-100 text-indigo-600":M.category==="Brigada Eskwela"?"bg-amber-100 text-amber-600":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:M.category})]}),u.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 leading-relaxed font-medium",children:M.content}),u.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-slate-400",children:[u.jsxs("span",{children:["Author: ",M.author]}),u.jsx("span",{children:M.date})]})]},M.id)):u.jsxs("div",{className:"p-32 text-center text-slate-300",children:[u.jsx(Gu,{size:64,className:"mx-auto mb-6 opacity-20"}),u.jsx("p",{className:"font-black uppercase tracking-[0.5em] text-xs",children:"No Official Updates"})]})})]})]}),u.jsxs("div",{className:"space-y-10",children:[u.jsxs("section",{className:"glass rounded-[4rem] p-12 shadow-xl border-slate-200 dark:border-slate-800",children:[u.jsxs("div",{className:"flex justify-between items-center mb-10",children:[u.jsxs("h3",{className:"text-2xl font-black text-slate-800 dark:text-slate-100 flex items-center gap-4 uppercase tracking-tighter",children:[u.jsx(Bo,{size:28,className:"text-rose-500"}),"DepEd Calendar"]}),k&&u.jsx("button",{onClick:()=>m(!0),className:"p-3 bg-indigo-50 dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 rounded-[1.25rem] hover:scale-110 transition-transform",children:u.jsx(GA,{size:24})})]}),u.jsx("div",{className:"space-y-6",children:r.map(M=>u.jsxs("div",{className:"flex gap-6 items-center p-6 bg-white/50 dark:bg-slate-800/40 rounded-[2rem] group hover:translate-x-2 transition-all",children:[u.jsxs("div",{className:`w-16 h-16 bg-white dark:bg-slate-900 border rounded-[1.5rem] flex flex-col items-center justify-center flex-shrink-0 shadow-lg ${M.type==="Holiday"?"text-rose-600 border-rose-100":M.type==="Brigada Eskwela"?"text-amber-600 border-amber-100":"text-indigo-600 border-indigo-100"}`,children:[u.jsx("span",{className:"text-[11px] font-black leading-none uppercase mb-1",children:M.month}),u.jsx("span",{className:"text-2xl font-black leading-none",children:M.day})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-base font-black text-slate-800 dark:text-slate-100 uppercase tracking-tight leading-tight mb-1",children:M.title}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:M.type})]})]},M.id))})]}),u.jsxs("section",{className:"bg-school-navy dark:bg-slate-950 rounded-[4rem] p-12 shadow-2xl overflow-hidden relative group border border-white/5",children:[u.jsx("div",{className:"absolute top-0 right-0 p-12 text-white/5 -rotate-12 translate-x-1/4 -translate-y-1/4 group-hover:scale-110 transition-transform",children:u.jsx(qu,{size:280})}),u.jsxs("h3",{className:"text-2xl font-black text-white flex items-center gap-4 mb-10 relative z-10 uppercase tracking-tighter",children:[u.jsx(wb,{size:32,className:"text-school-gold"})," Institutional Memo"]}),u.jsxs("div",{className:"p-8 bg-white/10 backdrop-blur-xl rounded-[2.5rem] border border-white/10 relative z-10",children:[u.jsx("p",{className:"text-sm text-white/90 font-bold uppercase tracking-[0.2em] leading-relaxed italic",children:'"Excellence is not an act, but a habit. In Sto. Nio, we build characters that last for generations."'}),u.jsx("p",{className:"mt-6 text-[10px] font-black uppercase tracking-widest text-school-gold",children:"- Office of the Principal"})]})]})]})]}),f&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md",children:u.jsxs("div",{className:"glass w-full max-w-lg rounded-[4rem] p-12 shadow-2xl animate-in zoom-in-95 duration-300",children:[u.jsxs("div",{className:"flex justify-between items-center mb-10",children:[u.jsx("h3",{className:"text-3xl font-black uppercase tracking-tighter",children:"New Calendar Entry"}),u.jsx("button",{onClick:()=>m(!1),className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{size:28})})]}),u.jsxs("form",{onSubmit:A,className:"space-y-8",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[11px] font-black uppercase text-slate-400 tracking-widest ml-3",children:"Event Identity"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-8 py-6 bg-slate-100/50 dark:bg-slate-900 rounded-[2rem] outline-none font-bold text-base border-2 border-transparent focus:border-school-accent",placeholder:"e.g. Buwan ng Wika Celebration",value:v.title,onChange:M=>b({...v,title:M.target.value})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[11px] font-black uppercase text-slate-400 tracking-widest ml-3",children:"Scheduled Date"}),u.jsx("input",{type:"date",required:!0,className:"w-full px-8 py-6 bg-slate-100/50 dark:bg-slate-900 rounded-[2rem] outline-none font-bold text-base border-2 border-transparent focus:border-school-accent",value:v.date,onChange:M=>b({...v,date:M.target.value})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[11px] font-black uppercase text-slate-400 tracking-widest ml-3",children:"Categorization"}),u.jsxs("select",{className:"w-full px-8 py-6 bg-slate-100/50 dark:bg-slate-900 rounded-[2rem] outline-none font-bold text-base border-2 border-transparent focus:border-school-accent",value:v.type,onChange:M=>b({...v,type:M.target.value}),children:[u.jsx("option",{value:"Academic",children:"Academic"}),u.jsx("option",{value:"Holiday",children:"Holiday"}),u.jsx("option",{value:"Social",children:"Social"}),u.jsx("option",{value:"Exam",children:"Exam"}),u.jsx("option",{value:"DepEd Event",children:"DepEd Event"}),u.jsx("option",{value:"PTA Meeting",children:"PTA Meeting"}),u.jsx("option",{value:"Brigada Eskwela",children:"Brigada Eskwela"})]})]}),u.jsx("button",{type:"submit",className:"w-full py-6 bg-school-accent text-white font-black rounded-[2rem] uppercase tracking-widest text-xs shadow-2xl hover:scale-105 transition-transform active:scale-95",children:"Publish Event to Registry"})]})]})})]})},xu=({icon:t,label:e,value:n,color:r})=>u.jsxs("div",{className:"glass border-slate-100 dark:border-slate-800 p-10 rounded-[3rem] shadow-sm flex items-center gap-8 group hover:shadow-2xl hover:-translate-y-2 transition-all duration-300",children:[u.jsx("div",{className:`p-5 rounded-[2rem] bg-slate-50 dark:bg-slate-800 ${r} group-hover:scale-110 group-hover:rotate-6 transition-all shadow-sm`,children:zi.cloneElement(t,{size:36})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tighter leading-none mb-2",children:n}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:e})]})]}),ii=({to:t,icon:e,label:n,color:r})=>u.jsxs(Aa,{to:t,className:`flex flex-col items-center justify-center p-8 rounded-[3rem] shadow-sm hover:shadow-2xl hover:-translate-y-3 transition-all duration-500 group border border-white/5 ${r}`,children:[u.jsx("div",{className:"mb-6 group-hover:scale-125 group-hover:rotate-12 transition-all duration-500",children:zi.cloneElement(e,{size:40})}),u.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.2em] text-center leading-tight",children:n})]}),Mk=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState(!0);I.useEffect(()=>{(async()=>{try{const d=await Ne.getSchedule();n(d)}catch(d){console.error("Failed to fetch schedule:",d)}i(!1)})()},[]);const l=["Monday","Tuesday","Wednesday","Thursday","Friday"];return r?u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx(st,{className:"animate-spin text-school-navy",size:40})}):u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Class Schedule"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Weekly academic timetable and instructional assignments."})]}),u.jsx("div",{className:"space-y-10",children:l.map(o=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-indigo-600 text-white rounded-2xl shadow-lg shadow-indigo-100 dark:shadow-none",children:u.jsx(Bo,{size:20})}),u.jsx("h2",{className:"text-2xl font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:o})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(d=>d.day===o).length>0?e.filter(d=>d.day===o).map(d=>u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 p-8 rounded-[2.5rem] shadow-sm hover:shadow-xl transition-all group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsx("span",{className:"px-4 py-1.5 bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 rounded-full text-[10px] font-black uppercase tracking-widest border border-slate-100 dark:border-slate-700",children:d.time}),u.jsx("div",{className:"w-10 h-10 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl flex items-center justify-center",children:u.jsx(FA,{size:20})})]}),u.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white mb-6 uppercase tracking-tight",children:d.subject}),u.jsxs("div",{className:"space-y-3 pt-6 border-t border-slate-50 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-3 text-slate-500",children:[u.jsx(ul,{size:14,className:"text-slate-300"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:d.instructor})]}),u.jsxs("div",{className:"flex items-center gap-3 text-slate-500",children:[u.jsx(bd,{size:14,className:"text-slate-300"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:d.room})]})]})]},d.id)):u.jsx("div",{className:"col-span-full py-10 bg-slate-50/50 dark:bg-slate-800/30 rounded-[2.5rem] border-2 border-dashed border-slate-100 dark:border-slate-800 flex items-center justify-center",children:u.jsx("p",{className:"text-[10px] font-black uppercase text-slate-300 tracking-[0.2em]",children:"No scheduled classes"})})})]},o))})]})},uv=(t,e,n,r)=>{const i=[t,e,n,r].filter(p=>p>0),l=i.reduce((p,f)=>p+f,0),o=i.length>0?parseFloat((l/i.length).toFixed(1)):0,d=o>=75?"Passed":"Failed";return{finalAverage:o,remarks:d}},Dk=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState([]),[l,o]=I.useState(!0),[d,p]=I.useState(null),[f,m]=I.useState({}),[v,b]=I.useState(null),[E,T]=I.useState(!1),[_,w]=I.useState({studentId:"",studentName:"",subject:"",q1:0,q2:0,q3:0,q4:0}),[A,R]=I.useState(""),k=t.role===_e.FACULTY||t.role===_e.TEACHER||t.role===_e.ADMIN,L=async()=>{o(!0);try{const M=await Ne.getGrades(t.role===_e.STUDENT?t.id:"");if(n(M),k){const B=await Ne.getUsers();i(B.filter(J=>J.role===_e.STUDENT))}}catch(M){console.error("Failed to load grades or students:",M)}o(!1)};I.useEffect(()=>{L()},[t.id,t.role]);const V=async M=>{if(M.preventDefault(),R(""),!_.studentId||!_.subject){R("Student and Subject are required.");return}const B=r.find(re=>re.id===_.studentId);if(!B){R("Selected student not found.");return}const{finalAverage:J,remarks:U}=uv(_.q1,_.q2,_.q3,_.q4);try{await Ne.createGrade({..._,studentName:B.name,finalAverage:J,remarks:U}),T(!1),w({studentId:"",studentName:"",subject:"",q1:0,q2:0,q3:0,q4:0}),L(),b("Grade record created."),setTimeout(()=>b(null),2e3)}catch(re){console.error("Failed to create grade:",re),R(`Failed to create grade: ${re.message}`)}},te=async M=>{const B=e.find(Q=>Q.id===M);if(!B)return;const J=f.q1??B.q1,U=f.q2??B.q2,re=f.q3??B.q3,fe=f.q4??B.q4,{finalAverage:De,remarks:ee}=uv(J,U,re,fe);try{await Ne.updateGrade(M,{...f,studentId:B.studentId,studentName:B.studentName,subject:f.subject??B.subject,q1:J,q2:U,q3:re,q4:fe,finalAverage:De,remarks:ee}),p(null),m({}),b("Progress Report Updated"),setTimeout(()=>b(null),2e3),L()}catch(Q){console.error("Failed to update grade:",Q),alert("Failed to update grade.")}},P=async M=>{if(confirm("Are you sure you want to delete this grade record?"))try{await Ne.deleteGrade(M),L(),b("Grade record deleted."),setTimeout(()=>b(null),2e3)}catch(B){console.error("Failed to delete grade:",B),alert("Failed to delete grade.")}};return l?u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx(st,{className:"animate-spin text-school-navy",size:40})}):u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500",children:[v&&u.jsxs("div",{className:"fixed top-24 right-8 z-[100] bg-slate-900 text-white px-8 py-4 rounded-[2rem] shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-10",children:[u.jsx(Mn,{className:"text-emerald-400"}),u.jsx("span",{className:"font-black text-xs uppercase tracking-widest",children:v})]}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Academic Progress"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Official Elementary Progress Report Card (Form 138)."})]}),u.jsxs("div",{className:"flex gap-3",children:[k&&u.jsxs("button",{onClick:()=>T(!0),className:"px-6 py-3 bg-indigo-600 text-white rounded-2xl flex items-center gap-2 text-xs font-black uppercase tracking-widest shadow-lg",children:[u.jsx(ui,{size:16})," Add Grade"]}),u.jsxs("button",{className:"px-6 py-3 bg-white dark:bg-slate-900 border border-slate-100 rounded-2xl flex items-center gap-2 text-xs font-black uppercase tracking-widest shadow-sm",children:[u.jsx(_b,{size:16})," Print Card"]}),u.jsxs("button",{className:"px-6 py-3 bg-indigo-600 text-white rounded-2xl flex items-center gap-2 text-xs font-black uppercase tracking-widest shadow-lg",children:[u.jsx(zo,{size:16})," Export PDF"]})]})]}),u.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[3rem] shadow-xl overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-slate-800",children:[u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Subject Areas"}),u.jsx("th",{className:"px-6 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"1st"}),u.jsx("th",{className:"px-6 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"2nd"}),u.jsx("th",{className:"px-6 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"3rd"}),u.jsx("th",{className:"px-6 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"4th"}),u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Final"}),u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Remarks"}),k&&u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:e.map(M=>{const B=d===M.id;return u.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-all",children:[u.jsxs("td",{className:"px-8 py-8",children:[u.jsx("p",{className:"font-black text-slate-800 dark:text-slate-100 text-lg leading-none",children:B?u.jsx("input",{type:"text",className:"w-full p-2 bg-slate-100 dark:bg-slate-800 rounded-xl font-black text-sm",value:f.subject??M.subject,onChange:J=>m({...f,subject:J.target.value})}):M.subject}),u.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mt-2",children:k?M.studentName:"Core Academic"})]}),[1,2,3,4].map(J=>{const U=`q${J}`,re=B?f[U]??M[U]:M[U];return u.jsx("td",{className:"px-6 py-8",children:B?u.jsx("input",{type:"number",className:"w-16 p-2 bg-slate-100 dark:bg-slate-800 rounded-xl font-black text-center",value:re===0?"":re,onChange:fe=>m({...f,[U]:parseInt(fe.target.value)||0})}):u.jsx("span",{className:`font-black text-xl ${re===0?"text-slate-200":"text-slate-600"}`,children:re||"-"})},J)}),u.jsx("td",{className:"px-8 py-8",children:u.jsx("div",{className:"flex items-center gap-4",children:u.jsx("span",{className:"px-4 py-2 bg-indigo-600 text-white rounded-2xl font-black text-sm",children:M.finalAverage||"-"})})}),u.jsx("td",{className:"px-8 py-8 text-right",children:u.jsx("span",{className:`px-4 py-2 rounded-2xl text-[10px] font-black uppercase border-2 ${M.remarks==="Passed"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:M.remarks})}),k&&u.jsx("td",{className:"px-8 py-8 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>B?te(M.id):(p(M.id),m({})),className:`p-3 rounded-2xl ${B?"bg-emerald-500 text-white":"bg-slate-100 text-slate-400"}`,title:B?"Save Changes":"Edit Grade",children:B?u.jsx(Ho,{size:18}):u.jsx(_r,{size:18})}),!B&&u.jsx("button",{onClick:()=>P(M.id),className:"p-3 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-2xl transition-all",title:"Delete Grade",children:u.jsx(mi,{size:18})})]})})]},M.id)})})]})})}),E&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:u.jsx(ui,{size:24})}),u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Add New Grade"})]}),u.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{})})]}),A&&u.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 rounded-2xl flex items-center gap-3 text-xs font-bold",children:[u.jsx(rr,{size:18})," ",A]}),u.jsxs("form",{onSubmit:V,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Student"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:_.studentId,onChange:M=>w({..._,studentId:M.target.value}),required:!0,children:[u.jsx("option",{value:"",children:"Select Student"}),r.map(M=>u.jsx("option",{value:M.id,children:M.name},M.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Subject"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g., Math, Science",value:_.subject,onChange:M=>w({..._,subject:M.target.value})})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(M=>u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:["Q",M," Grade"]}),u.jsx("input",{type:"number",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:_[`q${M}`],onChange:B=>w({..._,[`q${M}`]:parseInt(B.target.value)||0})})]},`q${M}`))}),u.jsxs("div",{className:"pt-4 flex gap-4",children:[u.jsx("button",{type:"button",onClick:()=>T(!1),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-xl shadow-indigo-100 dark:shadow-none",children:"Add Grade"})]})]})]})})]})},Ik=({user:t})=>{let e=[];try{t.assignedSections&&(e=typeof t.assignedSections=="string"?JSON.parse(t.assignedSections):t.assignedSections)}catch(U){console.error("Failed to parse assigned sections",U)}const[n,r]=I.useState([]),[i,l]=I.useState(!0),[o,d]=I.useState([]),[p,f]=I.useState(!1),[m,v]=I.useState(!1),[b,E]=I.useState(null),[T,_]=I.useState({title:"",subject:"",downloadLink:"",targetSection:""}),[w,A]=I.useState(null),[R,k]=I.useState(""),L=t.role===_e.FACULTY||t.role===_e.TEACHER||t.role===_e.ADMIN,V=async()=>{l(!0);try{const[U,re]=await Promise.all([Ne.getModules(),Ne.getSections().catch(()=>[])]);let fe=U;t.role===_e.STUDENT?fe=U.filter(De=>De.targetSection===t.section):t.role===_e.TEACHER&&(fe=U.filter(De=>e.includes(De.targetSection||"")||!De.targetSection)),r(fe),t.role===_e.TEACHER?d(e):(t.role===_e.ADMIN||t.role===_e.FACULTY)&&d(re.map(De=>De.name))}catch(U){console.error("Failed to fetch data:",U)}l(!1)};I.useEffect(()=>{V()},[t.id]);const te=async U=>{if(U.preventDefault(),k(""),!T.title||!T.subject||!T.targetSection){k("Title, Subject, and Target Section are required.");return}try{await Ne.createModule(T),f(!1),_({title:"",subject:"",downloadLink:"",targetSection:""}),V()}catch(re){console.error("Failed to create module:",re),k(`Failed to create module: ${re.message}`)}},P=U=>{E(U),A(U),v(!0)},M=async U=>{if(U.preventDefault(),k(""),!(w!=null&&w.title)||!(w!=null&&w.subject)){k("Title and Subject are required.");return}if(b)try{await Ne.updateModule(b.id,w),v(!1),E(null),A(null),V()}catch(re){console.error("Failed to update module:",re),k(`Failed to update module: ${re.message}`)}},B=async U=>{if(confirm("Are you sure you want to delete this module?"))try{await Ne.deleteModule(U),V()}catch(re){console.error("Failed to delete module:",re),alert("Failed to delete module.")}},J=U=>{U?window.open(U,"_blank"):alert("No download link available for this module.")};return i?u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx(st,{className:"animate-spin text-school-navy",size:40})}):u.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Course Modules"}),u.jsx("p",{className:"text-slate-500",children:"Download and view reading materials for your subjects."})]}),u.jsx("div",{className:"flex gap-2",children:L&&u.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors",children:[u.jsx(ui,{size:20})," Add Module"]})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(U=>u.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-all group",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 group-hover:bg-indigo-600 group-hover:text-white transition-colors",children:u.jsx(Pr,{size:24})}),L&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>P(U),className:"p-2 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-2xl transition-all",title:"Edit Module",children:u.jsx(_r,{size:16})}),u.jsx("button",{onClick:()=>B(U.id),className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-2xl transition-all",title:"Delete Module",children:u.jsx(mi,{size:16})})]})]}),u.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:U.title}),u.jsx("p",{className:"text-sm text-indigo-600 font-semibold mb-1",children:U.subject}),u.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest mb-3",children:U.targetSection?`Section: ${U.targetSection}`:"All Sections"}),u.jsxs("p",{className:"text-xs text-slate-400 mb-6 flex items-center gap-1",children:["Uploaded: ",U.uploadDate]}),u.jsxs("button",{onClick:()=>J(U.downloadLink),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-slate-900 text-white text-xs font-bold rounded-xl hover:bg-slate-800 transition-colors",children:[u.jsx(zo,{size:14}),"Download Resource"]})]},U.id))}),p&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:u.jsx(ui,{size:24})}),u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Add New Module"})]}),u.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{})})]}),R&&u.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 rounded-2xl flex items-center gap-3 text-xs font-bold",children:[u.jsx(rr,{size:18})," ",R]}),u.jsxs("form",{onSubmit:te,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Module Title"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g., Introduction to Algebra",value:T.title,onChange:U=>_({...T,title:U.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Subject"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g., Mathematics, Science",value:T.subject,onChange:U=>_({...T,subject:U.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Target Section"}),u.jsxs("div",{className:"relative",children:[u.jsx(Vi,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsxs("select",{required:!0,className:"w-full pl-14 pr-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600 appearance-none",value:T.targetSection,onChange:U=>_({...T,targetSection:U.target.value}),children:[u.jsx("option",{value:"",children:"Select Section"}),o.map(U=>u.jsx("option",{value:U,children:U},U))]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Download Link (GDrive/URL)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Yu,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{type:"url",required:!0,className:"w-full pl-14 pr-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"https://drive.google.com/...",value:T.downloadLink,onChange:U=>_({...T,downloadLink:U.target.value})})]})]}),u.jsxs("div",{className:"pt-4 flex gap-4",children:[u.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-xl shadow-indigo-100 dark:shadow-none",children:"Add Module"})]})]})]})}),m&&b&&w&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:u.jsx(_r,{size:24})}),u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Edit Module"})]}),u.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{})})]}),R&&u.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 rounded-2xl flex items-center gap-3 text-xs font-bold",children:[u.jsx(rr,{size:18})," ",R]}),u.jsxs("form",{onSubmit:M,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Module Title"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g., Introduction to Algebra",value:w.title,onChange:U=>A({...w,title:U.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Subject"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g., Mathematics, Science",value:w.subject,onChange:U=>A({...w,subject:U.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Target Section"}),u.jsxs("div",{className:"relative",children:[u.jsx(Vi,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsxs("select",{required:!0,className:"w-full pl-14 pr-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600 appearance-none",value:w.targetSection,onChange:U=>A({...w,targetSection:U.target.value}),children:[u.jsx("option",{value:"",children:"Select Section"}),o.map(U=>u.jsx("option",{value:U,children:U},U))]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Download Link (GDrive/URL)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Yu,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{type:"url",required:!0,className:"w-full pl-14 pr-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"https://drive.google.com/...",value:w.downloadLink,onChange:U=>A({...w,downloadLink:U.target.value})})]})]}),u.jsxs("div",{className:"pt-4 flex gap-4",children:[u.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-xl shadow-indigo-100 dark:shadow-none",children:"Save Changes"})]})]})]})})]})},Fk=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState([]),[l,o]=I.useState(!0),[d,p]=I.useState(null),[f,m]=I.useState(null),v=I.useRef(null),[b,E]=I.useState(!1),[T,_]=I.useState(!1),[w,A]=I.useState(null),[R,k]=I.useState({title:"",subject:"",dueDate:"",section:"All"}),[L,V]=I.useState(null),[te,P]=I.useState(""),M=["Sampaguita","Narra","Molave","Acacia"],B=t.role===_e.FACULTY||t.role===_e.TEACHER||t.role===_e.ADMIN,J=async()=>{o(!0);try{const[de,ke]=await Promise.all([Ne.getAssignments(),Ne.getSubmissions()]);let me=de;t.role===_e.STUDENT&&(me=de.filter(q=>!q.section||q.section==="All"||q.section===t.section)),console.log("Assignments fetched:",de),console.log("Relevant Assignments:",me),n(me),i(ke.filter(q=>q.studentId===t.id))}catch(de){console.error("Failed to fetch data:",de)}o(!1)};I.useEffect(()=>{J()},[t.id]);const U=(de,ke)=>{var q;const me=(q=de.target.files)==null?void 0:q[0];if(me){const F=new FileReader;F.onload=K=>{var Y;m({id:ke,name:me.name,data:(Y=K.target)==null?void 0:Y.result})},F.readAsDataURL(me)}},re=async de=>{if(f){p(de);try{await Ne.submitAssignmentWork({assignmentId:de,studentId:t.id,studentName:t.name,fileName:f.name,fileData:f.data}),setTimeout(()=>{p(null),m(null),J()},1200)}catch(ke){console.error("Failed to submit assignment:",ke),alert("Failed to submit assignment."),p(null)}}},fe=async de=>{if(de.preventDefault(),P(""),!R.title||!R.subject||!R.dueDate){P("Title, Subject, and Due Date are required.");return}try{await Ne.createAssignment({...R,status:"pending"}),E(!1),k({title:"",subject:"",dueDate:"",section:"All"}),J()}catch(ke){console.error("Failed to create assignment:",ke),P(`Failed to create assignment: ${ke.message}`)}},De=de=>{A(de),V(de),_(!0)},ee=async de=>{if(de.preventDefault(),P(""),!(L!=null&&L.title)||!(L!=null&&L.subject)||!(L!=null&&L.dueDate)){P("Title, Subject, and Due Date are required.");return}if(w)try{await Ne.updateAssignment(w.id,L),_(!1),A(null),V(null),J()}catch(ke){console.error("Failed to update assignment:",ke),P(`Failed to update assignment: ${ke.message}`)}},Q=async de=>{if(confirm("Are you sure you want to delete this assignment?"))try{await Ne.deleteAssignment(de),J()}catch(ke){console.error("Failed to delete assignment:",ke),alert("Failed to delete assignment.")}},ye=de=>{const ke=r.find(me=>me.assignmentId===de);return ke?ke.status:"pending"};return l?u.jsx("div",{className:"p-20 flex justify-center",children:u.jsx(st,{className:"animate-spin"})}):u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Learning Deliverables"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Upload your classroom requirements and track teacher validation."})]}),B&&u.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-3 px-8 py-4 bg-indigo-600 text-white rounded-[2rem] font-black text-sm uppercase tracking-widest hover:scale-105 transition-transform shadow-xl",children:[u.jsx(ui,{size:20}),"New Assignment"]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.length>0?e.map(de=>{var q;const ke=ye(de.id),me=r.find(F=>F.assignmentId===de.id);return u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[2.5rem] p-10 shadow-sm flex flex-col md:flex-row md:items-center justify-between gap-6 hover:shadow-xl transition-all group",children:[u.jsxs("div",{className:"flex gap-6 items-start",children:[u.jsx("div",{className:`p-4 rounded-3xl transition-colors ${ke==="pending"?"bg-slate-100 text-slate-400":ke==="graded"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:ke==="pending"?u.jsx(Pr,{size:32}):ke==="graded"?u.jsx(ba,{size:32}):u.jsx(Er,{size:32})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white leading-none",children:de.title}),B&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>De(de),className:"p-2 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-2xl transition-all",title:"Edit Assignment",children:u.jsx(_r,{size:16})}),u.jsx("button",{onClick:()=>Q(de.id),className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-2xl transition-all",title:"Delete Assignment",children:u.jsx(mi,{size:16})})]})]}),u.jsxs("div",{className:"flex flex-col gap-2 mt-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-600 dark:text-indigo-400 tracking-widest",children:de.subject}),u.jsx("span",{className:"text-slate-300",children:""}),u.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:["Target: ",de.dueDate]}),u.jsx("span",{className:"text-slate-300",children:""}),u.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:["Section: ",de.section||"All"]})]}),de.subject.includes("http")&&u.jsxs("a",{href:(q=de.subject.match(/https?:\/\/[^\s]+/))==null?void 0:q[0],target:"_blank",rel:"noreferrer",className:"text-[10px] font-bold text-sky-500 hover:underline flex items-center gap-1",children:[u.jsx(av,{size:12})," View Attached Resource"]})]})]})]}),!B&&u.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:ke==="pending"?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",className:"hidden",ref:v,onChange:F=>U(F,de.id)}),(f==null?void 0:f.id)===de.id?u.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-xl",children:[u.jsx("span",{className:"text-[10px] font-bold truncate max-w-[150px]",children:f.name}),u.jsx("button",{onClick:()=>m(null),className:"text-rose-500 font-black",children:"X"})]}):u.jsxs("button",{onClick:()=>{const F=document.getElementById(`file-${de.id}`);F==null||F.click()},className:"px-6 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-2xl text-[9px] font-black uppercase tracking-widest flex items-center gap-2 hover:bg-indigo-50 transition-colors",children:[u.jsx(av,{size:16})," Choose File"]}),u.jsx("input",{type:"file",id:`file-${de.id}`,className:"hidden",onChange:F=>U(F,de.id)}),u.jsxs("button",{onClick:()=>re(de.id),disabled:!f||f.id!==de.id||d===de.id,className:"px-8 py-3 bg-slate-900 text-white text-[9px] font-black uppercase tracking-widest rounded-2xl flex items-center gap-2 hover:scale-105 transition-all shadow-xl disabled:opacity-50",children:[d===de.id?u.jsx(st,{size:16,className:"animate-spin"}):u.jsx(h4,{size:16}),"Submit"]})]}):u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsxs("div",{className:`flex items-center gap-3 px-6 py-3 rounded-2xl border ${ke==="graded"?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-amber-50 border-amber-100 text-amber-600"}`,children:[ke==="graded"?u.jsx(Mn,{size:16}):u.jsx(st,{size:16,className:"animate-pulse"}),u.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:ke==="graded"?`Score: ${me==null?void 0:me.grade}/100`:"Reviewing"})]}),(me==null?void 0:me.fileName)&&u.jsxs("p",{className:"text-[9px] font-bold text-slate-400 italic",children:["Attached: ",me.fileName]})]})})]},de.id)}):u.jsx("div",{className:"p-20 text-center text-slate-400 font-black uppercase tracking-widest text-xs",children:"No assignments found for your section."})}),b&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:u.jsx(ui,{size:24})}),u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"New Assignment"})]}),u.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{})})]}),te&&u.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 rounded-2xl flex items-center gap-3 text-xs font-bold",children:[u.jsx(rr,{size:18})," ",te]}),u.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Title"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g., Essay on Rizal",value:R.title,onChange:de=>k({...R,title:de.target.value})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Subject"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g., Filipino",value:R.subject,onChange:de=>k({...R,subject:de.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Due Date"}),u.jsx("input",{type:"date",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:R.dueDate,onChange:de=>k({...R,dueDate:de.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Section"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:R.section,onChange:de=>k({...R,section:de.target.value}),children:[u.jsx("option",{value:"All",children:"All Sections"}),M.map(de=>u.jsx("option",{value:de,children:de},de))]})]}),u.jsxs("div",{className:"pt-4 flex gap-4",children:[u.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-xl shadow-indigo-100 dark:shadow-none",children:"Create Assignment"})]})]})]})}),T&&w&&L&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:u.jsx(_r,{size:24})}),u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Edit Assignment"})]}),u.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{})})]}),te&&u.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 rounded-2xl flex items-center gap-3 text-xs font-bold",children:[u.jsx(rr,{size:18})," ",te]}),u.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Title"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:L.title,onChange:de=>V({...L,title:de.target.value})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Subject"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:L.subject,onChange:de=>V({...L,subject:de.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Due Date"}),u.jsx("input",{type:"date",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:L.dueDate,onChange:de=>V({...L,dueDate:de.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Section"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:L.section||"All",onChange:de=>V({...L,section:de.target.value}),children:[u.jsx("option",{value:"All",children:"All Sections"}),M.map(de=>u.jsx("option",{value:de,children:de},de))]})]}),u.jsxs("div",{className:"pt-4 flex gap-4",children:[u.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-xl shadow-indigo-100 dark:shadow-none",children:"Save Changes"})]})]})]})}),u.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] text-white flex items-center gap-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute right-0 top-0 p-10 opacity-5 -rotate-12 translate-x-1/4 -translate-y-1/4",children:u.jsx(Hi,{size:200})}),u.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-[2rem] flex items-center justify-center text-white shrink-0",children:u.jsx(Hi,{size:32})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-black uppercase tracking-tighter",children:"Submission Protocol"}),u.jsx("p",{className:"text-sm text-white/60 font-medium max-w-2xl leading-relaxed mt-1",children:'Learning materials submitted digitally remain archived in your portfolio. Once a teacher provides feedback, the status will shift from "Reviewing" to "Graded".'})]})]})]})},Lk=({user:t})=>{const[e,n]=I.useState(1),[r,i]=I.useState({fullName:t.name,email:t.email,targetGrade:"Grade 1",previousSchool:"",parentName:"",parentContact:""}),[l,o]=I.useState(null),d=zi.useRef(null),p=Wi(),f=async()=>{try{const v=new FormData;v.append("fullName",r.fullName),v.append("email",r.email),v.append("targetGrade",r.targetGrade),v.append("previousSchool",r.previousSchool),v.append("parentName",r.parentName),v.append("parentContact",r.parentContact),l&&v.append("sf9",l),await Ne.submitApplication(v),n(3)}catch(v){console.error("Failed to submit application:",v),alert("Failed to submit application.")}},m=v=>{v.target.files&&v.target.files[0]&&o(v.target.files[0])};return u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-2xl flex items-center justify-center text-white mx-auto mb-6 shadow-xl shadow-amber-100",children:u.jsx(Sa,{size:32})}),u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Sto. Nio Admission"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 font-medium",children:"Please fill out the form carefully to begin your elementary journey with us."})]}),u.jsx("div",{className:"flex justify-center mb-10",children:u.jsx("div",{className:"flex items-center gap-4",children:[1,2,3].map(v=>u.jsxs(zi.Fragment,{children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-sm font-black transition-all ${e>=v?"bg-amber-500 text-white shadow-lg":"bg-slate-200 dark:bg-slate-800 text-slate-500"}`,children:v}),v<3&&u.jsx("div",{className:"w-16 h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full bg-amber-500 transition-all duration-500 ${e>v?"w-full":"w-0"}`})})]},v))})}),u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm",children:[e===1&&u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"p-3 bg-amber-50 text-amber-600 rounded-2xl",children:u.jsx(ul,{size:24})}),u.jsx("h2",{className:"text-2xl font-black text-slate-800 dark:text-slate-100",children:"Student Profile"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-2 ml-2",children:"Grade Level Applying For"}),u.jsx("select",{className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none font-bold text-sm outline-none focus:ring-2 focus:ring-amber-500",value:r.targetGrade,onChange:v=>i({...r,targetGrade:v.target.value}),children:["Grade 1","Grade 2","Grade 3","Grade 4","Grade 5","Grade 6"].map(v=>u.jsx("option",{value:v,children:v},v))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-2 ml-2",children:"Previous School Attended"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none font-bold text-sm outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Enter school name...",value:r.previousSchool,onChange:v=>i({...r,previousSchool:v.target.value})})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-2 ml-2",children:"Parent/Guardian Full Name"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none font-bold text-sm outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Legal Guardian name...",value:r.parentName,onChange:v=>i({...r,parentName:v.target.value})})]})]}),u.jsx("div",{className:"flex justify-end pt-6",children:u.jsxs("button",{onClick:()=>n(2),className:"bg-slate-900 dark:bg-amber-500 text-white px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest flex items-center gap-3 hover:scale-105 transition-transform shadow-xl",children:["Next: Document Requirements",u.jsx(Hu,{size:18})]})})]}),e===2&&u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"p-3 bg-amber-50 text-amber-600 rounded-2xl",children:u.jsx(Pr,{size:24})}),u.jsx("h2",{className:"text-2xl font-black text-slate-800 dark:text-slate-100",children:"Requirements Upload"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{type:"file",ref:d,className:"hidden",accept:".pdf,.doc,.docx,image/*",onChange:m}),u.jsxs("div",{onClick:()=>{var v;return(v=d.current)==null?void 0:v.click()},className:`p-10 border-4 border-dashed rounded-[2.5rem] text-center transition-all cursor-pointer group ${l?"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/20 hover:bg-white hover:border-amber-200"}`,children:[u.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 transition-colors shadow-sm ${l?"bg-emerald-500 text-white":"bg-white dark:bg-slate-900 text-slate-300 group-hover:text-amber-500"}`,children:l?u.jsx(ba,{size:32}):u.jsx(Co,{size:32})}),u.jsx("p",{className:`text-lg font-black uppercase tracking-tight ${l?"text-emerald-700":"text-slate-700 dark:text-slate-200"}`,children:l?l.name:"Upload Report Card (SF9)"}),u.jsx("p",{className:"text-xs text-slate-400 mt-2 font-bold",children:l?"File Selected":"LATEST RECORD FROM PREVIOUS SCHOOL"})]})]}),u.jsxs("div",{className:"flex justify-between pt-6",children:[u.jsx("button",{onClick:()=>n(1),className:"text-slate-400 font-black text-xs uppercase tracking-widest hover:text-slate-800 transition-all",children:"Back"}),u.jsx("button",{onClick:f,disabled:!t.emailVerified||!l,title:t.emailVerified?l?"":"Please upload your SF9":"Please verify your email first",className:`px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest transition-transform shadow-xl ${!t.emailVerified||!l?"bg-slate-300 cursor-not-allowed text-slate-500":"bg-amber-600 text-white hover:scale-105"}`,children:"Submit Admission Form"})]})]}),e===3&&u.jsxs("div",{className:"text-center py-10 space-y-8",children:[u.jsx("div",{className:"w-24 h-24 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mx-auto animate-in zoom-in-50 duration-500",children:u.jsx(ba,{size:56})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-4xl font-black text-slate-900 dark:text-white uppercase tracking-tighter",children:"Application Sent!"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-4 font-medium max-w-sm mx-auto",children:"Our Registrar will review your SF9 and PSA records. Expect an update in your App Status within 48 hours."})]}),u.jsx("div",{className:"pt-6",children:u.jsx("button",{onClick:()=>p("/"),className:"px-10 py-4 bg-slate-900 dark:bg-amber-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl",children:"Go to Dashboard"})})]})]})]})},Pk=({user:t})=>{let e=[];try{t.assignedSections&&(e=typeof t.assignedSections=="string"?JSON.parse(t.assignedSections):t.assignedSections)}catch(M){console.error("Failed to parse assigned sections",M)}const[n,r]=I.useState([]),[i,l]=I.useState(!1),[o,d]=I.useState(!1),[p,f]=I.useState(null),[m,v]=I.useState(!0),[b,E]=I.useState({title:"",content:"",category:"General",targetSection:"All"}),[T,_]=I.useState(null),[w,A]=I.useState(""),R=async()=>{v(!0);try{const M=await Ne.getAnnouncements();r(M)}catch(M){console.error("Failed to load announcements:",M)}v(!1)};I.useEffect(()=>{R()},[]);const k=async M=>{if(M.preventDefault(),A(""),!b.title||!b.content){A("Title and content are required.");return}try{await Ne.createAnnouncement({title:b.title,content:b.content,author:t.name,category:b.category,targetSection:b.targetSection}),l(!1),E({title:"",content:"",category:"General",targetSection:"All"}),R()}catch(B){console.error("Failed to create announcement:",B),A(`Failed to create announcement: ${B.message}`)}},L=M=>{f(M),_(M),d(!0)},V=async M=>{if(M.preventDefault(),A(""),!(T!=null&&T.title)||!(T!=null&&T.content)){A("Title and content are required.");return}if(p)try{await Ne.updateAnnouncement(p.id,{title:T.title,content:T.content,targetSection:T.targetSection,category:T.category}),d(!1),f(null),_(null),R()}catch(B){console.error("Failed to update announcement:",B),A(`Failed to update announcement: ${B.message}`)}},te=async M=>{if(confirm("Permanently remove this announcement from board?"))try{await Ne.deleteAnnouncement(M),R()}catch(B){console.error("Failed to delete announcement:",B),alert("Failed to delete announcement.")}};if(m)return u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx(st,{className:"animate-spin text-school-navy",size:40})});const P=[_e.FACULTY,_e.TEACHER,_e.ADMIN].includes(t.role);return u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Bulletin Hub"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 font-medium",children:"Broadcast news and academic updates to the school community."})]}),P&&u.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-3 px-8 py-4 bg-indigo-600 text-white rounded-[2rem] font-black text-sm uppercase tracking-widest hover:scale-105 transition-transform shadow-xl",children:[u.jsx(Co,{size:20}),"New Post"]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(M=>u.jsxs("div",{className:"p-8 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] shadow-sm flex flex-col md:flex-row gap-8 items-start",children:[u.jsx("div",{className:`w-14 h-14 rounded-3xl flex items-center justify-center flex-shrink-0 ${M.category==="Emergency"?"bg-rose-100 text-rose-600":"bg-indigo-50 text-indigo-600"}`,children:u.jsx(P4,{size:28})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-3",children:[u.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-slate-100 tracking-tight",children:M.title}),u.jsx("span",{className:`text-[10px] font-black uppercase tracking-[0.2em] px-4 py-1.5 rounded-full ${M.targetSection==="All"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:M.targetSection==="All"?"School-Wide":M.targetSection}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] bg-slate-50 dark:bg-slate-800 px-4 py-1.5 rounded-full text-slate-400",children:M.category})]}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed font-medium mb-6",children:M.content}),u.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-slate-50 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center font-black text-[10px] text-indigo-600",children:M.author.charAt(0)}),u.jsxs("span",{className:"text-xs font-black uppercase text-slate-400 tracking-widest",children:[M.author,"  ",M.date]})]}),P&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>L(M),className:"p-3 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-2xl transition-all",title:"Edit Announcement",children:u.jsx(_r,{size:20})}),u.jsx("button",{onClick:()=>te(M.id),className:"p-3 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-2xl transition-all",title:"Delete Announcement",children:u.jsx(mi,{size:20})})]})]})]})]},M.id))}),i&&u.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6",children:[u.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:()=>l(!1)}),u.jsx("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:u.jsxs("div",{className:"p-10",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h2",{className:"text-3xl font-black tracking-tight uppercase",children:"New Broadcast"}),u.jsx("button",{onClick:()=>l(!1),className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full",children:u.jsx(Ut,{})})]}),w&&u.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 rounded-2xl flex items-center gap-3 text-xs font-bold",children:[u.jsx(rr,{size:18})," ",w]}),u.jsxs("form",{onSubmit:k,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2 ml-2",children:"Target Audience"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border-none outline-none font-bold text-xs",value:b.targetSection,onChange:M=>E({...b,targetSection:M.target.value}),children:[u.jsx("option",{value:"All",children:"Entire School"}),e.map(M=>u.jsx("option",{value:M,children:M},M))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2 ml-2",children:"Category"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border-none outline-none font-bold text-xs",value:b.category,onChange:M=>E({...b,category:M.target.value}),children:[u.jsx("option",{value:"General",children:"General"}),u.jsx("option",{value:"Academic",children:"Academic"}),u.jsx("option",{value:"Emergency",children:"Emergency"}),u.jsx("option",{value:"Event",children:"Event"}),u.jsx("option",{value:"Brigada Eskwela",children:"Brigada Eskwela"}),u.jsx("option",{value:"Notice",children:"Notice"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2 ml-2",children:"Headline"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm",placeholder:"Enter update title...",value:b.title,onChange:M=>E({...b,title:M.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2 ml-2",children:"Content"}),u.jsx("textarea",{rows:4,required:!0,className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-medium text-sm resize-none",placeholder:"Message body...",value:b.content,onChange:M=>E({...b,content:M.target.value})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("button",{type:"button",onClick:()=>l(!1),className:"py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest",children:"Cancel"}),u.jsx("button",{type:"submit",className:"py-4 bg-indigo-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-lg",children:"Post Update"})]})]})]})})]}),o&&p&&T&&u.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6",children:[u.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:()=>d(!1)}),u.jsx("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:u.jsxs("div",{className:"p-10",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h2",{className:"text-3xl font-black tracking-tight uppercase",children:"Edit Broadcast"}),u.jsx("button",{onClick:()=>d(!1),className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full",children:u.jsx(Ut,{})})]}),w&&u.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 rounded-2xl flex items-center gap-3 text-xs font-bold",children:[u.jsx(rr,{size:18})," ",w]}),u.jsxs("form",{onSubmit:V,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2 ml-2",children:"Target Audience"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border-none outline-none font-bold text-xs",value:T.targetSection,onChange:M=>_({...T,targetSection:M.target.value}),children:[u.jsx("option",{value:"All",children:"Entire School"}),e.map(M=>u.jsx("option",{value:M,children:M},M))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2 ml-2",children:"Category"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border-none outline-none font-bold text-xs",value:T.category,onChange:M=>_({...T,category:M.target.value}),children:[u.jsx("option",{value:"General",children:"General"}),u.jsx("option",{value:"Academic",children:"Academic"}),u.jsx("option",{value:"Emergency",children:"Emergency"}),u.jsx("option",{value:"Event",children:"Event"}),u.jsx("option",{value:"Brigada Eskwela",children:"Brigada Eskwela"}),u.jsx("option",{value:"Notice",children:"Notice"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2 ml-2",children:"Headline"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm",placeholder:"Enter update title...",value:T.title,onChange:M=>_({...T,title:M.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2 ml-2",children:"Content"}),u.jsx("textarea",{rows:4,required:!0,className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-medium text-sm resize-none",placeholder:"Message body...",value:T.content,onChange:M=>_({...T,content:M.target.value})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("button",{type:"button",onClick:()=>d(!1),className:"py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest",children:"Cancel"}),u.jsx("button",{type:"submit",className:"py-4 bg-indigo-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-lg",children:"Save Changes"})]})]})]})})]})]})},jk=({user:t})=>{let e=[];try{t.assignedSections&&(e=typeof t.assignedSections=="string"?JSON.parse(t.assignedSections):t.assignedSections)}catch(U){console.error("Failed to parse assigned sections",U)}const[n,r]=I.useState([]),[i,l]=I.useState(!0),[o,d]=I.useState(e[0]||"All"),[p,f]=I.useState(""),[m,v]=I.useState(!1),[b,E]=I.useState("active"),T=Wi(),[_,w]=I.useState(null),[A,R]=I.useState({}),[k,L]=I.useState(!1),V=async()=>{l(!0);try{const U=await Ne.getUsers(t.role===_e.TEACHER?o:"All");r(U.filter(re=>re.role===_e.STUDENT))}catch(U){console.error("Failed to load students:",U)}l(!1)};I.useEffect(()=>{V()},[o]);const te=async(U,re)=>{if(confirm(`ADMIN ACTION: Officially drop ${re} from the school registry?`))try{await Ne.deleteUser(U),V()}catch(fe){console.error("Failed to drop student:",fe),alert("Failed to drop student.")}},P=U=>{T("/faculty/email",{state:{recipientEmail:U}})},M=U=>{w(U),R({...U})},B=async()=>{if(!(!_||!A)){L(!0);try{await Ne.updateUser(_.id,A),w(null),V()}catch(U){console.error("Failed to update student:",U),alert("Failed to update student record.")}L(!1)}},J=n.filter(U=>{const re=U.name.toLowerCase().includes(p.toLowerCase())||U.lrn&&U.lrn.includes(p),fe=m?U.is4Ps:!0,De=(U.status||"active")===b;return re&&fe&&De});return i?u.jsx("div",{className:"p-20 flex justify-center",children:u.jsx(k4,{className:"animate-spin text-school-navy",size:40})}):u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Registry (SF1)"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Monitoring enrolled learners and LRN identity records."})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1.5 rounded-[2rem]",children:[u.jsx("button",{onClick:()=>E("active"),className:`px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${b==="active"?"bg-white dark:bg-slate-800 text-school-navy dark:text-white shadow-sm":"text-slate-400"}`,children:"Active"}),u.jsx("button",{onClick:()=>E("completed"),className:`px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${b==="completed"?"bg-white dark:bg-slate-800 text-emerald-600 shadow-sm":"text-slate-400"}`,children:"Done"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Go,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"text",placeholder:"Search LRN or Name...",className:"pl-12 pr-6 py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl text-xs font-bold outline-none shadow-sm w-full sm:w-64",value:p,onChange:U=>f(U.target.value)})]}),u.jsxs("button",{onClick:()=>v(!m),className:`px-6 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-all ${m?"bg-rose-500 text-white shadow-lg":"bg-white dark:bg-slate-900 text-slate-400 border border-slate-200 dark:border-slate-800"}`,children:[u.jsx(qu,{size:16})," ",m?"4Ps Only":"Filter 4Ps"]})]})]}),u.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-950 p-1.5 rounded-[2rem] w-fit",children:[u.jsx("button",{onClick:()=>d("All"),className:`px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${o==="All"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-400"}`,children:"All Students"}),e.map(U=>u.jsx("button",{onClick:()=>d(U),className:`px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${o===U?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-400"}`,children:U},U))]}),u.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[3rem] shadow-xl overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-slate-800",children:[u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Student Information"}),u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"LRN"}),u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:J.length>0?J.map(U=>u.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-all",children:[u.jsx("td",{className:"px-8 py-8",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 dark:bg-indigo-900/40 text-indigo-600 flex items-center justify-center font-black overflow-hidden",children:U.avatar?u.jsx("img",{src:U.avatar,className:"w-full h-full object-cover",alt:""}):U.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-slate-800 dark:text-slate-100 text-lg leading-tight uppercase tracking-tight",children:U.name}),u.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase mt-1",children:[U.gradeLevel," - ",U.section]})]})]})}),u.jsx("td",{className:"px-8 py-8 font-mono text-sm font-bold text-indigo-600 dark:text-indigo-400 tracking-widest",children:U.lrn}),u.jsx("td",{className:"px-8 py-8",children:u.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[U.is4Ps&&u.jsxs("span",{className:"bg-rose-100 text-rose-700 px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest flex items-center gap-2",children:[u.jsx(qu,{size:10})," 4Ps Beneficiary"]}),U.feedingProgramStatus==="Beneficiary"&&u.jsxs("span",{className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest flex items-center gap-2",children:[u.jsx(Mn,{size:10})," Feeding Program"]}),!U.is4Ps&&U.feedingProgramStatus!=="Beneficiary"&&u.jsx("span",{className:"text-slate-300 text-[9px] font-black uppercase",children:"Regular Status"})]})}),u.jsx("td",{className:"px-8 py-8 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>M(U),className:"p-3 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-2xl transition-all",title:"Manage Student Record",children:u.jsx(_r,{size:18})}),u.jsx("button",{onClick:()=>P(U.email),className:"p-3 text-slate-300 hover:text-sky-600 hover:bg-sky-50 dark:hover:bg-sky-900/20 rounded-2xl transition-all",title:"Send Official Email",children:u.jsx(Xs,{size:18})}),(t.role===_e.ADMIN||t.role===_e.FACULTY)&&u.jsx("button",{onClick:()=>te(U.id,U.name),className:"p-3 text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-2xl transition-all",title:"Drop from Registry",children:u.jsx(Ea,{size:18})})]})})]},U.id)):u.jsx("tr",{children:u.jsxs("td",{colSpan:4,className:"p-32 text-center",children:[u.jsx(rr,{size:48,className:"mx-auto text-slate-200 mb-4"}),u.jsx("p",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:"No matching learners found"})]})})})]})})}),_&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-50 text-indigo-600 rounded-2xl flex items-center justify-center",children:u.jsx(_r,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter text-slate-900 dark:text-white",children:"Manage Record"}),u.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"SF1 Database Entry"})]})]}),u.jsx("button",{onClick:()=>w(null),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{size:20})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-xs font-black uppercase text-slate-400 tracking-widest mb-4",children:"Learner Identity"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 ml-2",children:"Full Name"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-500",value:A.name||"",onChange:U=>R({...A,name:U.target.value})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 ml-2",children:"Learner Ref No. (LRN)"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-500 font-mono tracking-widest",value:A.lrn||"",onChange:U=>R({...A,lrn:U.target.value})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 ml-2",children:"Grade Level"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-500",value:A.gradeLevel||"",onChange:U=>R({...A,gradeLevel:U.target.value})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 ml-2",children:"Section"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-500",value:A.section||"",onChange:U=>R({...A,section:U.target.value})})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-xs font-black uppercase text-slate-400 tracking-widest mb-4",children:"Contact & Status"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 ml-2",children:"Guardian Name"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-500",value:A.guardianName||"",onChange:U=>R({...A,guardianName:U.target.value})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 ml-2",children:"Emergency Phone"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-500",value:A.guardianPhone||"",onChange:U=>R({...A,guardianPhone:U.target.value})})]}),u.jsxs("div",{className:"pt-4 space-y-3",children:[u.jsxs("label",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-2xl cursor-pointer hover:bg-slate-100 transition-colors",children:[u.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg text-indigo-600 focus:ring-indigo-500 border-gray-300",checked:A.is4Ps||!1,onChange:U=>R({...A,is4Ps:U.target.checked})}),u.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-600 dark:text-slate-300",children:"4Ps Beneficiary Status"})]}),u.jsxs("label",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-2xl cursor-pointer hover:bg-slate-100 transition-colors",children:[u.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg text-indigo-600 focus:ring-indigo-500 border-gray-300",checked:A.feedingProgramStatus==="Beneficiary",onChange:U=>R({...A,feedingProgramStatus:U.target.checked?"Beneficiary":"None"})}),u.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-600 dark:text-slate-300",children:"Feeding Program Recipient"})]})]})]})]}),u.jsxs("div",{className:"flex gap-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:[u.jsx("button",{onClick:()=>w(null),className:"flex-1 py-4 rounded-2xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Cancel Changes"}),u.jsx("button",{onClick:B,disabled:k,className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:scale-[1.02] transition-transform disabled:opacity-70 flex items-center justify-center gap-2",children:k?"Saving...":u.jsxs(u.Fragment,{children:[u.jsx(Ho,{size:16})," Save Record"]})})]})]})})]})},Ok=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState(!0);if(I.useEffect(()=>{Ne.getEnrollmentApplications().then(o=>{n(o),i(!1)})},[]),r)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(st,{className:"animate-spin text-indigo-600"})});const l=o=>{switch(o){case"approved":return{color:"text-green-600 bg-green-50",icon:ba,label:"Approved"};case"rejected":return{color:"text-red-600 bg-red-50",icon:hp,label:"Rejected"};default:return{color:"text-amber-600 bg-amber-50",icon:Er,label:"Pending Review"}}};return u.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Application Status"}),u.jsx("p",{className:"text-slate-500",children:"Track the progress of your admission requests."})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.length>0?e.map(o=>{const d=l(o.status);return u.jsx("div",{className:"bg-white border border-slate-100 rounded-3xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center flex-shrink-0 ${d.color}`,children:u.jsx(d.icon,{size:28})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:["Enrollment Application #",o.id]}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Applied on ",o.dateApplied]}),u.jsx("div",{className:"flex items-center gap-2 mt-2",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${d.color}`,children:d.label})})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-2 w-full md:w-auto border-t md:border-0 pt-4 md:pt-0",children:[u.jsx("button",{className:"w-full md:w-auto px-6 py-2 bg-slate-900 text-white font-bold rounded-xl text-sm hover:bg-slate-800 transition-colors",children:"View Details"}),u.jsxs("p",{className:"text-[10px] text-slate-400",children:["Reference: REF-",o.id.toUpperCase()]})]})]})},o.id)}):u.jsxs("div",{className:"py-20 text-center border-2 border-dashed border-slate-200 rounded-3xl",children:[u.jsx(Er,{className:"mx-auto mb-4 text-slate-300",size:48}),u.jsx("p",{className:"text-lg font-bold text-slate-500",children:"No applications found"}),u.jsx("p",{className:"text-sm text-slate-400",children:"Start your journey by clicking the Enrollment menu."})]})})]})};var Vs={},oh={exports:{}},ch,dv;function Uk(){if(dv)return ch;dv=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ch=t,ch}var uh,fv;function Bk(){if(fv)return uh;fv=1;var t=Uk();function e(){}function n(){}return n.resetWarningCache=e,uh=function(){function r(o,d,p,f,m,v){if(v!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},uh}var hv;function Ab(){return hv||(hv=1,oh.exports=Bk()()),oh.exports}var dh,pv;function kb(){return pv||(pv=1,dh={L:1,M:0,Q:3,H:2}),dh}var fh,mv;function Cb(){return mv||(mv=1,fh={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),fh}var hh,gv;function zk(){if(gv)return hh;gv=1;var t=Cb();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},hh=e,hh}var ph,xv;function Hk(){if(xv)return ph;xv=1;var t=kb();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var l=i.length/3,o=new Array,d=0;d<l;d++)for(var p=i[d*3+0],f=i[d*3+1],m=i[d*3+2],v=0;v<p;v++)o.push(new e(f,m));return o},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},ph=e,ph}var mh,vv;function Gk(){if(vv)return mh;vv=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},mh=t,mh}var gh,yv;function Rb(){if(yv)return gh;yv=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return gh=t,gh}var xh,bv;function Mb(){if(bv)return xh;bv=1;var t=Rb();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var l=0;l<n.length-i;l++)this.num[l]=n[l+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var l=0;l<n.getLength();l++)r[i+l]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(l)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),l=0;l<this.getLength();l++)i[l]=this.get(l);for(var l=0;l<n.getLength();l++)i[l]^=t.gexp(t.glog(n.get(l))+r);return new e(i,0).mod(n)}},xh=e,xh}var vh,Sv;function Vk(){if(Sv)return vh;Sv=1;var t=Cb(),e=Mb(),n=Rb(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(l){for(var o=l<<10;i.getBCHDigit(o)-i.getBCHDigit(i.G15)>=0;)o^=i.G15<<i.getBCHDigit(o)-i.getBCHDigit(i.G15);return(l<<10|o)^i.G15_MASK},getBCHTypeNumber:function(l){for(var o=l<<12;i.getBCHDigit(o)-i.getBCHDigit(i.G18)>=0;)o^=i.G18<<i.getBCHDigit(o)-i.getBCHDigit(i.G18);return l<<12|o},getBCHDigit:function(l){for(var o=0;l!=0;)o++,l>>>=1;return o},getPatternPosition:function(l){return i.PATTERN_POSITION_TABLE[l-1]},getMask:function(l,o,d){switch(l){case r.PATTERN000:return(o+d)%2==0;case r.PATTERN001:return o%2==0;case r.PATTERN010:return d%3==0;case r.PATTERN011:return(o+d)%3==0;case r.PATTERN100:return(Math.floor(o/2)+Math.floor(d/3))%2==0;case r.PATTERN101:return o*d%2+o*d%3==0;case r.PATTERN110:return(o*d%2+o*d%3)%2==0;case r.PATTERN111:return(o*d%3+(o+d)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}},getErrorCorrectPolynomial:function(l){for(var o=new e([1],0),d=0;d<l;d++)o=o.multiply(new e([1,n.gexp(d)],0));return o},getLengthInBits:function(l,o){if(1<=o&&o<10)switch(l){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+l)}else if(o<27)switch(l){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+l)}else if(o<41)switch(l){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+l)}else throw new Error("type:"+o)},getLostPoint:function(l){for(var o=l.getModuleCount(),d=0,p=0;p<o;p++)for(var f=0;f<o;f++){for(var m=0,v=l.isDark(p,f),b=-1;b<=1;b++)if(!(p+b<0||o<=p+b))for(var E=-1;E<=1;E++)f+E<0||o<=f+E||b==0&&E==0||v==l.isDark(p+b,f+E)&&m++;m>5&&(d+=3+m-5)}for(var p=0;p<o-1;p++)for(var f=0;f<o-1;f++){var T=0;l.isDark(p,f)&&T++,l.isDark(p+1,f)&&T++,l.isDark(p,f+1)&&T++,l.isDark(p+1,f+1)&&T++,(T==0||T==4)&&(d+=3)}for(var p=0;p<o;p++)for(var f=0;f<o-6;f++)l.isDark(p,f)&&!l.isDark(p,f+1)&&l.isDark(p,f+2)&&l.isDark(p,f+3)&&l.isDark(p,f+4)&&!l.isDark(p,f+5)&&l.isDark(p,f+6)&&(d+=40);for(var f=0;f<o;f++)for(var p=0;p<o-6;p++)l.isDark(p,f)&&!l.isDark(p+1,f)&&l.isDark(p+2,f)&&l.isDark(p+3,f)&&l.isDark(p+4,f)&&!l.isDark(p+5,f)&&l.isDark(p+6,f)&&(d+=40);for(var _=0,f=0;f<o;f++)for(var p=0;p<o;p++)l.isDark(p,f)&&_++;var w=Math.abs(100*_/o/o-50)/5;return d+=w*10,d}};return vh=i,vh}var yh,Ev;function qk(){if(Ev)return yh;Ev=1;var t=zk(),e=Hk(),n=Gk(),r=Vk(),i=Mb();function l(d,p){this.typeNumber=d,this.errorCorrectLevel=p,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=l.prototype;return o.addData=function(d){var p=new t(d);this.dataList.push(p),this.dataCache=null},o.isDark=function(d,p){if(d<0||this.moduleCount<=d||p<0||this.moduleCount<=p)throw new Error(d+","+p);return this.modules[d][p]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var d=1;for(d=1;d<40;d++){for(var p=e.getRSBlocks(d,this.errorCorrectLevel),f=new n,m=0,v=0;v<p.length;v++)m+=p[v].dataCount;for(var v=0;v<this.dataList.length;v++){var b=this.dataList[v];f.put(b.mode,4),f.put(b.getLength(),r.getLengthInBits(b.mode,d)),b.write(f)}if(f.getLengthInBits()<=m*8)break}this.typeNumber=d}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(d,p){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++){this.modules[f]=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++)this.modules[f][m]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(d,p),this.typeNumber>=7&&this.setupTypeNumber(d),this.dataCache==null&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,p)},o.setupPositionProbePattern=function(d,p){for(var f=-1;f<=7;f++)if(!(d+f<=-1||this.moduleCount<=d+f))for(var m=-1;m<=7;m++)p+m<=-1||this.moduleCount<=p+m||(0<=f&&f<=6&&(m==0||m==6)||0<=m&&m<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=m&&m<=4?this.modules[d+f][p+m]=!0:this.modules[d+f][p+m]=!1)},o.getBestMaskPattern=function(){for(var d=0,p=0,f=0;f<8;f++){this.makeImpl(!0,f);var m=r.getLostPoint(this);(f==0||d>m)&&(d=m,p=f)}return p},o.createMovieClip=function(d,p,f){var m=d.createEmptyMovieClip(p,f),v=1;this.make();for(var b=0;b<this.modules.length;b++)for(var E=b*v,T=0;T<this.modules[b].length;T++){var _=T*v,w=this.modules[b][T];w&&(m.beginFill(0,100),m.moveTo(_,E),m.lineTo(_+v,E),m.lineTo(_+v,E+v),m.lineTo(_,E+v),m.endFill())}return m},o.setupTimingPattern=function(){for(var d=8;d<this.moduleCount-8;d++)this.modules[d][6]==null&&(this.modules[d][6]=d%2==0);for(var p=8;p<this.moduleCount-8;p++)this.modules[6][p]==null&&(this.modules[6][p]=p%2==0)},o.setupPositionAdjustPattern=function(){for(var d=r.getPatternPosition(this.typeNumber),p=0;p<d.length;p++)for(var f=0;f<d.length;f++){var m=d[p],v=d[f];if(this.modules[m][v]==null)for(var b=-2;b<=2;b++)for(var E=-2;E<=2;E++)b==-2||b==2||E==-2||E==2||b==0&&E==0?this.modules[m+b][v+E]=!0:this.modules[m+b][v+E]=!1}},o.setupTypeNumber=function(d){for(var p=r.getBCHTypeNumber(this.typeNumber),f=0;f<18;f++){var m=!d&&(p>>f&1)==1;this.modules[Math.floor(f/3)][f%3+this.moduleCount-8-3]=m}for(var f=0;f<18;f++){var m=!d&&(p>>f&1)==1;this.modules[f%3+this.moduleCount-8-3][Math.floor(f/3)]=m}},o.setupTypeInfo=function(d,p){for(var f=this.errorCorrectLevel<<3|p,m=r.getBCHTypeInfo(f),v=0;v<15;v++){var b=!d&&(m>>v&1)==1;v<6?this.modules[v][8]=b:v<8?this.modules[v+1][8]=b:this.modules[this.moduleCount-15+v][8]=b}for(var v=0;v<15;v++){var b=!d&&(m>>v&1)==1;v<8?this.modules[8][this.moduleCount-v-1]=b:v<9?this.modules[8][15-v-1+1]=b:this.modules[8][15-v-1]=b}this.modules[this.moduleCount-8][8]=!d},o.mapData=function(d,p){for(var f=-1,m=this.moduleCount-1,v=7,b=0,E=this.moduleCount-1;E>0;E-=2)for(E==6&&E--;;){for(var T=0;T<2;T++)if(this.modules[m][E-T]==null){var _=!1;b<d.length&&(_=(d[b]>>>v&1)==1);var w=r.getMask(p,m,E-T);w&&(_=!_),this.modules[m][E-T]=_,v--,v==-1&&(b++,v=7)}if(m+=f,m<0||this.moduleCount<=m){m-=f,f=-f;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(d,p,f){for(var m=e.getRSBlocks(d,p),v=new n,b=0;b<f.length;b++){var E=f[b];v.put(E.mode,4),v.put(E.getLength(),r.getLengthInBits(E.mode,d)),E.write(v)}for(var T=0,b=0;b<m.length;b++)T+=m[b].dataCount;if(v.getLengthInBits()>T*8)throw new Error("code length overflow. ("+v.getLengthInBits()+">"+T*8+")");for(v.getLengthInBits()+4<=T*8&&v.put(0,4);v.getLengthInBits()%8!=0;)v.putBit(!1);for(;!(v.getLengthInBits()>=T*8||(v.put(l.PAD0,8),v.getLengthInBits()>=T*8));)v.put(l.PAD1,8);return l.createBytes(v,m)},l.createBytes=function(d,p){for(var f=0,m=0,v=0,b=new Array(p.length),E=new Array(p.length),T=0;T<p.length;T++){var _=p[T].dataCount,w=p[T].totalCount-_;m=Math.max(m,_),v=Math.max(v,w),b[T]=new Array(_);for(var A=0;A<b[T].length;A++)b[T][A]=255&d.buffer[A+f];f+=_;var R=r.getErrorCorrectPolynomial(w),k=new i(b[T],R.getLength()-1),L=k.mod(R);E[T]=new Array(R.getLength()-1);for(var A=0;A<E[T].length;A++){var V=A+L.getLength()-E[T].length;E[T][A]=V>=0?L.get(V):0}}for(var te=0,A=0;A<p.length;A++)te+=p[A].totalCount;for(var P=new Array(te),M=0,A=0;A<m;A++)for(var T=0;T<p.length;T++)A<b[T].length&&(P[M++]=b[T][A]);for(var A=0;A<v;A++)for(var T=0;T<p.length;T++)A<E[T].length&&(P[M++]=E[T][A]);return P},yh=l,yh}var vu={},_v;function $k(){if(_v)return vu;_v=1,Object.defineProperty(vu,"__esModule",{value:!0});var t=Object.assign||function(f){for(var m=1;m<arguments.length;m++){var v=arguments[m];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(f[b]=v[b])}return f},e=Ab(),n=l(e),r=jo(),i=l(r);function l(f){return f&&f.__esModule?f:{default:f}}function o(f,m){var v={};for(var b in f)m.indexOf(b)>=0||Object.prototype.hasOwnProperty.call(f,b)&&(v[b]=f[b]);return v}var d={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},p=(0,r.forwardRef)(function(f,m){var v=f.bgColor,b=f.bgD,E=f.fgD,T=f.fgColor,_=f.size,w=f.title,A=f.viewBoxSize,R=f.xmlns,k=R===void 0?"http://www.w3.org/2000/svg":R,L=o(f,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},L,{height:_,ref:m,viewBox:"0 0 "+A+" "+A,width:_,xmlns:k}),w?i.default.createElement("title",null,w):null,i.default.createElement("path",{d:b,fill:v}),i.default.createElement("path",{d:E,fill:T}))});return p.displayName="QRCodeSvg",p.propTypes=d,vu.default=p,vu}var Tv;function Yk(){if(Tv)return Vs;Tv=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.QRCode=void 0;var t=Object.assign||function(_){for(var w=1;w<arguments.length;w++){var A=arguments[w];for(var R in A)Object.prototype.hasOwnProperty.call(A,R)&&(_[R]=A[R])}return _},e=Ab(),n=v(e),r=kb(),i=v(r),l=qk(),o=v(l),d=jo(),p=v(d),f=$k(),m=v(f);function v(_){return _&&_.__esModule?_:{default:_}}function b(_,w){var A={};for(var R in _)w.indexOf(R)>=0||Object.prototype.hasOwnProperty.call(_,R)&&(A[R]=_[R]);return A}var E={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},T=(0,d.forwardRef)(function(_,w){var A=_.bgColor,R=A===void 0?"#FFFFFF":A,k=_.fgColor,L=k===void 0?"#000000":k,V=_.level,te=V===void 0?"L":V,P=_.size,M=P===void 0?256:P,B=_.value,J=b(_,["bgColor","fgColor","level","size","value"]),U=new o.default(-1,i.default[te]);U.addData(B),U.make();var re=U.modules;return p.default.createElement(m.default,t({},J,{bgColor:R,bgD:re.map(function(fe,De){return fe.map(function(ee,Q){return ee?"":"M "+Q+" "+De+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:L,fgD:re.map(function(fe,De){return fe.map(function(ee,Q){return ee?"M "+Q+" "+De+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:w,size:M,viewBoxSize:re.length}))});return Vs.QRCode=T,T.displayName="QRCode",T.propTypes=E,Vs.default=T,Vs}var Jk=Yk();const Db=ip(Jk),wv="https://raw.githubusercontent.com/Golgrax/randompublicimagefreetouse/refs/heads/main/logo.png",Xk=({user:t})=>{const e=t.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=1A237E&color=fff&size=512`,n=new Date,r=n.getFullYear(),l=n.getMonth()>=5?`${r}-${r+1}`:`${r-1}-${r}`,o=`${t.name}|${t.lrn||"N/A"}|${t.section||"N/A"}|${l}`,d=btoa(o);return u.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-6 duration-700 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-black text-school-navy dark:text-white tracking-tight uppercase",children:"Digital Student ID"}),u.jsxs("p",{className:"text-slate-500 mt-2 font-medium",children:["Official identity card for Academic Year ",l,"."]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center",children:[u.jsxs("div",{className:"relative w-full aspect-auto md:aspect-[1.586/1] rounded-[3rem] bg-gradient-to-br from-school-navy via-[#283593] to-[#1A237E] text-white shadow-[0_35px_60px_-15px_rgba(0,0,0,0.3)] p-10 overflow-hidden group hover:scale-[1.02] transition-all duration-700 border border-white/10 flex flex-col justify-between",children:[u.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5",children:u.jsx("img",{src:wv,className:"rotate-12 translate-x-1/4 -translate-y-1/4 w-[300px] grayscale brightness-200",alt:""})}),u.jsxs("div",{className:"flex items-center gap-5 mb-8 relative z-10",children:[u.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center p-2 shadow-xl overflow-hidden shrink-0",children:u.jsx("img",{src:wv,className:"w-full h-full object-contain",alt:"Sto. Nio Logo"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black tracking-tighter uppercase leading-none",children:"Santo Nio"}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-school-gold",children:"Elementary School"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 relative z-10 items-end sm:items-start",children:[u.jsxs("div",{className:"w-32 h-32 bg-white/20 backdrop-blur-xl rounded-[2rem] border-2 border-white/30 overflow-hidden shadow-2xl relative shrink-0 mx-auto sm:mx-0",children:[u.jsx("img",{src:e,alt:"Student Photo",className:"w-full h-full object-cover"}),!t.avatar&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-school-navy/40",children:u.jsx("p",{className:"text-[8px] font-black uppercase text-white/60 tracking-widest text-center px-4",children:"Official Learner View"})})]}),u.jsxs("div",{className:"flex-1 flex flex-col justify-end pb-2 w-full text-center sm:text-left",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1 justify-center sm:justify-start",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-school-gold",children:"Active Student"}),u.jsx(vb,{size:14,className:"text-emerald-400"})]}),u.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase mb-2",children:t.name}),u.jsxs("p",{className:"text-sm font-bold text-white/60 uppercase tracking-widest",children:[t.gradeLevel||"Grade 4"," - ",t.section||"Sampaguita"]}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[u.jsx("p",{className:"text-[9px] font-black uppercase text-white/40 mb-1",children:"Learner No. (LRN)"}),u.jsx("p",{className:"text-xl font-black tracking-widest text-school-gold",children:t.lrn||"2024-SNES-0000"})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[3rem] p-12 shadow-sm flex flex-col items-center text-center",children:[u.jsx("div",{className:"p-6 bg-white rounded-[2.5rem] mb-8 shadow-inner border border-slate-100 relative overflow-hidden group",children:u.jsx(Db,{value:d,size:180,fgColor:"#1A237E",bgColor:"#FFFFFF",level:"H"})}),u.jsx("p",{className:"text-xs font-black uppercase tracking-[0.3em] text-school-navy dark:text-school-gold mb-8",children:"Scan to Authenticate"}),u.jsxs("div",{className:"w-full space-y-4 text-left mb-10",children:[u.jsxs("div",{className:"flex items-center gap-4 p-5 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-transparent hover:border-slate-200 transition-all",children:[u.jsx(Gi,{className:"text-slate-400",size:20}),u.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 truncate",children:t.email})]}),u.jsxs("div",{className:"flex items-center gap-4 p-5 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-transparent hover:border-slate-200 transition-all",children:[u.jsx(bd,{className:"text-slate-400",size:20}),u.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 truncate",children:t.address||"Sto. Nio Village, Ph"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[u.jsxs("button",{className:"flex items-center justify-center gap-3 py-4.5 bg-school-navy text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-900 active:scale-95 transition-all shadow-xl shadow-school-navy/10",children:[u.jsx(zo,{size:18})," Download"]}),u.jsxs("button",{className:"flex items-center justify-center gap-3 py-4.5 border-2 border-slate-200 dark:border-slate-700 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-50 dark:hover:bg-slate-800 active:scale-95 transition-all",children:[u.jsx(_b,{size:18})," Print Card"]})]})]})]})]})},Wk=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState([]),[l,o]=I.useState(!0),[d,p]=I.useState(null),[f,m]=I.useState("enrollment"),v=async()=>{o(!0);try{const[w,A]=await Promise.all([Ne.getDropoutRequests(),Ne.getEnrollmentApplications()]);n(w),i(A)}catch(w){console.error("Failed to load requests:",w)}o(!1)};I.useEffect(()=>{v()},[]);const b=async(w,A)=>{p(w);try{await Ne.updateEnrollmentStatus(w,"approved");const k=(await Ne.getUsers()).find(L=>L.email===A);k&&await Ne.updateUser(k.id,{role:_e.STUDENT}),v()}catch(R){console.error("Failed to approve admission:",R),alert("Failed to approve admission.")}p(null)},E=async w=>{if(confirm("Are you sure you want to reject this admission request?")){p(w);try{await Ne.updateEnrollmentStatus(w,"rejected"),v()}catch(A){console.error("Failed to reject admission:",A),alert("Failed to reject admission.")}p(null)}},T=async w=>{p(w);try{await Ne.updateDropoutStatus(w,"approved"),v()}catch(A){console.error("Failed to approve dropout:",A),alert("Failed to approve dropout.")}p(null)},_=async w=>{if(confirm("Are you sure you want to reject this dropout request?")){p(w);try{await Ne.updateDropoutStatus(w,"rejected"),v()}catch(A){console.error("Failed to reject dropout:",A),alert("Failed to reject dropout.")}p(null)}};return l?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(st,{className:"animate-spin text-school-navy",size:40})}):u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Requests Hub"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Process admissions and withdrawal requests for SNES."})]}),u.jsxs("div",{className:"flex gap-4 p-1.5 bg-slate-100 dark:bg-slate-900 w-fit rounded-[2rem]",children:[u.jsxs("button",{onClick:()=>m("enrollment"),className:`px-8 py-4 rounded-3xl font-black text-xs uppercase tracking-widest transition-all flex items-center gap-3 ${f==="enrollment"?"bg-white dark:bg-slate-800 text-school-navy dark:text-school-gold shadow-sm":"text-slate-400"}`,children:[u.jsx(Sa,{size:18})," New Admissions"]}),u.jsxs("button",{onClick:()=>m("dropout"),className:`px-8 py-4 rounded-3xl font-black text-xs uppercase tracking-widest transition-all flex items-center gap-3 ${f==="dropout"?"bg-white dark:bg-slate-800 text-school-navy dark:text-school-gold shadow-sm":"text-slate-400"}`,children:[u.jsx(Ea,{size:18})," Withdrawal Requests"]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:f==="enrollment"?r.length>0?r.map(w=>u.jsxs("div",{className:`p-8 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[3rem] shadow-sm flex flex-col md:flex-row gap-8 items-center transition-opacity ${w.status!=="pending"?"opacity-50":""}`,children:[u.jsx("div",{className:"w-16 h-16 bg-amber-50 dark:bg-amber-900/30 rounded-2xl flex items-center justify-center text-amber-600 flex-shrink-0",children:u.jsx(Sa,{size:32})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[u.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white tracking-tight",children:w.fullName}),u.jsx("span",{className:`px-3 py-1 text-[10px] font-black uppercase rounded-full ${w.status==="approved"?"bg-emerald-50 text-emerald-600":w.status==="rejected"?"bg-rose-50 text-rose-600":"bg-amber-50 text-amber-600"}`,children:w.status==="approved"?"Enrolled":w.status==="rejected"?"Rejected":`Applying for ${w.targetGrade}`})]}),u.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Previous: ",u.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:w.previousSchool})]}),w.sf9Path&&u.jsxs("a",{href:w.sf9Path,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 text-xs font-bold text-indigo-600 hover:underline",children:[u.jsx(Pr,{size:14})," View Submitted SF9"]})]}),u.jsx("div",{className:"flex gap-3",children:w.status==="pending"?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>E(w.id),disabled:!!d,className:"px-6 py-4 bg-rose-100 text-rose-600 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-rose-200 transition-all disabled:opacity-50",title:"Reject",children:u.jsx(Ut,{size:16})}),u.jsxs("button",{onClick:()=>b(w.id,w.email),disabled:!!d,className:"px-8 py-4 bg-emerald-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-emerald-100 dark:shadow-none hover:scale-105 transition-all disabled:opacity-50 flex items-center gap-3",children:[d===w.id?u.jsx(st,{size:16,className:"animate-spin"}):u.jsx(Vu,{size:16}),"Approve Admission"]})]}):u.jsxs("span",{className:`font-black text-xs uppercase tracking-widest flex items-center gap-2 ${w.status==="approved"?"text-emerald-500":"text-rose-500"}`,children:[u.jsx(Mn,{size:18})," ",w.status==="approved"?"Processed":"Rejected"]})})]},w.id)):u.jsx(Nv,{icon:u.jsx(Sa,{size:48}),label:"No admission requests found"}):e.length>0?e.map(w=>u.jsxs("div",{className:`p-8 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[3rem] shadow-sm flex flex-col md:flex-row gap-8 items-center transition-opacity ${w.status!=="pending"?"opacity-50":""}`,children:[u.jsx("div",{className:"w-16 h-16 bg-rose-50 dark:bg-rose-900/30 rounded-2xl flex items-center justify-center text-rose-600 flex-shrink-0",children:u.jsx(Ea,{size:32})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[u.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white tracking-tight",children:w.studentName}),u.jsx("span",{className:`px-3 py-1 text-[10px] font-black uppercase rounded-full ${w.status==="approved"?"bg-emerald-50 text-emerald-600":(w.status==="rejected","bg-rose-50 text-rose-600")}`,children:w.status})]}),u.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Reason: ",u.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:w.reason})]})]}),u.jsx("div",{className:"flex gap-3",children:w.status==="pending"?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>_(w.id),disabled:!!d,className:"px-6 py-4 bg-rose-100 text-rose-600 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-rose-200 transition-all disabled:opacity-50",title:"Reject",children:u.jsx(Ut,{size:16})}),u.jsxs("button",{onClick:()=>T(w.id),disabled:!!d,className:"px-8 py-4 bg-emerald-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-emerald-100 dark:shadow-none hover:scale-105 transition-all disabled:opacity-50 flex items-center gap-3",children:[d===w.id?u.jsx(st,{size:16,className:"animate-spin"}):u.jsx(Vu,{size:16}),"Approve Dropout"]})]}):u.jsxs("span",{className:`font-black text-xs uppercase tracking-widest flex items-center gap-2 ${w.status==="approved"?"text-emerald-500":"text-rose-500"}`,children:[u.jsx(Mn,{size:18})," ",w.status==="approved"?"Processed":"Rejected"]})})]},w.id)):u.jsx(Nv,{icon:u.jsx(Ea,{size:48}),label:"No withdrawal requests found"})})]})},Nv=({icon:t,label:e})=>u.jsxs("div",{className:"p-32 text-center border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[4rem]",children:[u.jsx("div",{className:"text-slate-200 dark:text-slate-700 mb-6 flex justify-center",children:t}),u.jsx("p",{className:"text-slate-400 font-black uppercase text-sm tracking-widest",children:e})]});var Kk={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qk,Zk;function eC(){return{geminiUrl:Qk,vertexUrl:Zk}}function tC(t,e,n,r){var i,l;if(!(t!=null&&t.baseUrl)){const o=eC();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(l=o.geminiUrl)!==null&&l!==void 0?l:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ma{}function Be(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const l=e[i];return l!=null?String(l):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let l=0;l<e.length-1;l++){const o=e[l];if(o.endsWith("[]")){const d=o.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[d])){const p=t[d];if(Array.isArray(n))for(let f=0;f<p.length;f++){const m=p[f];x(m,e.slice(l+1),n[f])}else for(const f of p)x(f,e.slice(l+1),n)}return}else if(o.endsWith("[0]")){const d=o.slice(0,-3);d in t||(t[d]=[{}]);const p=t[d];x(p[0],e.slice(l+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in t){const o=t[l];return Array.isArray(o)?o.map(d=>g(d,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function nC(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),l=r.split("."),o=new Set;let d=-1;for(let p=0;p<i.length;p++)if(i[p]==="*"){d=p;break}if(d!==-1&&l.length>d)for(let p=d;p<l.length;p++){const f=l[p];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&o.add(f)}Oh(t,i,l,0,o)}}function Oh(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const l=e[r];if(l.endsWith("[]")){const o=l.slice(0,-2),d=t;if(o in d&&Array.isArray(d[o]))for(const p of d[o])Oh(p,e,n,r+1,i)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,d=Object.keys(o).filter(f=>!f.startsWith("_")&&!i.has(f)),p={};for(const f of d)p[f]=o[f];for(const[f,m]of Object.entries(p)){const v=[];for(const b of n.slice(r))b==="*"?v.push(f):v.push(b);x(o,v,m)}for(const f of d)delete o[f]}}else{const o=t;l in o&&Oh(o[l],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mp(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rC(t){const e={},n=g(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function aC(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const l=g(t,["error"]);l!=null&&x(e,["error"],l);const o=g(t,["response","generateVideoResponse"]);return o!=null&&x(e,["response"],sC(o)),e}function iC(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const l=g(t,["error"]);l!=null&&x(e,["error"],l);const o=g(t,["response"]);return o!=null&&x(e,["response"],lC(o)),e}function sC(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>oC(o))),x(e,["generatedVideos"],l)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function lC(t){const e={},n=g(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>cC(o))),x(e,["generatedVideos"],l)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function oC(t){const e={},n=g(t,["video"]);return n!=null&&x(e,["video"],mC(n)),e}function cC(t){const e={},n=g(t,["_self"]);return n!=null&&x(e,["video"],gC(n)),e}function uC(t){const e={},n=g(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function dC(t){const e={},n=g(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function fC(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const l=g(t,["error"]);l!=null&&x(e,["error"],l);const o=g(t,["response"]);return o!=null&&x(e,["response"],hC(o)),e}function hC(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&x(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function Ib(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const l=g(t,["error"]);l!=null&&x(e,["error"],l);const o=g(t,["response"]);return o!=null&&x(e,["response"],pC(o)),e}function pC(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&x(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function mC(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],mp(r));const i=g(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function gC(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],mp(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Av;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Av||(Av={}));var kv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(kv||(kv={}));var Cv;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Cv||(Cv={}));var li;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(li||(li={}));var Rv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Rv||(Rv={}));var Mv;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Mv||(Mv={}));var Dv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Dv||(Dv={}));var Iv;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Iv||(Iv={}));var Fv;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Fv||(Fv={}));var Lv;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Lv||(Lv={}));var Pv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Pv||(Pv={}));var jv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(jv||(jv={}));var Ov;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ov||(Ov={}));var Uv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Uv||(Uv={}));var Bv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Bv||(Bv={}));var zv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(zv||(zv={}));var Hv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Hv||(Hv={}));var Gv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Gv||(Gv={}));var Vv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Vv||(Vv={}));var Ju;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ju||(Ju={}));var qv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qv||(qv={}));var $v;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($v||($v={}));var Yv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Yv||(Yv={}));var Uh;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Uh||(Uh={}));var Jv;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Jv||(Jv={}));var Xv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Xv||(Xv={}));var Wv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Wv||(Wv={}));var Kv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Kv||(Kv={}));var Qv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Qv||(Qv={}));var Zv;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Zv||(Zv={}));var ey;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ey||(ey={}));var ty;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ty||(ty={}));var ny;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ny||(ny={}));var ry;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ry||(ry={}));var ay;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ay||(ay={}));var iy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(iy||(iy={}));var sy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sy||(sy={}));var ly;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ly||(ly={}));var oy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(oy||(oy={}));var cy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(cy||(cy={}));var uy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(uy||(uy={}));var dy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(dy||(dy={}));var fy;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(fy||(fy={}));var hy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(hy||(hy={}));var py;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(py||(py={}));var my;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(my||(my={}));var gy;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(gy||(gy={}));var xy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(xy||(xy={}));var vy;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(vy||(vy={}));var yy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yy||(yy={}));var by;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(by||(by={}));var Sy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Sy||(Sy={}));var Ey;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ey||(Ey={}));var _y;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_y||(_y={}));var Ty;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ty||(Ty={}));var Qs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Qs||(Qs={}));class Bh{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class mo{get text(){var e,n,r,i,l,o,d,p;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",m=!1;const v=[];for(const b of(p=(d=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[E,T]of Object.entries(b))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(T!==null||T!==void 0)&&v.push(E);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;m=!0,f+=b.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?f:void 0}get data(){var e,n,r,i,l,o,d,p;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const m=[];for(const v of(p=(d=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[b,E]of Object.entries(v))b!=="inlineData"&&(E!==null||E!==void 0)&&m.push(b);v.inlineData&&typeof v.inlineData.data=="string"&&(f+=atob(v.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,l,o,d,p;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(p=(d=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,l,o,d,p,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(p=(d=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,l,o,d,p,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(p=(d=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.output}}class wy{}class Ny{}class xC{}class vC{}class yC{}class bC{}class Ay{}class ky{}class Cy{}class SC{}class Xu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Xu;let i;const l=e;return n?i=iC(l):i=aC(l),Object.assign(r,i),r}}class Ry{}class My{}class Dy{}class Iy{}class EC{}class _C{}class TC{}class gp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new gp,l=fC(e);return Object.assign(r,l),r}}class wC{}class NC{}class AC{}class Fy{}class kC{get text(){var e,n,r;let i="",l=!1;const o=[];for(const d of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[p,f]of Object.entries(d))p!=="text"&&p!=="thought"&&f!==null&&o.push(p);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;l=!0,i+=d.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?i:void 0}get data(){var e,n,r;let i="";const l=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,p]of Object.entries(o))d!=="inlineData"&&p!==null&&l.push(d);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class CC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class xp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new xp,l=Ib(e);return Object.assign(r,l),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Fb(t,e){const n=dt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Lb(t){return Array.isArray(t)?t.map(e=>Wu(e)):[Wu(t)]}function Wu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Pb(t){const e=Wu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jb(t){const e=Wu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ly(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Ob(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Ly(e)):[Ly(t)]}function zh(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Py(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function jy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function bn(t){if(t==null)throw new Error("ContentUnion is required");return zh(t)?t:{role:"user",parts:Ob(t)}}function vp(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=bn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=bn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>bn(n)):[bn(e)]}function Sr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Py(t)||jy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[bn(t)]}const e=[],n=[],r=zh(t[0]);for(const i of t){const l=zh(i);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(i);else{if(Py(i)||jy(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Ob(n)}),e}function RC(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(li).includes(n[0].toUpperCase())?n[0].toUpperCase():li.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(li).includes(r.toUpperCase())?r.toUpperCase():li.TYPE_UNSPECIFIED})}}function tl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&RC(t.type,e);for(const[o,d]of Object.entries(t))if(d!=null)if(o=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(li).includes(d.toUpperCase())?d.toUpperCase():li.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=tl(d);else if(r.includes(o)){const p=[];for(const f of d){if(f.type=="null"){e.nullable=!0;continue}p.push(tl(f))}e[o]=p}else if(i.includes(o)){const p={};for(const[f,m]of Object.entries(d))p[f]=tl(m);e[o]=p}else{if(o==="additionalProperties")continue;e[o]=d}return e}function yp(t){return tl(t)}function bp(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Sp(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function dl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=tl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=tl(e.response));return t}function fl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function MC(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Da(t,e){if(typeof e!="string")throw new Error("name must be a string");return MC(t,e,"cachedContents")}function Ub(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function gi(t){return mp(t)}function DC(t){return t!=null&&typeof t=="object"&&"name"in t}function IC(t){return t!=null&&typeof t=="object"&&"video"in t}function FC(t){return t!=null&&typeof t=="object"&&"uri"in t}function Bb(t){var e;let n;if(DC(t)&&(n=t.name),!(FC(t)&&(n=t.uri,n===void 0))&&!(IC(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function zb(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Hb(t){for(const e of["models","tunedModels","publisherModels"])if(LC(t,e))return t[e];return[]}function LC(t,e){return t!==null&&typeof t=="object"&&e in t}function PC(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function jC(t,e={}){const n=[],r=new Set;for(const i of t){const l=i.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const o=PC(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Gb(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function OC(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Vb(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let l=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const p=o.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function hl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function qb(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(t){const e={},n=g(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>y3(o))),x(e,["inlinedResponses"],l)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>o)),x(e,["inlinedEmbedContentResponses"],l)}return e}function BC(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function zC(t){const e={},n=g(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ju(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&x(e,["state"],qb(i));const l=g(t,["metadata","createTime"]);l!=null&&x(e,["createTime"],l);const o=g(t,["metadata","endTime"]);o!=null&&x(e,["endTime"],o);const d=g(t,["metadata","updateTime"]);d!=null&&x(e,["updateTime"],d);const p=g(t,["metadata","model"]);p!=null&&x(e,["model"],p);const f=g(t,["metadata","output"]);return f!=null&&x(e,["dest"],UC(Vb(f))),e}function Hh(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["state"]);i!=null&&x(e,["state"],qb(i));const l=g(t,["error"]);l!=null&&x(e,["error"],l);const o=g(t,["createTime"]);o!=null&&x(e,["createTime"],o);const d=g(t,["startTime"]);d!=null&&x(e,["startTime"],d);const p=g(t,["endTime"]);p!=null&&x(e,["endTime"],p);const f=g(t,["updateTime"]);f!=null&&x(e,["updateTime"],f);const m=g(t,["model"]);m!=null&&x(e,["model"],m);const v=g(t,["inputConfig"]);v!=null&&x(e,["src"],HC(v));const b=g(t,["outputConfig"]);b!=null&&x(e,["dest"],BC(Vb(b)));const E=g(t,["completionStats"]);return E!=null&&x(e,["completionStats"],E),e}function HC(t){const e={},n=g(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function GC(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>v3(t,o))),x(n,["requests","requests"],l)}return n}function VC(t){const e={},n=g(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function qC(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function $C(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],hl(t,r)),n}function YC(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],hl(t,r)),n}function JC(t){const e={},n=g(t,["content"]);n!=null&&x(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],XC(r));const i=g(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const l=g(t,["finishReason"]);l!=null&&x(e,["finishReason"],l);const o=g(t,["avgLogprobs"]);o!=null&&x(e,["avgLogprobs"],o);const d=g(t,["groundingMetadata"]);d!=null&&x(e,["groundingMetadata"],d);const p=g(t,["index"]);p!=null&&x(e,["index"],p);const f=g(t,["logprobsResult"]);f!=null&&x(e,["logprobsResult"],f);const m=g(t,["safetyRatings"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(E=>E)),x(e,["safetyRatings"],b)}const v=g(t,["urlContextMetadata"]);return v!=null&&x(e,["urlContextMetadata"],v),e}function XC(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function $b(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>N3(l))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function WC(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function KC(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],zC(OC(i))),n}function Oy(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["src"]);i!=null&&x(n,["batch","inputConfig"],GC(t,Gb(t,i)));const l=g(e,["config"]);return l!=null&&WC(l,n),n}function QC(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["model"],dt(t,r));const i=g(e,["src"]);i!=null&&x(n,["inputConfig"],VC(Gb(t,i)));const l=g(e,["config"]);return l!=null&&KC(l,n),n}function ZC(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function e3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["src"]);i!=null&&x(n,["batch","inputConfig"],l3(t,i));const l=g(e,["config"]);return l!=null&&ZC(l,n),n}function t3(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],hl(t,r)),n}function n3(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],hl(t,r)),n}function r3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const l=g(t,["error"]);return l!=null&&x(e,["error"],l),e}function a3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const l=g(t,["error"]);return l!=null&&x(e,["error"],l),e}function i3(t,e){const n={},r=g(e,["contents"]);if(r!=null){let l=vp(t,r);Array.isArray(l)&&(l=l.map(o=>o)),x(n,["requests[]","request","content"],l)}const i=g(e,["config"]);return i!=null&&(x(n,["_self"],s3(i,n)),nC(n,{"requests[].*":"requests[].request.*"})),n}function s3(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const l=g(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&x(e,["requests[]","outputDimensionality"],l),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function l3(t,e){const n={},r=g(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],i3(t,i)),n}function o3(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function c3(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function u3(t){const e={},n=g(t,["mode"]);n!=null&&x(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function d3(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],$b(bn(i)));const l=g(e,["temperature"]);l!=null&&x(r,["temperature"],l);const o=g(e,["topP"]);o!=null&&x(r,["topP"],o);const d=g(e,["topK"]);d!=null&&x(r,["topK"],d);const p=g(e,["candidateCount"]);p!=null&&x(r,["candidateCount"],p);const f=g(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const m=g(e,["stopSequences"]);m!=null&&x(r,["stopSequences"],m);const v=g(e,["responseLogprobs"]);v!=null&&x(r,["responseLogprobs"],v);const b=g(e,["logprobs"]);b!=null&&x(r,["logprobs"],b);const E=g(e,["presencePenalty"]);E!=null&&x(r,["presencePenalty"],E);const T=g(e,["frequencyPenalty"]);T!=null&&x(r,["frequencyPenalty"],T);const _=g(e,["seed"]);_!=null&&x(r,["seed"],_);const w=g(e,["responseMimeType"]);w!=null&&x(r,["responseMimeType"],w);const A=g(e,["responseSchema"]);A!=null&&x(r,["responseSchema"],yp(A));const R=g(e,["responseJsonSchema"]);if(R!=null&&x(r,["responseJsonSchema"],R),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=g(e,["safetySettings"]);if(n!==void 0&&k!=null){let fe=k;Array.isArray(fe)&&(fe=fe.map(De=>A3(De))),x(n,["safetySettings"],fe)}const L=g(e,["tools"]);if(n!==void 0&&L!=null){let fe=fl(L);Array.isArray(fe)&&(fe=fe.map(De=>C3(dl(De)))),x(n,["tools"],fe)}const V=g(e,["toolConfig"]);if(n!==void 0&&V!=null&&x(n,["toolConfig"],k3(V)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=g(e,["cachedContent"]);n!==void 0&&te!=null&&x(n,["cachedContent"],Da(t,te));const P=g(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const M=g(e,["mediaResolution"]);M!=null&&x(r,["mediaResolution"],M);const B=g(e,["speechConfig"]);if(B!=null&&x(r,["speechConfig"],bp(B)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=g(e,["thinkingConfig"]);J!=null&&x(r,["thinkingConfig"],J);const U=g(e,["imageConfig"]);U!=null&&x(r,["imageConfig"],x3(U));const re=g(e,["enableEnhancedCivicAnswers"]);return re!=null&&x(r,["enableEnhancedCivicAnswers"],re),r}function f3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(f=>JC(f))),x(e,["candidates"],p)}const i=g(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const l=g(t,["promptFeedback"]);l!=null&&x(e,["promptFeedback"],l);const o=g(t,["responseId"]);o!=null&&x(e,["responseId"],o);const d=g(t,["usageMetadata"]);return d!=null&&x(e,["usageMetadata"],d),e}function h3(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],hl(t,r)),n}function p3(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],hl(t,r)),n}function m3(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function g3(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function x3(t){const e={},n=g(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function v3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["request","model"],dt(t,r));const i=g(e,["contents"]);if(i!=null){let d=Sr(i);Array.isArray(d)&&(d=d.map(p=>$b(p))),x(n,["request","contents"],d)}const l=g(e,["metadata"]);l!=null&&x(n,["metadata"],l);const o=g(e,["config"]);return o!=null&&x(n,["request","generationConfig"],d3(t,o,g(n,["request"],{}))),n}function y3(t){const e={},n=g(t,["response"]);n!=null&&x(e,["response"],f3(n));const r=g(t,["error"]);return r!=null&&x(e,["error"],r),e}function b3(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function S3(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const l=g(t,["filter"]);return e!==void 0&&l!=null&&x(e,["_query","filter"],l),n}function E3(t){const e={},n=g(t,["config"]);return n!=null&&b3(n,e),e}function _3(t){const e={},n=g(t,["config"]);return n!=null&&S3(n,e),e}function T3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>ju(o))),x(e,["batchJobs"],l)}return e}function w3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Hh(o))),x(e,["batchJobs"],l)}return e}function N3(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const l=g(t,["fileData"]);l!=null&&x(e,["fileData"],o3(l));const o=g(t,["functionCall"]);o!=null&&x(e,["functionCall"],c3(o));const d=g(t,["functionResponse"]);d!=null&&x(e,["functionResponse"],d);const p=g(t,["inlineData"]);p!=null&&x(e,["inlineData"],qC(p));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const m=g(t,["thought"]);m!=null&&x(e,["thought"],m);const v=g(t,["thoughtSignature"]);v!=null&&x(e,["thoughtSignature"],v);const b=g(t,["videoMetadata"]);return b!=null&&x(e,["videoMetadata"],b),e}function A3(t){const e={},n=g(t,["category"]);if(n!=null&&x(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function k3(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],u3(n));const r=g(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function C3(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>v)),x(e,["functionDeclarations"],m)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const l=g(t,["fileSearch"]);l!=null&&x(e,["fileSearch"],l);const o=g(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=g(t,["googleMaps"]);d!=null&&x(e,["googleMaps"],m3(d));const p=g(t,["googleSearch"]);p!=null&&x(e,["googleSearch"],g3(p));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ka;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ka||(ka={}));class Ki{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(l=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R3 extends Ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ki(ka.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Oy(this.apiClient,e),r=n._url,i=Be("{model}:batchGenerateContent",r),d=n.batch.inputConfig.requests,p=d.requests,f=[];for(const m of p){const v=Object.assign({},m);if(v.systemInstruction){const b=v.systemInstruction;delete v.systemInstruction;const E=v.request;E.systemInstruction=b,v.request=E}f.push(v)}return d.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const l=this.getGcsUri(e),o=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=QC(this.apiClient,e);return d=Be("batchPredictionJobs",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Hh(m))}else{const f=Oy(this.apiClient,e);return d=Be("{model}:batchGenerateContent",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),o.then(m=>ju(m))}}async createEmbeddingsInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=e3(this.apiClient,e);return l=Be("{model}:asyncBatchEmbedContent",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>ju(p))}}async get(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=p3(this.apiClient,e);return d=Be("batchPredictionJobs/{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Hh(m))}else{const f=h3(this.apiClient,e);return d=Be("batches/{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),o.then(m=>ju(m))}}async cancel(e){var n,r,i,l;let o="",d={};if(this.apiClient.isVertexAI()){const p=YC(this.apiClient,e);o=Be("batchPredictionJobs/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:o,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const p=$C(this.apiClient,e);o=Be("batches/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:o,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=_3(e);return d=Be("batchPredictionJobs",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=w3(m),b=new Fy;return Object.assign(b,v),b})}else{const f=E3(e);return d=Be("batches",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=T3(m),b=new Fy;return Object.assign(b,v),b})}}async delete(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=n3(this.apiClient,e);return d=Be("batchPredictionJobs/{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>a3(m))}else{const f=t3(this.apiClient,e);return d=Be("batches/{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>r3(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M3(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Uy(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>eR(l))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function D3(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const l=g(t,["displayName"]);e!==void 0&&l!=null&&x(e,["displayName"],l);const o=g(t,["contents"]);if(e!==void 0&&o!=null){let m=Sr(o);Array.isArray(m)&&(m=m.map(v=>Uy(v))),x(e,["contents"],m)}const d=g(t,["systemInstruction"]);e!==void 0&&d!=null&&x(e,["systemInstruction"],Uy(bn(d)));const p=g(t,["tools"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(v=>nR(v))),x(e,["tools"],m)}const f=g(t,["toolConfig"]);if(e!==void 0&&f!=null&&x(e,["toolConfig"],tR(f)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function I3(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const l=g(t,["displayName"]);e!==void 0&&l!=null&&x(e,["displayName"],l);const o=g(t,["contents"]);if(e!==void 0&&o!=null){let v=Sr(o);Array.isArray(v)&&(v=v.map(b=>b)),x(e,["contents"],v)}const d=g(t,["systemInstruction"]);e!==void 0&&d!=null&&x(e,["systemInstruction"],bn(d));const p=g(t,["tools"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(b=>rR(b))),x(e,["tools"],v)}const f=g(t,["toolConfig"]);e!==void 0&&f!=null&&x(e,["toolConfig"],f);const m=g(t,["kmsKeyName"]);return e!==void 0&&m!=null&&x(e,["encryption_spec","kmsKeyName"],m),n}function F3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["model"],Fb(t,r));const i=g(e,["config"]);return i!=null&&D3(i,n),n}function L3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["model"],Fb(t,r));const i=g(e,["config"]);return i!=null&&I3(i,n),n}function P3(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Da(t,r)),n}function j3(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Da(t,r)),n}function O3(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function U3(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function B3(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function z3(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function H3(t){const e={},n=g(t,["mode"]);n!=null&&x(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function G3(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&x(e,["description"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["parameters"]);i!=null&&x(e,["parameters"],i);const l=g(t,["parametersJsonSchema"]);l!=null&&x(e,["parametersJsonSchema"],l);const o=g(t,["response"]);o!=null&&x(e,["response"],o);const d=g(t,["responseJsonSchema"]);return d!=null&&x(e,["responseJsonSchema"],d),e}function V3(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Da(t,r)),n}function q3(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Da(t,r)),n}function $3(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Y3(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function J3(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function X3(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function W3(t){const e={},n=g(t,["config"]);return n!=null&&J3(n,e),e}function K3(t){const e={},n=g(t,["config"]);return n!=null&&X3(n,e),e}function Q3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>o)),x(e,["cachedContents"],l)}return e}function Z3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>o)),x(e,["cachedContents"],l)}return e}function eR(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const l=g(t,["fileData"]);l!=null&&x(e,["fileData"],B3(l));const o=g(t,["functionCall"]);o!=null&&x(e,["functionCall"],z3(o));const d=g(t,["functionResponse"]);d!=null&&x(e,["functionResponse"],d);const p=g(t,["inlineData"]);p!=null&&x(e,["inlineData"],M3(p));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const m=g(t,["thought"]);m!=null&&x(e,["thought"],m);const v=g(t,["thoughtSignature"]);v!=null&&x(e,["thoughtSignature"],v);const b=g(t,["videoMetadata"]);return b!=null&&x(e,["videoMetadata"],b),e}function tR(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],H3(n));const r=g(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function nR(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>v)),x(e,["functionDeclarations"],m)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const l=g(t,["fileSearch"]);l!=null&&x(e,["fileSearch"],l);const o=g(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=g(t,["googleMaps"]);d!=null&&x(e,["googleMaps"],$3(d));const p=g(t,["googleSearch"]);p!=null&&x(e,["googleSearch"],Y3(p));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function rR(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(b=>G3(b))),x(e,["functionDeclarations"],v)}const r=g(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const l=g(t,["computerUse"]);if(l!=null&&x(e,["computerUse"],l),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=g(t,["codeExecution"]);o!=null&&x(e,["codeExecution"],o);const d=g(t,["enterpriseWebSearch"]);d!=null&&x(e,["enterpriseWebSearch"],d);const p=g(t,["googleMaps"]);p!=null&&x(e,["googleMaps"],p);const f=g(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const m=g(t,["urlContext"]);return m!=null&&x(e,["urlContext"],m),e}function aR(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function iR(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function sR(t,e){const n={},r=g(e,["name"]);r!=null&&x(n,["_url","name"],Da(t,r));const i=g(e,["config"]);return i!=null&&aR(i,n),n}function lR(t,e){const n={},r=g(e,["name"]);r!=null&&x(n,["_url","name"],Da(t,r));const i=g(e,["config"]);return i!=null&&iR(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oR extends Ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ki(ka.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=L3(this.apiClient,e);return d=Be("cachedContents",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}else{const f=F3(this.apiClient,e);return d=Be("cachedContents",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async get(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=q3(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}else{const f=V3(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async delete(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=j3(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=U3(m),b=new Dy;return Object.assign(b,v),b})}else{const f=P3(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=O3(m),b=new Dy;return Object.assign(b,v),b})}}async update(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=lR(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}else{const f=sR(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async listInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=K3(e);return d=Be("cachedContents",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=Z3(m),b=new Iy;return Object.assign(b,v),b})}else{const f=W3(e);return d=Be("cachedContents",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=Q3(m),b=new Iy;return Object.assign(b,v),b})}}}function Ku(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function By(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(t){return this instanceof Je?(this.v=t,this):new Je(t)}function jr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(E){return function(T){return Promise.resolve(T).then(E,v)}}function d(E,T){r[E]&&(i[E]=function(_){return new Promise(function(w,A){l.push([E,_,w,A])>1||p(E,_)})},T&&(i[E]=T(i[E])))}function p(E,T){try{f(r[E](T))}catch(_){b(l[0][3],_)}}function f(E){E.value instanceof Je?Promise.resolve(E.value.v).then(m,v):b(l[0][2],E)}function m(E){p("next",E)}function v(E){p("throw",E)}function b(E,T){E(T),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Or(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof By=="function"?By(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=t[l]&&function(o){return new Promise(function(d,p){o=t[l](o),i(d,p,o.done,o.value)})}}function i(l,o,d,p){Promise.resolve(p).then(function(f){l({value:f,done:d})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cR(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Yb(n)}function Yb(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function uR(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zy(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let l=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),l&&!Yb(t[r])&&(l=!1),r++;l?e.push(...i):e.pop()}return e}class dR{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new fR(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class fR{constructor(e,n,r,i={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=l,this.sendPromise=Promise.resolve(),uR(l)}async sendMessage(e){var n;await this.sendPromise;const r=bn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,o,d;const p=await i,f=(o=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content,m=p.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let b=[];m!=null&&(b=(d=m.slice(v))!==null&&d!==void 0?d:[]);const E=f?[f]:[];this.recordHistory(r,E,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=bn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const l=await i;return this.processStreamResponse(l,r)}getHistory(e=!1){const n=e?zy(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return jr(this,arguments,function*(){var i,l,o,d,p,f;const m=[];try{for(var v=!0,b=Or(e),E;E=yield Je(b.next()),i=E.done,!i;v=!0){d=E.value,v=!1;const T=d;if(cR(T)){const _=(f=(p=T.candidates)===null||p===void 0?void 0:p[0])===null||f===void 0?void 0:f.content;_!==void 0&&m.push(_)}yield yield Je(T)}}catch(T){l={error:T}}finally{try{!v&&!i&&(o=b.return)&&(yield Je(o.call(b)))}finally{if(l)throw l.error}}this.recordHistory(n,m)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(l=>l.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...zy(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ed extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ed.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hR(t){const e={},n=g(t,["file"]);return n!=null&&x(e,["file"],n),e}function pR(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function mR(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","file"],Bb(n)),e}function gR(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function xR(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","file"],Bb(n)),e}function vR(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function yR(t){const e={},n=g(t,["config"]);return n!=null&&vR(n,e),e}function bR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>o)),x(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SR extends Ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ki(ka.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=yR(e);return l=Be("files",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:p.headers},m})),i.then(p=>{const f=bR(p),m=new wC;return Object.assign(m,f),m})}}async createInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=hR(e);return l=Be("upload/v1beta/files",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>{const f=pR(p),m=new NC;return Object.assign(m,f),m})}}async get(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=xR(e);return l=Be("files/{file}",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>p)}}async delete(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=mR(e);return l=Be("files/{file}",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:p.headers},m})),i.then(p=>{const f=gR(p),m=new AC;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ou(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function ER(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>OR(l))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function _R(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function TR(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wR(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&x(e,["description"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["parameters"]);i!=null&&x(e,["parameters"],i);const l=g(t,["parametersJsonSchema"]);l!=null&&x(e,["parametersJsonSchema"],l);const o=g(t,["response"]);o!=null&&x(e,["response"],o);const d=g(t,["responseJsonSchema"]);return d!=null&&x(e,["responseJsonSchema"],d),e}function NR(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const l=g(t,["candidateCount"]);l!=null&&x(e,["candidateCount"],l);const o=g(t,["enableAffectiveDialog"]);o!=null&&x(e,["enableAffectiveDialog"],o);const d=g(t,["frequencyPenalty"]);d!=null&&x(e,["frequencyPenalty"],d);const p=g(t,["logprobs"]);p!=null&&x(e,["logprobs"],p);const f=g(t,["maxOutputTokens"]);f!=null&&x(e,["maxOutputTokens"],f);const m=g(t,["mediaResolution"]);m!=null&&x(e,["mediaResolution"],m);const v=g(t,["presencePenalty"]);v!=null&&x(e,["presencePenalty"],v);const b=g(t,["responseLogprobs"]);b!=null&&x(e,["responseLogprobs"],b);const E=g(t,["responseMimeType"]);E!=null&&x(e,["responseMimeType"],E);const T=g(t,["responseModalities"]);T!=null&&x(e,["responseModalities"],T);const _=g(t,["responseSchema"]);_!=null&&x(e,["responseSchema"],_);const w=g(t,["routingConfig"]);w!=null&&x(e,["routingConfig"],w);const A=g(t,["seed"]);A!=null&&x(e,["seed"],A);const R=g(t,["speechConfig"]);R!=null&&x(e,["speechConfig"],R);const k=g(t,["stopSequences"]);k!=null&&x(e,["stopSequences"],k);const L=g(t,["temperature"]);L!=null&&x(e,["temperature"],L);const V=g(t,["thinkingConfig"]);V!=null&&x(e,["thinkingConfig"],V);const te=g(t,["topK"]);te!=null&&x(e,["topK"],te);const P=g(t,["topP"]);if(P!=null&&x(e,["topP"],P),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function AR(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function kR(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function CR(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const l=g(t,["temperature"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","temperature"],l);const o=g(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const d=g(t,["topK"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","topK"],d);const p=g(t,["maxOutputTokens"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","maxOutputTokens"],p);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const m=g(t,["seed"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","seed"],m);const v=g(t,["speechConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","speechConfig"],Sp(v));const b=g(t,["thinkingConfig"]);e!==void 0&&b!=null&&x(e,["setup","generationConfig","thinkingConfig"],b);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],E);const T=g(t,["systemInstruction"]);e!==void 0&&T!=null&&x(e,["setup","systemInstruction"],ER(bn(T)));const _=g(t,["tools"]);if(e!==void 0&&_!=null){let te=fl(_);Array.isArray(te)&&(te=te.map(P=>BR(dl(P)))),x(e,["setup","tools"],te)}const w=g(t,["sessionResumption"]);e!==void 0&&w!=null&&x(e,["setup","sessionResumption"],UR(w));const A=g(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&x(e,["setup","inputAudioTranscription"],A);const R=g(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const k=g(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&x(e,["setup","realtimeInputConfig"],k);const L=g(t,["contextWindowCompression"]);e!==void 0&&L!=null&&x(e,["setup","contextWindowCompression"],L);const V=g(t,["proactivity"]);if(e!==void 0&&V!=null&&x(e,["setup","proactivity"],V),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function RR(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],NR(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const l=g(t,["temperature"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","temperature"],l);const o=g(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const d=g(t,["topK"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","topK"],d);const p=g(t,["maxOutputTokens"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","maxOutputTokens"],p);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const m=g(t,["seed"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","seed"],m);const v=g(t,["speechConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","speechConfig"],Sp(v));const b=g(t,["thinkingConfig"]);e!==void 0&&b!=null&&x(e,["setup","generationConfig","thinkingConfig"],b);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],E);const T=g(t,["systemInstruction"]);e!==void 0&&T!=null&&x(e,["setup","systemInstruction"],bn(T));const _=g(t,["tools"]);if(e!==void 0&&_!=null){let P=fl(_);Array.isArray(P)&&(P=P.map(M=>zR(dl(M)))),x(e,["setup","tools"],P)}const w=g(t,["sessionResumption"]);e!==void 0&&w!=null&&x(e,["setup","sessionResumption"],w);const A=g(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&x(e,["setup","inputAudioTranscription"],A);const R=g(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const k=g(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&x(e,["setup","realtimeInputConfig"],k);const L=g(t,["contextWindowCompression"]);e!==void 0&&L!=null&&x(e,["setup","contextWindowCompression"],L);const V=g(t,["proactivity"]);e!==void 0&&V!=null&&x(e,["setup","proactivity"],V);const te=g(t,["explicitVadSignal"]);return e!==void 0&&te!=null&&x(e,["setup","explicitVadSignal"],te),n}function MR(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["setup","model"],dt(t,r));const i=g(e,["config"]);return i!=null&&x(n,["config"],CR(i,n)),n}function DR(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["setup","model"],dt(t,r));const i=g(e,["config"]);return i!=null&&x(n,["config"],RR(i,n)),n}function IR(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function FR(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function LR(t){const e={},n=g(t,["media"]);if(n!=null){let f=Lb(n);Array.isArray(f)&&(f=f.map(m=>Ou(m))),x(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&x(e,["audio"],Ou(jb(r)));const i=g(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const l=g(t,["video"]);l!=null&&x(e,["video"],Ou(Pb(l)));const o=g(t,["text"]);o!=null&&x(e,["text"],o);const d=g(t,["activityStart"]);d!=null&&x(e,["activityStart"],d);const p=g(t,["activityEnd"]);return p!=null&&x(e,["activityEnd"],p),e}function PR(t){const e={},n=g(t,["media"]);if(n!=null){let f=Lb(n);Array.isArray(f)&&(f=f.map(m=>m)),x(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&x(e,["audio"],jb(r));const i=g(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const l=g(t,["video"]);l!=null&&x(e,["video"],Pb(l));const o=g(t,["text"]);o!=null&&x(e,["text"],o);const d=g(t,["activityStart"]);d!=null&&x(e,["activityStart"],d);const p=g(t,["activityEnd"]);return p!=null&&x(e,["activityEnd"],p),e}function jR(t){const e={},n=g(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const l=g(t,["toolCallCancellation"]);l!=null&&x(e,["toolCallCancellation"],l);const o=g(t,["usageMetadata"]);o!=null&&x(e,["usageMetadata"],HR(o));const d=g(t,["goAway"]);d!=null&&x(e,["goAway"],d);const p=g(t,["sessionResumptionUpdate"]);p!=null&&x(e,["sessionResumptionUpdate"],p);const f=g(t,["voiceActivityDetectionSignal"]);return f!=null&&x(e,["voiceActivityDetectionSignal"],f),e}function OR(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const l=g(t,["fileData"]);l!=null&&x(e,["fileData"],_R(l));const o=g(t,["functionCall"]);o!=null&&x(e,["functionCall"],TR(o));const d=g(t,["functionResponse"]);d!=null&&x(e,["functionResponse"],d);const p=g(t,["inlineData"]);p!=null&&x(e,["inlineData"],Ou(p));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const m=g(t,["thought"]);m!=null&&x(e,["thought"],m);const v=g(t,["thoughtSignature"]);v!=null&&x(e,["thoughtSignature"],v);const b=g(t,["videoMetadata"]);return b!=null&&x(e,["videoMetadata"],b),e}function UR(t){const e={},n=g(t,["handle"]);if(n!=null&&x(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function BR(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>v)),x(e,["functionDeclarations"],m)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const l=g(t,["fileSearch"]);l!=null&&x(e,["fileSearch"],l);const o=g(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=g(t,["googleMaps"]);d!=null&&x(e,["googleMaps"],AR(d));const p=g(t,["googleSearch"]);p!=null&&x(e,["googleSearch"],kR(p));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function zR(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(b=>wR(b))),x(e,["functionDeclarations"],v)}const r=g(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const l=g(t,["computerUse"]);if(l!=null&&x(e,["computerUse"],l),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=g(t,["codeExecution"]);o!=null&&x(e,["codeExecution"],o);const d=g(t,["enterpriseWebSearch"]);d!=null&&x(e,["enterpriseWebSearch"],d);const p=g(t,["googleMaps"]);p!=null&&x(e,["googleMaps"],p);const f=g(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const m=g(t,["urlContext"]);return m!=null&&x(e,["urlContext"],m),e}function HR(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const l=g(t,["toolUsePromptTokenCount"]);l!=null&&x(e,["toolUsePromptTokenCount"],l);const o=g(t,["thoughtsTokenCount"]);o!=null&&x(e,["thoughtsTokenCount"],o);const d=g(t,["totalTokenCount"]);d!=null&&x(e,["totalTokenCount"],d);const p=g(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>T)),x(e,["promptTokensDetails"],E)}const f=g(t,["cacheTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(T=>T)),x(e,["cacheTokensDetails"],E)}const m=g(t,["candidatesTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(T=>T)),x(e,["responseTokensDetails"],E)}const v=g(t,["toolUsePromptTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(T=>T)),x(e,["toolUsePromptTokensDetails"],E)}const b=g(t,["trafficType"]);return b!=null&&x(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GR(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function VR(t){const e={},n=g(t,["content"]);n!=null&&x(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],qR(r));const i=g(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const l=g(t,["finishReason"]);l!=null&&x(e,["finishReason"],l);const o=g(t,["avgLogprobs"]);o!=null&&x(e,["avgLogprobs"],o);const d=g(t,["groundingMetadata"]);d!=null&&x(e,["groundingMetadata"],d);const p=g(t,["index"]);p!=null&&x(e,["index"],p);const f=g(t,["logprobsResult"]);f!=null&&x(e,["logprobsResult"],f);const m=g(t,["safetyRatings"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(E=>E)),x(e,["safetyRatings"],b)}const v=g(t,["urlContextMetadata"]);return v!=null&&x(e,["urlContextMetadata"],v),e}function qR(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function $R(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["contents"]);if(i!=null){let l=Sr(i);Array.isArray(l)&&(l=l.map(o=>o)),x(n,["contents"],l)}return n}function YR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),x(e,["tokensInfo"],i)}return e}function JR(t){const e={},n=g(t,["values"]);n!=null&&x(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&x(e,["statistics"],XR(r)),e}function XR(t){const e={},n=g(t,["truncated"]);n!=null&&x(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&x(e,["tokenCount"],r),e}function _d(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>a5(l))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function WR(t){const e={},n=g(t,["controlType"]);n!=null&&x(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&x(e,["computeControl"],r),e}function KR(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function QR(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&x(e,["systemInstruction"],bn(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(d=>Kb(d))),x(e,["tools"],o)}const l=g(t,["generationConfig"]);return e!==void 0&&l!=null&&x(e,["generationConfig"],G6(l)),n}function ZR(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["contents"]);if(i!=null){let o=Sr(i);Array.isArray(o)&&(o=o.map(d=>_d(d))),x(n,["contents"],o)}const l=g(e,["config"]);return l!=null&&KR(l),n}function e6(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["contents"]);if(i!=null){let o=Sr(i);Array.isArray(o)&&(o=o.map(d=>d)),x(n,["contents"],o)}const l=g(e,["config"]);return l!=null&&QR(l,n),n}function t6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&x(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&x(e,["cachedContentTokenCount"],i),e}function n6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&x(e,["totalTokens"],r),e}function r6(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],dt(t,r)),n}function a6(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],dt(t,r)),n}function i6(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function s6(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function l6(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const l=g(t,["numberOfImages"]);e!==void 0&&l!=null&&x(e,["parameters","sampleCount"],l);const o=g(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const d=g(t,["guidanceScale"]);e!==void 0&&d!=null&&x(e,["parameters","guidanceScale"],d);const p=g(t,["seed"]);e!==void 0&&p!=null&&x(e,["parameters","seed"],p);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const m=g(t,["personGeneration"]);e!==void 0&&m!=null&&x(e,["parameters","personGeneration"],m);const v=g(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&x(e,["parameters","includeSafetyAttributes"],v);const b=g(t,["includeRaiReason"]);e!==void 0&&b!=null&&x(e,["parameters","includeRaiReason"],b);const E=g(t,["language"]);e!==void 0&&E!=null&&x(e,["parameters","language"],E);const T=g(t,["outputMimeType"]);e!==void 0&&T!=null&&x(e,["parameters","outputOptions","mimeType"],T);const _=g(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&x(e,["parameters","outputOptions","compressionQuality"],_);const w=g(t,["addWatermark"]);e!==void 0&&w!=null&&x(e,["parameters","addWatermark"],w);const A=g(t,["labels"]);e!==void 0&&A!=null&&x(e,["labels"],A);const R=g(t,["editMode"]);e!==void 0&&R!=null&&x(e,["parameters","editMode"],R);const k=g(t,["baseSteps"]);return e!==void 0&&k!=null&&x(e,["parameters","editConfig","baseSteps"],k),n}function o6(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const l=g(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>u5(p))),x(n,["instances[0]","referenceImages"],d)}const o=g(e,["config"]);return o!=null&&l6(o,n),n}function c6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Td(l))),x(e,["generatedImages"],i)}return e}function u6(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const l=g(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&x(e,["requests[]","outputDimensionality"],l),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function d6(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&x(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&x(e,["instances[]","title"],i);const l=g(t,["outputDimensionality"]);e!==void 0&&l!=null&&x(e,["parameters","outputDimensionality"],l);const o=g(t,["mimeType"]);e!==void 0&&o!=null&&x(e,["instances[]","mimeType"],o);const d=g(t,["autoTruncate"]);return e!==void 0&&d!=null&&x(e,["parameters","autoTruncate"],d),n}function f6(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["contents"]);if(i!=null){let d=vp(t,i);Array.isArray(d)&&(d=d.map(p=>p)),x(n,["requests[]","content"],d)}const l=g(e,["config"]);l!=null&&u6(l,n);const o=g(e,["model"]);return o!==void 0&&x(n,["requests[]","model"],dt(t,o)),n}function h6(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["contents"]);if(i!=null){let o=vp(t,i);Array.isArray(o)&&(o=o.map(d=>d)),x(n,["instances[]","content"],o)}const l=g(e,["config"]);return l!=null&&d6(l,n),n}function p6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>o)),x(e,["embeddings"],l)}const i=g(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function m6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>JR(o))),x(e,["embeddings"],l)}const i=g(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function g6(t){const e={},n=g(t,["endpoint"]);n!=null&&x(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&x(e,["deployedModelId"],r),e}function x6(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function v6(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function y6(t){const e={},n=g(t,["mode"]);n!=null&&x(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function b6(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&x(e,["description"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["parameters"]);i!=null&&x(e,["parameters"],i);const l=g(t,["parametersJsonSchema"]);l!=null&&x(e,["parametersJsonSchema"],l);const o=g(t,["response"]);o!=null&&x(e,["response"],o);const d=g(t,["responseJsonSchema"]);return d!=null&&x(e,["responseJsonSchema"],d),e}function S6(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],_d(bn(i)));const l=g(e,["temperature"]);l!=null&&x(r,["temperature"],l);const o=g(e,["topP"]);o!=null&&x(r,["topP"],o);const d=g(e,["topK"]);d!=null&&x(r,["topK"],d);const p=g(e,["candidateCount"]);p!=null&&x(r,["candidateCount"],p);const f=g(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const m=g(e,["stopSequences"]);m!=null&&x(r,["stopSequences"],m);const v=g(e,["responseLogprobs"]);v!=null&&x(r,["responseLogprobs"],v);const b=g(e,["logprobs"]);b!=null&&x(r,["logprobs"],b);const E=g(e,["presencePenalty"]);E!=null&&x(r,["presencePenalty"],E);const T=g(e,["frequencyPenalty"]);T!=null&&x(r,["frequencyPenalty"],T);const _=g(e,["seed"]);_!=null&&x(r,["seed"],_);const w=g(e,["responseMimeType"]);w!=null&&x(r,["responseMimeType"],w);const A=g(e,["responseSchema"]);A!=null&&x(r,["responseSchema"],yp(A));const R=g(e,["responseJsonSchema"]);if(R!=null&&x(r,["responseJsonSchema"],R),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=g(e,["safetySettings"]);if(n!==void 0&&k!=null){let fe=k;Array.isArray(fe)&&(fe=fe.map(De=>d5(De))),x(n,["safetySettings"],fe)}const L=g(e,["tools"]);if(n!==void 0&&L!=null){let fe=fl(L);Array.isArray(fe)&&(fe=fe.map(De=>v5(dl(De)))),x(n,["tools"],fe)}const V=g(e,["toolConfig"]);if(n!==void 0&&V!=null&&x(n,["toolConfig"],x5(V)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=g(e,["cachedContent"]);n!==void 0&&te!=null&&x(n,["cachedContent"],Da(t,te));const P=g(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const M=g(e,["mediaResolution"]);M!=null&&x(r,["mediaResolution"],M);const B=g(e,["speechConfig"]);if(B!=null&&x(r,["speechConfig"],bp(B)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=g(e,["thinkingConfig"]);J!=null&&x(r,["thinkingConfig"],J);const U=g(e,["imageConfig"]);U!=null&&x(r,["imageConfig"],J6(U));const re=g(e,["enableEnhancedCivicAnswers"]);return re!=null&&x(r,["enableEnhancedCivicAnswers"],re),r}function E6(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],bn(i));const l=g(e,["temperature"]);l!=null&&x(r,["temperature"],l);const o=g(e,["topP"]);o!=null&&x(r,["topP"],o);const d=g(e,["topK"]);d!=null&&x(r,["topK"],d);const p=g(e,["candidateCount"]);p!=null&&x(r,["candidateCount"],p);const f=g(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const m=g(e,["stopSequences"]);m!=null&&x(r,["stopSequences"],m);const v=g(e,["responseLogprobs"]);v!=null&&x(r,["responseLogprobs"],v);const b=g(e,["logprobs"]);b!=null&&x(r,["logprobs"],b);const E=g(e,["presencePenalty"]);E!=null&&x(r,["presencePenalty"],E);const T=g(e,["frequencyPenalty"]);T!=null&&x(r,["frequencyPenalty"],T);const _=g(e,["seed"]);_!=null&&x(r,["seed"],_);const w=g(e,["responseMimeType"]);w!=null&&x(r,["responseMimeType"],w);const A=g(e,["responseSchema"]);A!=null&&x(r,["responseSchema"],yp(A));const R=g(e,["responseJsonSchema"]);R!=null&&x(r,["responseJsonSchema"],R);const k=g(e,["routingConfig"]);k!=null&&x(r,["routingConfig"],k);const L=g(e,["modelSelectionConfig"]);L!=null&&x(r,["modelConfig"],L);const V=g(e,["safetySettings"]);if(n!==void 0&&V!=null){let Q=V;Array.isArray(Q)&&(Q=Q.map(ye=>ye)),x(n,["safetySettings"],Q)}const te=g(e,["tools"]);if(n!==void 0&&te!=null){let Q=fl(te);Array.isArray(Q)&&(Q=Q.map(ye=>Kb(dl(ye)))),x(n,["tools"],Q)}const P=g(e,["toolConfig"]);n!==void 0&&P!=null&&x(n,["toolConfig"],P);const M=g(e,["labels"]);n!==void 0&&M!=null&&x(n,["labels"],M);const B=g(e,["cachedContent"]);n!==void 0&&B!=null&&x(n,["cachedContent"],Da(t,B));const J=g(e,["responseModalities"]);J!=null&&x(r,["responseModalities"],J);const U=g(e,["mediaResolution"]);U!=null&&x(r,["mediaResolution"],U);const re=g(e,["speechConfig"]);re!=null&&x(r,["speechConfig"],bp(re));const fe=g(e,["audioTimestamp"]);fe!=null&&x(r,["audioTimestamp"],fe);const De=g(e,["thinkingConfig"]);De!=null&&x(r,["thinkingConfig"],De);const ee=g(e,["imageConfig"]);if(ee!=null&&x(r,["imageConfig"],X6(ee)),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Hy(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["contents"]);if(i!=null){let o=Sr(i);Array.isArray(o)&&(o=o.map(d=>_d(d))),x(n,["contents"],o)}const l=g(e,["config"]);return l!=null&&x(n,["generationConfig"],S6(t,l,n)),n}function Gy(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["contents"]);if(i!=null){let o=Sr(i);Array.isArray(o)&&(o=o.map(d=>d)),x(n,["contents"],o)}const l=g(e,["config"]);return l!=null&&x(n,["generationConfig"],E6(t,l,n)),n}function Vy(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(f=>VR(f))),x(e,["candidates"],p)}const i=g(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const l=g(t,["promptFeedback"]);l!=null&&x(e,["promptFeedback"],l);const o=g(t,["responseId"]);o!=null&&x(e,["responseId"],o);const d=g(t,["usageMetadata"]);return d!=null&&x(e,["usageMetadata"],d),e}function qy(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),x(e,["candidates"],f)}const i=g(t,["createTime"]);i!=null&&x(e,["createTime"],i);const l=g(t,["modelVersion"]);l!=null&&x(e,["modelVersion"],l);const o=g(t,["promptFeedback"]);o!=null&&x(e,["promptFeedback"],o);const d=g(t,["responseId"]);d!=null&&x(e,["responseId"],d);const p=g(t,["usageMetadata"]);return p!=null&&x(e,["usageMetadata"],p),e}function _6(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&x(e,["parameters","aspectRatio"],i);const l=g(t,["guidanceScale"]);if(e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&x(e,["parameters","safetySetting"],o);const d=g(t,["personGeneration"]);e!==void 0&&d!=null&&x(e,["parameters","personGeneration"],d);const p=g(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&x(e,["parameters","includeSafetyAttributes"],p);const f=g(t,["includeRaiReason"]);e!==void 0&&f!=null&&x(e,["parameters","includeRaiReason"],f);const m=g(t,["language"]);e!==void 0&&m!=null&&x(e,["parameters","language"],m);const v=g(t,["outputMimeType"]);e!==void 0&&v!=null&&x(e,["parameters","outputOptions","mimeType"],v);const b=g(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&x(e,["parameters","outputOptions","compressionQuality"],b),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=g(t,["imageSize"]);if(e!==void 0&&E!=null&&x(e,["parameters","sampleImageSize"],E),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function T6(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const l=g(t,["numberOfImages"]);e!==void 0&&l!=null&&x(e,["parameters","sampleCount"],l);const o=g(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const d=g(t,["guidanceScale"]);e!==void 0&&d!=null&&x(e,["parameters","guidanceScale"],d);const p=g(t,["seed"]);e!==void 0&&p!=null&&x(e,["parameters","seed"],p);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const m=g(t,["personGeneration"]);e!==void 0&&m!=null&&x(e,["parameters","personGeneration"],m);const v=g(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&x(e,["parameters","includeSafetyAttributes"],v);const b=g(t,["includeRaiReason"]);e!==void 0&&b!=null&&x(e,["parameters","includeRaiReason"],b);const E=g(t,["language"]);e!==void 0&&E!=null&&x(e,["parameters","language"],E);const T=g(t,["outputMimeType"]);e!==void 0&&T!=null&&x(e,["parameters","outputOptions","mimeType"],T);const _=g(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&x(e,["parameters","outputOptions","compressionQuality"],_);const w=g(t,["addWatermark"]);e!==void 0&&w!=null&&x(e,["parameters","addWatermark"],w);const A=g(t,["labels"]);e!==void 0&&A!=null&&x(e,["labels"],A);const R=g(t,["imageSize"]);e!==void 0&&R!=null&&x(e,["parameters","sampleImageSize"],R);const k=g(t,["enhancePrompt"]);return e!==void 0&&k!=null&&x(e,["parameters","enhancePrompt"],k),n}function w6(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const l=g(e,["config"]);return l!=null&&_6(l,n),n}function N6(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const l=g(e,["config"]);return l!=null&&T6(l,n),n}function A6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>U6(o))),x(e,["generatedImages"],l)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],Xb(i)),e}function k6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>Td(o))),x(e,["generatedImages"],l)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],Wb(i)),e}function C6(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&x(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&x(e,["parameters","aspectRatio"],l);const o=g(t,["resolution"]);e!==void 0&&o!=null&&x(e,["parameters","resolution"],o);const d=g(t,["personGeneration"]);if(e!==void 0&&d!=null&&x(e,["parameters","personGeneration"],d),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=g(t,["negativePrompt"]);e!==void 0&&p!=null&&x(e,["parameters","negativePrompt"],p);const f=g(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&x(e,["parameters","enhancePrompt"],f),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=g(t,["lastFrame"]);e!==void 0&&m!=null&&x(e,["instances[0]","lastFrame"],wd(m));const v=g(t,["referenceImages"]);if(e!==void 0&&v!=null){let b=v;Array.isArray(b)&&(b=b.map(E=>M5(E))),x(e,["instances[0]","referenceImages"],b)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function R6(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const l=g(t,["fps"]);e!==void 0&&l!=null&&x(e,["parameters","fps"],l);const o=g(t,["durationSeconds"]);e!==void 0&&o!=null&&x(e,["parameters","durationSeconds"],o);const d=g(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const p=g(t,["aspectRatio"]);e!==void 0&&p!=null&&x(e,["parameters","aspectRatio"],p);const f=g(t,["resolution"]);e!==void 0&&f!=null&&x(e,["parameters","resolution"],f);const m=g(t,["personGeneration"]);e!==void 0&&m!=null&&x(e,["parameters","personGeneration"],m);const v=g(t,["pubsubTopic"]);e!==void 0&&v!=null&&x(e,["parameters","pubsubTopic"],v);const b=g(t,["negativePrompt"]);e!==void 0&&b!=null&&x(e,["parameters","negativePrompt"],b);const E=g(t,["enhancePrompt"]);e!==void 0&&E!=null&&x(e,["parameters","enhancePrompt"],E);const T=g(t,["generateAudio"]);e!==void 0&&T!=null&&x(e,["parameters","generateAudio"],T);const _=g(t,["lastFrame"]);e!==void 0&&_!=null&&x(e,["instances[0]","lastFrame"],zr(_));const w=g(t,["referenceImages"]);if(e!==void 0&&w!=null){let k=w;Array.isArray(k)&&(k=k.map(L=>D5(L))),x(e,["instances[0]","referenceImages"],k)}const A=g(t,["mask"]);e!==void 0&&A!=null&&x(e,["instances[0]","mask"],R5(A));const R=g(t,["compressionQuality"]);return e!==void 0&&R!=null&&x(e,["parameters","compressionQuality"],R),n}function M6(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const l=g(t,["error"]);l!=null&&x(e,["error"],l);const o=g(t,["response","generateVideoResponse"]);return o!=null&&x(e,["response"],L6(o)),e}function D6(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const l=g(t,["error"]);l!=null&&x(e,["error"],l);const o=g(t,["response"]);return o!=null&&x(e,["response"],P6(o)),e}function I6(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const l=g(e,["image"]);l!=null&&x(n,["instances[0]","image"],wd(l));const o=g(e,["video"]);o!=null&&x(n,["instances[0]","video"],Qb(o));const d=g(e,["source"]);d!=null&&j6(d,n);const p=g(e,["config"]);return p!=null&&C6(p,n),n}function F6(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const l=g(e,["image"]);l!=null&&x(n,["instances[0]","image"],zr(l));const o=g(e,["video"]);o!=null&&x(n,["instances[0]","video"],Zb(o));const d=g(e,["source"]);d!=null&&O6(d,n);const p=g(e,["config"]);return p!=null&&R6(p,n),n}function L6(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>z6(o))),x(e,["generatedVideos"],l)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function P6(t){const e={},n=g(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>H6(o))),x(e,["generatedVideos"],l)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function j6(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],wd(i));const l=g(t,["video"]);return e!==void 0&&l!=null&&x(e,["instances[0]","video"],Qb(l)),n}function O6(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],zr(i));const l=g(t,["video"]);return e!==void 0&&l!=null&&x(e,["instances[0]","video"],Zb(l)),n}function U6(t){const e={},n=g(t,["_self"]);n!=null&&x(e,["image"],W6(n));const r=g(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&x(e,["safetyAttributes"],Xb(i)),e}function Td(t){const e={},n=g(t,["_self"]);n!=null&&x(e,["image"],Jb(n));const r=g(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&x(e,["safetyAttributes"],Wb(i));const l=g(t,["prompt"]);return l!=null&&x(e,["enhancedPrompt"],l),e}function B6(t){const e={},n=g(t,["_self"]);n!=null&&x(e,["mask"],Jb(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),x(e,["labels"],i)}return e}function z6(t){const e={},n=g(t,["video"]);return n!=null&&x(e,["video"],k5(n)),e}function H6(t){const e={},n=g(t,["_self"]);return n!=null&&x(e,["video"],C5(n)),e}function G6(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const l=g(t,["candidateCount"]);l!=null&&x(e,["candidateCount"],l);const o=g(t,["enableAffectiveDialog"]);o!=null&&x(e,["enableAffectiveDialog"],o);const d=g(t,["frequencyPenalty"]);d!=null&&x(e,["frequencyPenalty"],d);const p=g(t,["logprobs"]);p!=null&&x(e,["logprobs"],p);const f=g(t,["maxOutputTokens"]);f!=null&&x(e,["maxOutputTokens"],f);const m=g(t,["mediaResolution"]);m!=null&&x(e,["mediaResolution"],m);const v=g(t,["presencePenalty"]);v!=null&&x(e,["presencePenalty"],v);const b=g(t,["responseLogprobs"]);b!=null&&x(e,["responseLogprobs"],b);const E=g(t,["responseMimeType"]);E!=null&&x(e,["responseMimeType"],E);const T=g(t,["responseModalities"]);T!=null&&x(e,["responseModalities"],T);const _=g(t,["responseSchema"]);_!=null&&x(e,["responseSchema"],_);const w=g(t,["routingConfig"]);w!=null&&x(e,["routingConfig"],w);const A=g(t,["seed"]);A!=null&&x(e,["seed"],A);const R=g(t,["speechConfig"]);R!=null&&x(e,["speechConfig"],R);const k=g(t,["stopSequences"]);k!=null&&x(e,["stopSequences"],k);const L=g(t,["temperature"]);L!=null&&x(e,["temperature"],L);const V=g(t,["thinkingConfig"]);V!=null&&x(e,["thinkingConfig"],V);const te=g(t,["topK"]);te!=null&&x(e,["topK"],te);const P=g(t,["topP"]);if(P!=null&&x(e,["topP"],P),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function V6(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],dt(t,r)),n}function q6(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],dt(t,r)),n}function $6(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Y6(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function J6(t){const e={},n=g(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function X6(t){const e={},n=g(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&x(e,["imageSize"],r);const i=g(t,["outputMimeType"]);i!=null&&x(e,["imageOutputOptions","mimeType"],i);const l=g(t,["outputCompressionQuality"]);return l!=null&&x(e,["imageOutputOptions","compressionQuality"],l),e}function W6(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&x(e,["imageBytes"],gi(n));const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Jb(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&x(e,["imageBytes"],gi(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function wd(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&x(e,["bytesBase64Encoded"],gi(n));const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function zr(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&x(e,["bytesBase64Encoded"],gi(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function K6(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const l=g(e,["pageToken"]);n!==void 0&&l!=null&&x(n,["_query","pageToken"],l);const o=g(e,["filter"]);n!==void 0&&o!=null&&x(n,["_query","filter"],o);const d=g(e,["queryBase"]);return n!==void 0&&d!=null&&x(n,["_url","models_url"],zb(t,d)),r}function Q6(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const l=g(e,["pageToken"]);n!==void 0&&l!=null&&x(n,["_query","pageToken"],l);const o=g(e,["filter"]);n!==void 0&&o!=null&&x(n,["_query","filter"],o);const d=g(e,["queryBase"]);return n!==void 0&&d!=null&&x(n,["_url","models_url"],zb(t,d)),r}function Z6(t,e){const n={},r=g(e,["config"]);return r!=null&&K6(t,r,n),n}function e5(t,e){const n={},r=g(e,["config"]);return r!=null&&Q6(t,r,n),n}function t5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let l=Hb(i);Array.isArray(l)&&(l=l.map(o=>Gh(o))),x(e,["models"],l)}return e}function n5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let l=Hb(i);Array.isArray(l)&&(l=l.map(o=>Vh(o))),x(e,["models"],l)}return e}function r5(t){const e={},n=g(t,["maskMode"]);n!=null&&x(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&x(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&x(e,["dilation"],i),e}function Gh(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);i!=null&&x(e,["description"],i);const l=g(t,["version"]);l!=null&&x(e,["version"],l);const o=g(t,["_self"]);o!=null&&x(e,["tunedModelInfo"],y5(o));const d=g(t,["inputTokenLimit"]);d!=null&&x(e,["inputTokenLimit"],d);const p=g(t,["outputTokenLimit"]);p!=null&&x(e,["outputTokenLimit"],p);const f=g(t,["supportedGenerationMethods"]);f!=null&&x(e,["supportedActions"],f);const m=g(t,["temperature"]);m!=null&&x(e,["temperature"],m);const v=g(t,["maxTemperature"]);v!=null&&x(e,["maxTemperature"],v);const b=g(t,["topP"]);b!=null&&x(e,["topP"],b);const E=g(t,["topK"]);E!=null&&x(e,["topK"],E);const T=g(t,["thinking"]);return T!=null&&x(e,["thinking"],T),e}function Vh(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);i!=null&&x(e,["description"],i);const l=g(t,["versionId"]);l!=null&&x(e,["version"],l);const o=g(t,["deployedModels"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(b=>g6(b))),x(e,["endpoints"],v)}const d=g(t,["labels"]);d!=null&&x(e,["labels"],d);const p=g(t,["_self"]);p!=null&&x(e,["tunedModelInfo"],b5(p));const f=g(t,["defaultCheckpointId"]);f!=null&&x(e,["defaultCheckpointId"],f);const m=g(t,["checkpoints"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(b=>b)),x(e,["checkpoints"],v)}return e}function a5(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const l=g(t,["fileData"]);l!=null&&x(e,["fileData"],x6(l));const o=g(t,["functionCall"]);o!=null&&x(e,["functionCall"],v6(o));const d=g(t,["functionResponse"]);d!=null&&x(e,["functionResponse"],d);const p=g(t,["inlineData"]);p!=null&&x(e,["inlineData"],GR(p));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const m=g(t,["thought"]);m!=null&&x(e,["thought"],m);const v=g(t,["thoughtSignature"]);v!=null&&x(e,["thoughtSignature"],v);const b=g(t,["videoMetadata"]);return b!=null&&x(e,["videoMetadata"],b),e}function i5(t){const e={},n=g(t,["productImage"]);return n!=null&&x(e,["image"],zr(n)),e}function s5(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&x(e,["parameters","baseSteps"],i);const l=g(t,["outputGcsUri"]);e!==void 0&&l!=null&&x(e,["parameters","storageUri"],l);const o=g(t,["seed"]);e!==void 0&&o!=null&&x(e,["parameters","seed"],o);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const p=g(t,["personGeneration"]);e!==void 0&&p!=null&&x(e,["parameters","personGeneration"],p);const f=g(t,["addWatermark"]);e!==void 0&&f!=null&&x(e,["parameters","addWatermark"],f);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&x(e,["parameters","outputOptions","mimeType"],m);const v=g(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&x(e,["parameters","outputOptions","compressionQuality"],v);const b=g(t,["enhancePrompt"]);e!==void 0&&b!=null&&x(e,["parameters","enhancePrompt"],b);const E=g(t,["labels"]);return e!==void 0&&E!=null&&x(e,["labels"],E),n}function l5(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["source"]);i!=null&&c5(i,n);const l=g(e,["config"]);return l!=null&&s5(l,n),n}function o5(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Td(i))),x(e,["generatedImages"],r)}return e}function c5(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&x(e,["instances[0]","personImage","image"],zr(i));const l=g(t,["productImages"]);if(e!==void 0&&l!=null){let o=l;Array.isArray(o)&&(o=o.map(d=>i5(d))),x(e,["instances[0]","productImages"],o)}return n}function u5(t){const e={},n=g(t,["referenceImage"]);n!=null&&x(e,["referenceImage"],zr(n));const r=g(t,["referenceId"]);r!=null&&x(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&x(e,["referenceType"],i);const l=g(t,["maskImageConfig"]);l!=null&&x(e,["maskImageConfig"],r5(l));const o=g(t,["controlImageConfig"]);o!=null&&x(e,["controlImageConfig"],WR(o));const d=g(t,["styleImageConfig"]);d!=null&&x(e,["styleImageConfig"],d);const p=g(t,["subjectImageConfig"]);return p!=null&&x(e,["subjectImageConfig"],p),e}function Xb(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function Wb(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function d5(t){const e={},n=g(t,["category"]);if(n!=null&&x(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function f5(t){const e={},n=g(t,["image"]);return n!=null&&x(e,["image"],zr(n)),e}function h5(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&x(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&x(e,["parameters","maxPredictions"],i);const l=g(t,["confidenceThreshold"]);e!==void 0&&l!=null&&x(e,["parameters","confidenceThreshold"],l);const o=g(t,["maskDilation"]);e!==void 0&&o!=null&&x(e,["parameters","maskDilation"],o);const d=g(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&x(e,["parameters","binaryColorThreshold"],d);const p=g(t,["labels"]);return e!==void 0&&p!=null&&x(e,["labels"],p),n}function p5(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["source"]);i!=null&&g5(i,n);const l=g(e,["config"]);return l!=null&&h5(l,n),n}function m5(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>B6(i))),x(e,["generatedMasks"],r)}return e}function g5(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],zr(i));const l=g(t,["scribbleImage"]);return e!==void 0&&l!=null&&x(e,["instances[0]","scribble"],f5(l)),n}function x5(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],y6(n));const r=g(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function v5(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>v)),x(e,["functionDeclarations"],m)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const l=g(t,["fileSearch"]);l!=null&&x(e,["fileSearch"],l);const o=g(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=g(t,["googleMaps"]);d!=null&&x(e,["googleMaps"],$6(d));const p=g(t,["googleSearch"]);p!=null&&x(e,["googleSearch"],Y6(p));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function Kb(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(b=>b6(b))),x(e,["functionDeclarations"],v)}const r=g(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const l=g(t,["computerUse"]);if(l!=null&&x(e,["computerUse"],l),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=g(t,["codeExecution"]);o!=null&&x(e,["codeExecution"],o);const d=g(t,["enterpriseWebSearch"]);d!=null&&x(e,["enterpriseWebSearch"],d);const p=g(t,["googleMaps"]);p!=null&&x(e,["googleMaps"],p);const f=g(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const m=g(t,["urlContext"]);return m!=null&&x(e,["urlContext"],m),e}function y5(t){const e={},n=g(t,["baseModel"]);n!=null&&x(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function b5(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function S5(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const l=g(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&x(e,["defaultCheckpointId"],l),n}function E5(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const l=g(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&x(e,["defaultCheckpointId"],l),n}function _5(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","name"],dt(t,r));const i=g(e,["config"]);return i!=null&&S5(i,n),n}function T5(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["config"]);return i!=null&&E5(i,n),n}function w5(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&x(e,["parameters","safetySetting"],i);const l=g(t,["personGeneration"]);e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l);const o=g(t,["includeRaiReason"]);e!==void 0&&o!=null&&x(e,["parameters","includeRaiReason"],o);const d=g(t,["outputMimeType"]);e!==void 0&&d!=null&&x(e,["parameters","outputOptions","mimeType"],d);const p=g(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","compressionQuality"],p);const f=g(t,["enhanceInputImage"]);e!==void 0&&f!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],f);const m=g(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const v=g(t,["labels"]);e!==void 0&&v!=null&&x(e,["labels"],v);const b=g(t,["numberOfImages"]);e!==void 0&&b!=null&&x(e,["parameters","sampleCount"],b);const E=g(t,["mode"]);return e!==void 0&&E!=null&&x(e,["parameters","mode"],E),n}function N5(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],dt(t,r));const i=g(e,["image"]);i!=null&&x(n,["instances[0]","image"],zr(i));const l=g(e,["upscaleFactor"]);l!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],l);const o=g(e,["config"]);return o!=null&&w5(o,n),n}function A5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Td(l))),x(e,["generatedImages"],i)}return e}function k5(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],gi(r));const i=g(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function C5(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],gi(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function R5(t){const e={},n=g(t,["image"]);n!=null&&x(e,["_self"],zr(n));const r=g(t,["maskMode"]);return r!=null&&x(e,["maskMode"],r),e}function M5(t){const e={},n=g(t,["image"]);n!=null&&x(e,["image"],wd(n));const r=g(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function D5(t){const e={},n=g(t,["image"]);n!=null&&x(e,["image"],zr(n));const r=g(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function Qb(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&x(e,["encodedVideo"],gi(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["encoding"],i),e}function Zb(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&x(e,["bytesBase64Encoded"],gi(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I5(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function F5(t){const e={},n=g(t,["config"]);return n!=null&&I5(n,e),e}function L5(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function P5(t){const e={},n=g(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&L5(r,e),e}function j5(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function O5(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>o)),x(e,["customMetadata"],l)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function U5(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const l=g(t,["error"]);l!=null&&x(e,["error"],l);const o=g(t,["response"]);return o!=null&&x(e,["response"],z5(o)),e}function B5(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&O5(i,e),e}function z5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&x(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function H5(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function G5(t){const e={},n=g(t,["config"]);return n!=null&&H5(n,e),e}function V5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>o)),x(e,["fileSearchStores"],l)}return e}function eS(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const l=g(t,["customMetadata"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>p)),x(e,["customMetadata"],d)}const o=g(t,["chunkingConfig"]);return e!==void 0&&o!=null&&x(e,["chunkingConfig"],o),n}function q5(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&eS(r,e),e}function $5(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y5="Content-Type",J5="X-Server-Timeout",X5="User-Agent",qh="x-goog-api-client",W5="1.34.0",K5=`google-genai-sdk/${W5}`,Q5="v1beta1",Z5="v1beta";class e8{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Q5,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Z5,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,d]of Object.entries(e.queryParams))i.searchParams.append(o,String(d));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,i.toString(),e.abortSignal),this.unaryApiCall(i,l,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,l]of Object.entries(n))typeof l=="object"?r[i]=Object.assign(Object.assign({},r[i]),l):l!==void 0&&(r[i]=l);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,i.toString(),e.abortSignal),this.streamApiCall(i,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const l=new AbortController,o=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>l.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return n&&n.extraBody!==null&&t8(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await $y(i),new Bh(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await $y(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return jr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),l=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const d="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:m}=yield Je(i.read());if(f){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=l.decode(m,{stream:!0});try{const T=JSON.parse(v);if("error"in T){const _=JSON.parse(JSON.stringify(T.error)),w=_.status,A=_.code,R=`got status: ${w}. ${JSON.stringify(T)}`;if(A>=400&&A<600)throw new Ed({message:R,status:A})}}catch(T){if(T.name==="ApiError")throw T}o+=v;let b=-1,E=0;for(;;){b=-1,E=0;for(const w of p){const A=o.indexOf(w);A!==-1&&(b===-1||A<b)&&(b=A,E=w.length)}if(b===-1)break;const T=o.substring(0,b);o=o.substring(b+E);const _=T.trim();if(_.startsWith(d)){const w=_.substring(d.length).trim();try{const A=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Je(new Bh(A))}catch(A){throw new Error(`exception parsing stream chunk ${w}. ${A}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=K5+" "+this.clientOptions.userAgentExtra;return e[X5]=n,e[qh]=n,e[Y5]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))r.append(i,l);e.timeout&&e.timeout>0&&r.append(J5,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const l=this.clientOptions.uploader,o=await l.stat(e);i.sizeBytes=String(o.size);const d=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=d;const p={file:i},f=this.getFileName(e),m=Be("upload/v1beta/files",p._url),v=await this.fetchUploadUrl(m,i.sizeBytes,i.mimeType,f,p,n==null?void 0:n.httpOptions);return l.upload(e,v,this)}async uploadFileToFileSearchStore(e,n,r){var i;const l=this.clientOptions.uploader,o=await l.stat(n),d=String(o.size),p=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),v={};r!=null&&eS(r,v);const b=await this.fetchUploadUrl(f,d,p,m,v,r==null?void 0:r.httpOptions);return l.uploadToFileSearchStore(n,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,l,o){var d;let p={};o?p=o:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(d=f==null?void 0:f.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function $y(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ed({message:i,status:n}):new Error(i)}}function t8(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,o){const d=Object.assign({},l);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const f=o[p],m=d[p];f&&typeof f=="object"&&!Array.isArray(f)&&m&&typeof m=="object"&&!Array.isArray(m)?d[p]=r(m,f):(m&&f&&typeof m!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof m}, New type: ${typeof f}. Overwriting.`),d[p]=f)}return d}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n8="mcp_used/unknown";let r8=!1;function tS(t){for(const e of t)if(a8(e)||typeof e=="object"&&"inputSchema"in e)return!0;return r8}function nS(t){var e;const n=(e=t[qh])!==null&&e!==void 0?e:"";t[qh]=(n+` ${n8}`).trimStart()}function a8(t){return t!==null&&typeof t=="object"&&t instanceof Ep}function i8(t){return jr(this,arguments,function*(n,r=100){let i,l=0;for(;l<r;){const o=yield Je(n.listTools({cursor:i}));for(const d of o.tools)yield yield Je(d),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class Ep{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ep(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const l={},o=[];for(const m of this.mcpClients)try{for(var d=!0,p=(n=void 0,Or(i8(m))),f;f=await p.next(),e=f.done,!e;d=!0){i=f.value,d=!1;const v=i;o.push(v);const b=v.name;if(l[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);l[b]=m}}catch(v){n={error:v}}finally{try{!d&&!e&&(r=p.return)&&await r.call(p)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),jC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,l);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function s8(t,e,n){const r=new CC;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class l8{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),o=u8(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),p=`${i}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${d}`;let f=()=>{};const m=new Promise(k=>{f=k}),v=e.callbacks,b=function(){f({})},E=this.apiClient,T={onopen:b,onmessage:k=>{s8(E,v.onmessage,k)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(k){}},_=this.webSocketFactory.create(p,c8(o),T);_.connect(),await m;const R={setup:{model:dt(this.apiClient,e.model)}};return _.send(JSON.stringify(R)),new o8(_,this.apiClient)}}class o8{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=FR(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=IR(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Qs.PLAY)}pause(){this.sendPlaybackControl(Qs.PAUSE)}stop(){this.sendPlaybackControl(Qs.STOP)}resetContext(){this.sendPlaybackControl(Qs.RESET_CONTEXT)}close(){this.conn.close()}}function c8(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function u8(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d8="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function f8(t,e,n){const r=new kC;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const l=JSON.parse(i);if(t.isVertexAI()){const o=jR(l);Object.assign(r,o)}else Object.assign(r,l);e(r)}class h8{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new l8(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,l,o,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&tS(e.config.tools)&&nS(v);const b=x8(v);if(this.apiClient.isVertexAI())m=`${p}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,m);else{const B=this.apiClient.getApiKey();let J="BidiGenerateContent",U="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),J="BidiGenerateContentConstrained",U="access_token"),m=`${p}/ws/google.ai.generativelanguage.${f}.GenerativeService.${J}?${U}=${B}`}let E=()=>{};const T=new Promise(B=>{E=B}),_=e.callbacks,w=function(){var B;(B=_==null?void 0:_.onopen)===null||B===void 0||B.call(_),E({})},A=this.apiClient,R={onopen:w,onmessage:B=>{f8(A,_.onmessage,B)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(B){}},k=this.webSocketFactory.create(m,g8(b),R);k.connect(),await T;let L=dt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const B=this.apiClient.getProject(),J=this.apiClient.getLocation();L=`projects/${B}/locations/${J}/`+L}let V={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ju.AUDIO]}:e.config.responseModalities=[Ju.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(d=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&d!==void 0?d:[],P=[];for(const B of te)if(this.isCallableTool(B)){const J=B;P.push(await J.tool())}else P.push(B);P.length>0&&(e.config.tools=P);const M={model:L,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=DR(this.apiClient,M):V=MR(this.apiClient,M),delete V.config,k.send(JSON.stringify(V)),new m8(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const p8={turnComplete:!0};class m8{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Sr(n.turns),e.isVertexAI()||(r=r.map(i=>_d(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(d8)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},p8),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:PR(e)}:n={realtimeInput:LR(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function g8(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function x8(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yy=10;function Jy(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(nl(o)){i=!0;break}if(!i)return!0;const l=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function nl(t){return"callTool"in t&&typeof t.callTool=="function"}function v8(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>nl(i)))!==null&&r!==void 0?r:!1}function Xy(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(nl(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(i)}),n}function Wy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y8 extends Ma{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,l,o,d;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!v8(n)||Jy(n.config))return await this.generateContentInternal(p);const f=Xy(n);if(f.length>0){const _=f.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let m,v;const b=Sr(p.contents),E=(l=(i=(r=p.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Yy;let T=0;for(;T<E&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const _=m.candidates[0].content,w=[];for(const A of(d=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&d!==void 0?d:[])if(nl(A)){const k=await A.callTool(m.functionCalls);w.push(...k)}T++,v={role:"user",parts:w},p.contents=Sr(p.contents),p.contents.push(_),p.contents.push(v),Wy(p.config)&&(b.push(_),b.push(v))}return Wy(p.config)&&(m.automaticFunctionCallingHistory=b),m},this.generateContentStream=async n=>{var r,i,l,o,d;if(this.maybeMoveToResponseJsonSchem(n),Jy(n.config)){const v=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(v)}const p=Xy(n);if(p.length>0){const v=p.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(l=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,m=(d=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(f&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let l;const o=[];if(r!=null&&r.generatedImages)for(const p of r.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((i=p==null?void 0:p.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:o.push(p);let d;return l?d={generatedImages:o,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:d={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},d}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Ki(ka.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,l,o,d,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(l=n.source)===null||l===void 0?void 0:l.video)===null||o===void 0)&&o.uri&&(!((p=(d=n.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const o=await Promise.all(l.map(async p=>nl(p)?await p.tool():p)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(d.config.tools=o,e.config&&e.config.tools&&tS(e.config.tools)){const p=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},p);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),nS(f),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return d}async initAfcToolsMap(e){var n,r,i;const l=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(nl(o)){const d=o,p=await d.tool();for(const f of(i=p.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(l.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);l.set(f.name,d)}}return l}async processAfcStream(e){var n,r,i;const l=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Yy;let o=!1,d=0;const p=await this.initAfcToolsMap(e);return(function(f,m,v){return jr(this,arguments,function*(){for(var b,E,T,_,w,A;d<l;){o&&(d++,o=!1);const V=yield Je(f.processParamsMaybeAddMcpUsage(v)),te=yield Je(f.generateContentStreamInternal(V)),P=[],M=[];try{for(var R=!0,k=(E=void 0,Or(te)),L;L=yield Je(k.next()),b=L.done,!b;R=!0){_=L.value,R=!1;const B=_;if(yield yield Je(B),B.candidates&&(!((w=B.candidates[0])===null||w===void 0)&&w.content)){M.push(B.candidates[0].content);for(const J of(A=B.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(d<l&&J.functionCall){if(!J.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(J.functionCall.name)){const U=yield Je(m.get(J.functionCall.name).callTool([J.functionCall]));P.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${J.functionCall.name}`)}}}}catch(B){E={error:B}}finally{try{!R&&!b&&(T=k.return)&&(yield Je(T.call(k)))}finally{if(E)throw E.error}}if(P.length>0){o=!0;const B=new mo;B.candidates=[{content:{role:"user",parts:P}}],yield yield Je(B);const J=[];J.push(...M),J.push({role:"user",parts:P});const U=Sr(v.contents).concat(J);v.contents=U}else break}})})(this,p,e)}async generateContentInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=Gy(this.apiClient,e);return d=Be("{model}:generateContent",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=qy(m),b=new mo;return Object.assign(b,v),b})}else{const f=Hy(this.apiClient,e);return d=Be("{model}:generateContent",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=Vy(m),b=new mo;return Object.assign(b,v),b})}}async generateContentStreamInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=Gy(this.apiClient,e);return d=Be("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(v){return jr(this,arguments,function*(){var b,E,T,_;try{for(var w=!0,A=Or(v),R;R=yield Je(A.next()),b=R.done,!b;w=!0){_=R.value,w=!1;const k=_,L=qy(yield Je(k.json()));L.sdkHttpResponse={headers:k.headers};const V=new mo;Object.assign(V,L),yield yield Je(V)}}catch(k){E={error:k}}finally{try{!w&&!b&&(T=A.return)&&(yield Je(T.call(A)))}finally{if(E)throw E.error}}})})}else{const f=Hy(this.apiClient,e);return d=Be("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),o.then(function(v){return jr(this,arguments,function*(){var b,E,T,_;try{for(var w=!0,A=Or(v),R;R=yield Je(A.next()),b=R.done,!b;w=!0){_=R.value,w=!1;const k=_,L=Vy(yield Je(k.json()));L.sdkHttpResponse={headers:k.headers};const V=new mo;Object.assign(V,L),yield yield Je(V)}}catch(k){E={error:k}}finally{try{!w&&!b&&(T=A.return)&&(yield Je(T.call(A)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=h6(this.apiClient,e);return d=Be("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=m6(m),b=new wy;return Object.assign(b,v),b})}else{const f=f6(this.apiClient,e);return d=Be("{model}:batchEmbedContents",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=p6(m),b=new wy;return Object.assign(b,v),b})}}async generateImagesInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=N6(this.apiClient,e);return d=Be("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=k6(m),b=new Ny;return Object.assign(b,v),b})}else{const f=w6(this.apiClient,e);return d=Be("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=A6(m),b=new Ny;return Object.assign(b,v),b})}}async editImageInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const d=o6(this.apiClient,e);return l=Be("{model}:predict",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:p.headers},m})),i.then(p=>{const f=c6(p),m=new xC;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const d=N5(this.apiClient,e);return l=Be("{model}:predict",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:p.headers},m})),i.then(p=>{const f=A5(p),m=new vC;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const d=l5(this.apiClient,e);return l=Be("{model}:predict",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>{const f=o5(p),m=new yC;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const d=p5(this.apiClient,e);return l=Be("{model}:predict",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>{const f=m5(p),m=new bC;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=q6(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Vh(m))}else{const f=V6(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),o.then(m=>Gh(m))}}async listInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=e5(this.apiClient,e);return d=Be("{models_url}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=n5(m),b=new Ay;return Object.assign(b,v),b})}else{const f=Z6(this.apiClient,e);return d=Be("{models_url}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=t5(m),b=new Ay;return Object.assign(b,v),b})}}async update(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=T5(this.apiClient,e);return d=Be("{model}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Vh(m))}else{const f=_5(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),o.then(m=>Gh(m))}}async delete(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=a6(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=s6(m),b=new ky;return Object.assign(b,v),b})}else{const f=r6(this.apiClient,e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=i6(m),b=new ky;return Object.assign(b,v),b})}}async countTokens(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=e6(this.apiClient,e);return d=Be("{model}:countTokens",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=n6(m),b=new Cy;return Object.assign(b,v),b})}else{const f=ZR(this.apiClient,e);return d=Be("{model}:countTokens",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=t6(m),b=new Cy;return Object.assign(b,v),b})}}async computeTokens(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const d=$R(this.apiClient,e);return l=Be("{model}:computeTokens",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:p.headers},m})),i.then(p=>{const f=YR(p),m=new SC;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=F6(this.apiClient,e);return d=Be("{model}:predictLongRunning",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const v=D6(m),b=new Xu;return Object.assign(b,v),b})}else{const f=I6(this.apiClient,e);return d=Be("{model}:predictLongRunning",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),o.then(m=>{const v=M6(m),b=new Xu;return Object.assign(b,v),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b8 extends Ma{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=dC(e);return d=Be("{operationName}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o}else{const f=uC(e);return d=Be("{operationName}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const d=rC(e);return l=Be("{resourceName}:fetchPredictOperation",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S8(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function E8(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>M8(l))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function _8(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const l=g(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&x(n,["newSessionExpireTime"],l);const o=g(e,["uses"]);n!==void 0&&o!=null&&x(n,["uses"],o);const d=g(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&x(n,["bidiGenerateContentSetup"],R8(t,d));const p=g(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&x(n,["fieldMask"],p),r}function T8(t,e){const n={},r=g(e,["config"]);return r!=null&&x(n,["config"],_8(t,r,n)),n}function w8(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function N8(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function A8(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function k8(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function C8(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const l=g(t,["temperature"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","temperature"],l);const o=g(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const d=g(t,["topK"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","topK"],d);const p=g(t,["maxOutputTokens"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","maxOutputTokens"],p);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const m=g(t,["seed"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","seed"],m);const v=g(t,["speechConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","speechConfig"],Sp(v));const b=g(t,["thinkingConfig"]);e!==void 0&&b!=null&&x(e,["setup","generationConfig","thinkingConfig"],b);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],E);const T=g(t,["systemInstruction"]);e!==void 0&&T!=null&&x(e,["setup","systemInstruction"],E8(bn(T)));const _=g(t,["tools"]);if(e!==void 0&&_!=null){let te=fl(_);Array.isArray(te)&&(te=te.map(P=>I8(dl(P)))),x(e,["setup","tools"],te)}const w=g(t,["sessionResumption"]);e!==void 0&&w!=null&&x(e,["setup","sessionResumption"],D8(w));const A=g(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&x(e,["setup","inputAudioTranscription"],A);const R=g(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const k=g(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&x(e,["setup","realtimeInputConfig"],k);const L=g(t,["contextWindowCompression"]);e!==void 0&&L!=null&&x(e,["setup","contextWindowCompression"],L);const V=g(t,["proactivity"]);if(e!==void 0&&V!=null&&x(e,["setup","proactivity"],V),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function R8(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["setup","model"],dt(t,r));const i=g(e,["config"]);return i!=null&&x(n,["config"],C8(i,n)),n}function M8(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const l=g(t,["fileData"]);l!=null&&x(e,["fileData"],w8(l));const o=g(t,["functionCall"]);o!=null&&x(e,["functionCall"],N8(o));const d=g(t,["functionResponse"]);d!=null&&x(e,["functionResponse"],d);const p=g(t,["inlineData"]);p!=null&&x(e,["inlineData"],S8(p));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const m=g(t,["thought"]);m!=null&&x(e,["thought"],m);const v=g(t,["thoughtSignature"]);v!=null&&x(e,["thoughtSignature"],v);const b=g(t,["videoMetadata"]);return b!=null&&x(e,["videoMetadata"],b),e}function D8(t){const e={},n=g(t,["handle"]);if(n!=null&&x(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function I8(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>v)),x(e,["functionDeclarations"],m)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const l=g(t,["fileSearch"]);l!=null&&x(e,["fileSearch"],l);const o=g(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=g(t,["googleMaps"]);d!=null&&x(e,["googleMaps"],A8(d));const p=g(t,["googleSearch"]);p!=null&&x(e,["googleSearch"],k8(p));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F8(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(l=>`${n}.${l}`);e.push(...i)}else e.push(n)}return e.join(",")}function L8(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const l=F8(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];i.length>0&&(d=i.map(f=>o.includes(f)?`generationConfig.${f}`:f));const p=[];l&&p.push(l),d.length>0&&p.push(...d),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class P8 extends Ma{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=T8(this.apiClient,e);l=Be("auth_tokens",d._url),o=d._query,delete d.config,delete d._url,delete d._query;const p=L8(d,e.config);return i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j8(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function O8(t){const e={},n=g(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&j8(r,e),e}function U8(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function B8(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function z8(t){const e={},n=g(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&B8(r,e),e}function H8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>o)),x(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G8 extends Ma{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ki(ka.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=U8(e);return l=Be("{name}",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>p)}}async delete(e){var n,r;let i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=O8(e);i=Be("{name}",o._url),l=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=z8(e);return l=Be("{parent}/documents",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>{const f=H8(p),m=new EC;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V8 extends Ma{constructor(e,n=new G8(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ki(ka.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=F5(e);return l=Be("fileSearchStores",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>p)}}async get(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=j5(e);return l=Be("{name}",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>p)}}async delete(e){var n,r;let i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=P5(e);i=Be("{name}",o._url),l=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=G5(e);return l=Be("fileSearchStores",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>{const f=V5(p),m=new _C;return Object.assign(m,f),m})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=q5(e);return l=Be("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>{const f=$5(p),m=new TC;return Object.assign(m,f),m})}}async importFile(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=B5(e);return l=Be("{file_search_store_name}:importFile",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),i.then(p=>{const f=U5(p),m=new gp;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rS=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return rS=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const q8=()=>rS();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $h(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Yh=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tr extends Error{}class Dn extends Tr{constructor(e,n,r,i){super(`${Dn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Nd({message:r,cause:Yh(n)});const l=n;return e===400?new iS(e,l,r,i):e===401?new sS(e,l,r,i):e===403?new lS(e,l,r,i):e===404?new oS(e,l,r,i):e===409?new cS(e,l,r,i):e===422?new uS(e,l,r,i):e===429?new dS(e,l,r,i):e>=500?new fS(e,l,r,i):new Dn(e,l,r,i)}}class Jh extends Dn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nd extends Dn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class aS extends Nd{constructor({message:e}={}){super({message:e??"Request timed out."})}}class iS extends Dn{}class sS extends Dn{}class lS extends Dn{}class oS extends Dn{}class cS extends Dn{}class uS extends Dn{}class dS extends Dn{}class fS extends Dn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $8=/^[a-z][a-z0-9+.-]*:/i,Y8=t=>$8.test(t);let Xh=t=>(Xh=Array.isArray,Xh(t));const J8=Xh;let X8=J8;const Ky=X8;function W8(t){if(!t)return!0;for(const e in t)return!1;return!0}function K8(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Q8=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Tr(`${t} must be an integer`);if(e<0)throw new Tr(`${t} must be a positive integer`);return e},Z8=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eM=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ws="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tM(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const nM=()=>{var t,e,n,r,i;const l=tM();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":Zy(Deno.build.os),"X-Stainless-Arch":Qy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":Zy((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Qy((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=rM();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function rM(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,l=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${l}.${o}`}}}return null}const Qy=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Zy=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let yu;const aM=()=>yu??(yu=nM());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iM(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function hS(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function sM(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return hS({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function pS(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function lM(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oM=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mS=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function bh(t,e,n){return mS(),new File(t,e??"unknown_file",n)}function cM(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const uM=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gS=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",dM=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&gS(t),fM=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function hM(t,e,n){if(mS(),t=await t,dM(t))return t instanceof File?t:bh([await t.arrayBuffer()],t.name);if(fM(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),bh(await Wh(i),e,n)}const r=await Wh(t);if(e||(e=cM(t)),!(n!=null&&n.type)){const i=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return bh(r,e,n)}async function Wh(t){var e,n,r,i,l;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(gS(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(uM(t))try{for(var d=!0,p=Or(t),f;f=await p.next(),e=f.done,!e;d=!0){i=f.value,d=!1;const m=i;o.push(...await Wh(m))}}catch(m){n={error:m}}finally{try{!d&&!e&&(r=p.return)&&await r.call(p)}finally{if(n)throw n.error}}else{const m=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${pM(t)}`)}return o}function pM(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xS{constructor(e){this._client=e}}xS._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vS(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const e2=Object.freeze(Object.create(null)),mM=(t=vS)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const l=[],o=n.reduce((m,v,b)=>{var E,T,_;/[?#]/.test(v)&&(i=!0);const w=r[b];let A=(i?encodeURIComponent:t)(""+w);return b!==r.length&&(w==null||typeof w=="object"&&w.toString===((_=Object.getPrototypeOf((T=Object.getPrototypeOf((E=w.hasOwnProperty)!==null&&E!==void 0?E:e2))!==null&&T!==void 0?T:e2))===null||_===void 0?void 0:_.toString))&&(A=w+"",l.push({start:m.length+v.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),m+v+(b===r.length?"":A)},""),d=o.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=p.exec(d))!==null;)l.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(l.sort((m,v)=>m.start-v.start),l.length>0){let m=0;const v=l.reduce((b,E)=>{const T=" ".repeat(E.start-m),_="^".repeat(E.length);return m=E.start+E.length,b+T+_},"");throw new Tr(`Path parameters result in path with invalid segments:
${l.map(b=>b.error).join(`
`)}
${o}
${v}`)}return o}),bu=mM(vS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yS extends xS{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,l=Ku(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new Tr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new Tr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(bu`/${i}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(bu`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(bu`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const l=n??{},{api_version:o=this._client.apiVersion}=l,d=Ku(l,["api_version"]);return this._client.get(bu`/${o}/interactions/${e}`,Object.assign(Object.assign({query:d},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}yS._key=Object.freeze(["interactions"]);class bS extends yS{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gM(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Su;function _p(t){let e;return(Su??(e=new globalThis.TextEncoder,Su=e.encode.bind(e)))(t)}let Eu;function t2(t){let e;return(Eu??(e=new globalThis.TextDecoder,Eu=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ad{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?_p(e):e;this.buffer=gM([this.buffer,n]);const r=[];let i;for(;(i=xM(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(t2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=t2(this.buffer.subarray(0,l));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Ad.NEWLINE_CHARS=new Set([`
`,"\r"]);Ad.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xM(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function vM(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qu={off:0,error:200,warn:300,info:400,debug:500},n2=(t,e,n)=>{if(t){if(K8(Qu,t))return t;Nn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Qu))}`)}};function bo(){}function _u(t,e,n){return!e||Qu[t]>Qu[n]?bo:e[t].bind(e)}const yM={error:bo,warn:bo,info:bo,debug:bo};let r2=new WeakMap;function Nn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return yM;const i=r2.get(n);if(i&&i[0]===r)return i[1];const l={error:_u("error",n,r),warn:_u("warn",n,r),info:_u("info",n,r),debug:_u("debug",n,r)};return r2.set(n,[r,l]),l}const Oi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zs{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const l=r?Nn(r):console;function o(){return jr(this,arguments,function*(){var p,f,m,v;if(i)throw new Tr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let b=!1;try{try{for(var E=!0,T=Or(bM(e,n)),_;_=yield Je(T.next()),p=_.done,!p;E=!0){v=_.value,E=!1;const w=v;if(!b)if(w.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield Je(JSON.parse(w.data))}catch(A){throw l.error("Could not parse message into JSON:",w.data),l.error("From chunk:",w.raw),A}}}catch(w){f={error:w}}finally{try{!E&&!p&&(m=T.return)&&(yield Je(m.call(T)))}finally{if(f)throw f.error}}b=!0}catch(w){if($h(w))return yield Je(void 0);throw w}finally{b||n.abort()}})}return new Zs(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function l(){return jr(this,arguments,function*(){var p,f,m,v;const b=new Ad,E=pS(e);try{for(var T=!0,_=Or(E),w;w=yield Je(_.next()),p=w.done,!p;T=!0){v=w.value,T=!1;const A=v;for(const R of b.decode(A))yield yield Je(R)}}catch(A){f={error:A}}finally{try{!T&&!p&&(m=_.return)&&(yield Je(m.call(_)))}finally{if(f)throw f.error}}for(const A of b.flush())yield yield Je(A)})}function o(){return jr(this,arguments,function*(){var p,f,m,v;if(i)throw new Tr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let b=!1;try{try{for(var E=!0,T=Or(l()),_;_=yield Je(T.next()),p=_.done,!p;E=!0){v=_.value,E=!1;const w=v;b||w&&(yield yield Je(JSON.parse(w)))}}catch(w){f={error:w}}finally{try{!E&&!p&&(m=T.return)&&(yield Je(m.call(T)))}finally{if(f)throw f.error}}b=!0}catch(w){if($h(w))return yield Je(void 0);throw w}finally{b||n.abort()}})}return new Zs(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=l=>({next:()=>{if(l.length===0){const o=r.next();e.push(o),n.push(o)}return l.shift()}});return[new Zs(()=>i(e),this.controller,this.client),new Zs(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return hS({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:l}=await n.next();if(l)return r.close();const o=_p(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function bM(t,e){return jr(this,arguments,function*(){var r,i,l,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Tr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Tr("Attempted to iterate over a response with no body");const d=new EM,p=new Ad,f=pS(t.body);try{for(var m=!0,v=Or(SM(f)),b;b=yield Je(v.next()),r=b.done,!r;m=!0){o=b.value,m=!1;const E=o;for(const T of p.decode(E)){const _=d.decode(T);_&&(yield yield Je(_))}}}catch(E){i={error:E}}finally{try{!m&&!r&&(l=v.return)&&(yield Je(l.call(v)))}finally{if(i)throw i.error}}for(const E of p.flush()){const T=d.decode(E);T&&(yield yield Je(T))}})}function SM(t){return jr(this,arguments,function*(){var n,r,i,l;let o=new Uint8Array;try{for(var d=!0,p=Or(t),f;f=yield Je(p.next()),n=f.done,!n;d=!0){l=f.value,d=!1;const m=l;if(m==null)continue;const v=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?_p(m):m;let b=new Uint8Array(o.length+v.length);b.set(o),b.set(v,o.length),o=b;let E;for(;(E=vM(o))!==-1;)yield yield Je(o.slice(0,E)),o=o.slice(E)}}catch(m){r={error:m}}finally{try{!d&&!n&&(i=p.return)&&(yield Je(i.call(p)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Je(o))})}class EM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=_M(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function _M(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TM(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:l}=e,o=await(async()=>{var d;if(e.options.stream)return Nn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Zs.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),f=(d=p==null?void 0:p.split(";")[0])===null||d===void 0?void 0:d.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Nn(t).debug(`[${r}] response parsed`,Oi({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-l})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tp extends Promise{constructor(e,n,r=TM){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Tp(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SS=Symbol("brand.privateNullableHeaders");function*wM(t){if(!t)return;if(SS in t){const{values:r,nulls:i}=t;yield*r.entries();for(const l of i)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Ky(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const l=Ky(r[1])?r[1]:[r[1]];let o=!1;for(const d of l)d!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,d])}}const go=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[l,o]of wM(r)){const d=l.toLowerCase();i.has(d)||(e.delete(l),i.add(d)),o===null?(e.delete(l),n.add(d)):(e.append(l,o),n.delete(d))}}return{[SS]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sh=t=>{var e,n,r,i,l,o;if(typeof globalThis.process<"u")return(r=(n=(e=Kk)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(l=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||l===void 0?void 0:l.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ES;class kd{constructor(e){var n,r,i,l,o,d,p,{baseURL:f=Sh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=Sh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:v="v1beta"}=e,b=Ku(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:m,apiVersion:v},b),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(r=E.timeout)!==null&&r!==void 0?r:kd.DEFAULT_TIMEOUT,this.logger=(i=E.logger)!==null&&i!==void 0?i:console;const T="warn";this.logLevel=T,this.logLevel=(o=(l=n2(E.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:n2(Sh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:T,this.fetchOptions=E.fetchOptions,this.maxRetries=(d=E.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(p=E.fetch)!==null&&p!==void 0?p:iM(),this.encoder=oM,this._options=E,this.apiKey=m,this.apiVersion=v,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=go([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return go([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return go([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Tr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ws}`}defaultIdempotencyKey(){return`stainless-node-retry-${q8()}`}makeStatusError(e,n,r,i){return Dn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,l=Y8(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return W8(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Tp(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,l,o;const d=await e,p=(i=d.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=p),await this.prepareOptions(d);const{req:f,url:m,timeout:v}=await this.buildRequest(d,{retryCount:p-n});await this.prepareRequest(f,{url:m,options:d});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=r===void 0?"":`, retryOf: ${r}`,T=Date.now();if(Nn(this).debug(`[${b}] sending request`,Oi({retryOfRequestLogID:r,method:d.method,url:m,options:d,headers:f.headers})),!((l=d.signal)===null||l===void 0)&&l.aborted)throw new Jh;const _=new AbortController,w=await this.fetchWithTimeout(m,f,v,_).catch(Yh),A=Date.now();if(w instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(!((o=d.signal)===null||o===void 0)&&o.aborted)throw new Jh;const L=$h(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return Nn(this).info(`[${b}] connection ${L?"timed out":"failed"} - ${k}`),Nn(this).debug(`[${b}] connection ${L?"timed out":"failed"} (${k})`,Oi({retryOfRequestLogID:r,url:m,durationMs:A-T,message:w.message})),this.retryRequest(d,n,r??b);throw Nn(this).info(`[${b}] connection ${L?"timed out":"failed"} - error; no more retries left`),Nn(this).debug(`[${b}] connection ${L?"timed out":"failed"} (error; no more retries left)`,Oi({retryOfRequestLogID:r,url:m,durationMs:A-T,message:w.message})),L?new aS:new Nd({cause:w})}const R=`[${b}${E}] ${f.method} ${m} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${A-T}ms`;if(!w.ok){const k=await this.shouldRetry(w);if(n&&k){const B=`retrying, ${n} attempts remaining`;return await lM(w.body),Nn(this).info(`${R} - ${B}`),Nn(this).debug(`[${b}] response error (${B})`,Oi({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:A-T})),this.retryRequest(d,n,r??b,w.headers)}const L=k?"error; no more retries left":"error; not retryable";Nn(this).info(`${R} - ${L}`);const V=await w.text().catch(B=>Yh(B).message),te=Z8(V),P=te?void 0:V;throw Nn(this).debug(`[${b}] response error (${L})`,Oi({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:P,durationMs:Date.now()-T})),this.makeStatusError(w.status,te,P,w.headers)}return Nn(this).info(R),Nn(this).debug(`[${b}] response start`,Oi({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:A-T})),{response:w,options:d,controller:_,requestLogID:b,retryOfRequestLogID:r,startTime:T}}async fetchWithTimeout(e,n,r,i){const l=n||{},{signal:o,method:d}=l,p=Ku(l,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),m=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,v=Object.assign(Object.assign(Object.assign({signal:i.signal},m?{duplex:"half"}:{}),{method:"GET"}),p);d&&(v.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var l;let o;const d=i==null?void 0:i.get("retry-after-ms");if(d){const f=parseFloat(d);Number.isNaN(f)||(o=f)}const p=i==null?void 0:i.get("retry-after");if(p&&!o){const f=parseFloat(p);Number.isNaN(f)?o=Date.parse(p)-Date.now():o=f*1e3}if(!(o&&0<=o&&o<60*1e3)){const f=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,f)}return await eM(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,o=Math.min(.5*Math.pow(2,l),8),d=1-Math.random()*.25;return o*d*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,l;const o=Object.assign({},e),{method:d,path:p,query:f,defaultBaseURL:m}=o,v=this.buildURL(p,f,m);"timeout"in o&&Q8("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:b,body:E}=this.buildBody({options:o}),T=await this.buildHeaders({options:e,method:d,bodyHeaders:b,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:T},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(l=o.fetchOptions)!==null&&l!==void 0?l:{}),url:v,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let d=go([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),aM()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(d),d.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=go([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:sM(e)}:this.encoder({body:e,headers:r})}}kd.DEFAULT_TIMEOUT=6e4;class ln extends kd{constructor(){super(...arguments),this.interactions=new bS(this)}}ES=ln;ln.GeminiNextGenAPIClient=ES;ln.GeminiNextGenAPIClientError=Tr;ln.APIError=Dn;ln.APIConnectionError=Nd;ln.APIConnectionTimeoutError=aS;ln.APIUserAbortError=Jh;ln.NotFoundError=oS;ln.ConflictError=cS;ln.RateLimitError=dS;ln.BadRequestError=iS;ln.AuthenticationError=sS;ln.InternalServerError=fS;ln.PermissionDeniedError=lS;ln.UnprocessableEntityError=uS;ln.toFile=hM;ln.Interactions=bS;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NM(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function AM(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function kM(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function CM(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function RM(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=g(t,["epochCount"]);e!==void 0&&l!=null&&x(e,["tuningTask","hyperparameters","epochCount"],l);const o=g(t,["learningRateMultiplier"]);if(o!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=g(t,["batchSize"]);e!==void 0&&d!=null&&x(e,["tuningTask","hyperparameters","batchSize"],d);const p=g(t,["learningRate"]);if(e!==void 0&&p!=null&&x(e,["tuningTask","hyperparameters","learningRate"],p),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function MM(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const E=g(t,["validationDataset"]);e!==void 0&&E!=null&&x(e,["supervisedTuningSpec"],a2(E))}else if(i==="PREFERENCE_TUNING"){const E=g(t,["validationDataset"]);e!==void 0&&E!=null&&x(e,["preferenceOptimizationSpec"],a2(E))}const l=g(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&x(e,["tunedModelDisplayName"],l);const o=g(t,["description"]);e!==void 0&&o!=null&&x(e,["description"],o);let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const E=g(t,["epochCount"]);e!==void 0&&E!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(d==="PREFERENCE_TUNING"){const E=g(t,["epochCount"]);e!==void 0&&E!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let p=g(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=g(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(p==="PREFERENCE_TUNING"){const E=g(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=g(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(f==="PREFERENCE_TUNING"){const E=g(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let m=g(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=g(t,["adapterSize"]);e!==void 0&&E!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(m==="PREFERENCE_TUNING"){const E=g(t,["adapterSize"]);e!==void 0&&E!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=g(t,["labels"]);e!==void 0&&v!=null&&x(e,["labels"],v);const b=g(t,["beta"]);return e!==void 0&&b!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),r}function DM(t,e){const n={},r=g(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const l=g(t,["trainingDataset"]);l!=null&&GM(l);const o=g(t,["config"]);return o!=null&&RM(o,n),n}function IM(t,e){const n={},r=g(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const l=g(t,["trainingDataset"]);l!=null&&VM(l,n,e);const o=g(t,["config"]);return o!=null&&MM(o,n,e),n}function FM(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function LM(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function PM(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const l=g(t,["pageToken"]);e!==void 0&&l!=null&&x(e,["_query","pageToken"],l);const o=g(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function jM(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const l=g(t,["pageToken"]);e!==void 0&&l!=null&&x(e,["_query","pageToken"],l);const o=g(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function OM(t,e){const n={},r=g(t,["config"]);return r!=null&&PM(r,n),n}function UM(t,e){const n={},r=g(t,["config"]);return r!=null&&jM(r,n),n}function BM(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const l=g(t,["tunedModels"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(d=>_S(d))),x(n,["tuningJobs"],o)}return n}function zM(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const l=g(t,["tuningJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(d=>Kh(d))),x(n,["tuningJobs"],o)}return n}function HM(t,e){const n={},r=g(t,["name"]);r!=null&&x(n,["model"],r);const i=g(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function GM(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),x(n,["examples","examples"],i)}return n}function VM(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=g(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=g(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let l=g(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const o=g(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(l==="PREFERENCE_TUNING"){const o=g(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function _S(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&x(n,["name"],i);const l=g(t,["state"]);l!=null&&x(n,["state"],Ub(l));const o=g(t,["createTime"]);o!=null&&x(n,["createTime"],o);const d=g(t,["tuningTask","startTime"]);d!=null&&x(n,["startTime"],d);const p=g(t,["tuningTask","completeTime"]);p!=null&&x(n,["endTime"],p);const f=g(t,["updateTime"]);f!=null&&x(n,["updateTime"],f);const m=g(t,["description"]);m!=null&&x(n,["description"],m);const v=g(t,["baseModel"]);v!=null&&x(n,["baseModel"],v);const b=g(t,["_self"]);return b!=null&&x(n,["tunedModel"],HM(b)),n}function Kh(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&x(n,["name"],i);const l=g(t,["state"]);l!=null&&x(n,["state"],Ub(l));const o=g(t,["createTime"]);o!=null&&x(n,["createTime"],o);const d=g(t,["startTime"]);d!=null&&x(n,["startTime"],d);const p=g(t,["endTime"]);p!=null&&x(n,["endTime"],p);const f=g(t,["updateTime"]);f!=null&&x(n,["updateTime"],f);const m=g(t,["error"]);m!=null&&x(n,["error"],m);const v=g(t,["description"]);v!=null&&x(n,["description"],v);const b=g(t,["baseModel"]);b!=null&&x(n,["baseModel"],b);const E=g(t,["tunedModel"]);E!=null&&x(n,["tunedModel"],E);const T=g(t,["preTunedModel"]);T!=null&&x(n,["preTunedModel"],T);const _=g(t,["supervisedTuningSpec"]);_!=null&&x(n,["supervisedTuningSpec"],_);const w=g(t,["preferenceOptimizationSpec"]);w!=null&&x(n,["preferenceOptimizationSpec"],w);const A=g(t,["tuningDataStats"]);A!=null&&x(n,["tuningDataStats"],A);const R=g(t,["encryptionSpec"]);R!=null&&x(n,["encryptionSpec"],R);const k=g(t,["partnerModelTuningSpec"]);k!=null&&x(n,["partnerModelTuningSpec"],k);const L=g(t,["customBaseModel"]);L!=null&&x(n,["customBaseModel"],L);const V=g(t,["experiment"]);V!=null&&x(n,["experiment"],V);const te=g(t,["labels"]);te!=null&&x(n,["labels"],te);const P=g(t,["outputUri"]);P!=null&&x(n,["outputUri"],P);const M=g(t,["pipelineJob"]);M!=null&&x(n,["pipelineJob"],M);const B=g(t,["serviceAccount"]);B!=null&&x(n,["serviceAccount"],B);const J=g(t,["tunedModelDisplayName"]);J!=null&&x(n,["tunedModelDisplayName"],J);const U=g(t,["veoTuningSpec"]);return U!=null&&x(n,["veoTuningSpec"],U),n}function qM(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&x(n,["name"],i);const l=g(t,["metadata"]);l!=null&&x(n,["metadata"],l);const o=g(t,["done"]);o!=null&&x(n,["done"],o);const d=g(t,["error"]);return d!=null&&x(n,["error"],d),n}function a2(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $M extends Ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ki(ka.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:i});return l.baseModel=void 0,await this.tuneInternal(l)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),l=await this.tuneMldevInternal(i);let o="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?o=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(o=l.name.split("/operations/")[0]),{name:o,state:Uh.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=LM(e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>Kh(m))}else{const f=FM(e);return d=Be("{name}",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>_S(m))}}async listInternal(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=UM(e);return d=Be("tuningJobs",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=zM(m),b=new Ry;return Object.assign(b,v),b})}else{const f=OM(e);return d=Be("tunedModels",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=BM(m),b=new Ry;return Object.assign(b,v),b})}}async cancel(e){var n,r,i,l;let o,d="",p={};if(this.apiClient.isVertexAI()){const f=AM(e);return d=Be("{name}:cancel",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=CM(m),b=new My;return Object.assign(b,v),b})}else{const f=NM(e);return d=Be("{name}:cancel",f._url),p=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=kM(m),b=new My;return Object.assign(b,v),b})}}async tuneInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const d=IM(e,e);return l=Be("tuningJobs",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:p.headers},m})),i.then(p=>Kh(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=DM(e);return l=Be("tunedModels",d._url),o=d._query,delete d._url,delete d._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:p.headers},m})),i.then(p=>qM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const JM=1024*1024*8,XM=3,WM=1e3,KM=2,Zu="x-goog-upload-status";async function QM(t,e,n){var r;const i=await TS(t,e,n),l=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Zu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function ZM(t,e,n){var r;const i=await TS(t,e,n),l=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Zu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=Ib(l),d=new xp;return Object.assign(d,o),d}async function TS(t,e,n){var r,i;let l=0,o=0,d=new Bh(new Response),p="upload";for(l=t.size;o<l;){const f=Math.min(JM,l-o),m=t.slice(o,o+f);o+f>=l&&(p+=", finalize");let v=0,b=WM;for(;v<XM&&(d=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[Zu]));)v++,await tD(b),b=b*KM;if(o+=f,((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[Zu])!=="active")break;if(l<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function eD(t){return{size:t.size,type:t.type}}function tD(t){return new Promise(e=>setTimeout(e,t))}class nD{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await QM(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ZM(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eD(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rD{create(e,n,r){return new aD(e,n,r)}}class aD{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i2="x-goog-api-key";class iD{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(i2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(i2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sD="gl-node/";class lD{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ln({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=tC(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new iD(this.apiKey);this.apiClient=new e8({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:sD+"web",uploader:new nD,downloader:new YM}),this.models=new y8(this.apiClient),this.live=new h8(this.apiClient,i,new rD),this.batches=new R3(this.apiClient),this.chats=new dR(this.models,this.apiClient),this.caches=new oR(this.apiClient),this.files=new SR(this.apiClient),this.operations=new b8(this.apiClient),this.authTokens=new P8(this.apiClient),this.tunings=new $M(this.apiClient),this.fileSearchStores=new V8(this.apiClient)}}function wp(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Qi=wp();function wS(t){Qi=t}var Eo={exec:()=>null};function mt(t,e=""){let n=typeof t=="string"?t:t.source;const r={replace:(i,l)=>{let o=typeof l=="string"?l:l.source;return o=o.replace(Cn.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}var Cn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},oD=/^(?:[ \t]*(?:\n|$))+/,cD=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,uD=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Vo=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,dD=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Np=/(?:[*+-]|\d{1,9}[.)])/,NS=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,AS=mt(NS).replace(/bull/g,Np).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),fD=mt(NS).replace(/bull/g,Np).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Ap=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,hD=/^[^\n]+/,kp=/(?!\s*\])(?:\\.|[^\[\]\\])+/,pD=mt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",kp).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),mD=mt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Np).getRegex(),Cd="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Cp=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,gD=mt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Cp).replace("tag",Cd).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),kS=mt(Ap).replace("hr",Vo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cd).getRegex(),xD=mt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",kS).getRegex(),Rp={blockquote:xD,code:cD,def:pD,fences:uD,heading:dD,hr:Vo,html:gD,lheading:AS,list:mD,newline:oD,paragraph:kS,table:Eo,text:hD},s2=mt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Vo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cd).getRegex(),vD={...Rp,lheading:fD,table:s2,paragraph:mt(Ap).replace("hr",Vo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",s2).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cd).getRegex()},yD={...Rp,html:mt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Cp).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Eo,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mt(Ap).replace("hr",Vo).replace("heading",` *#{1,6} *[^
]`).replace("lheading",AS).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},bD=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,SD=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,CS=/^( {2,}|\\)\n(?!\s*$)/,ED=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Rd=/[\p{P}\p{S}]/u,Mp=/[\s\p{P}\p{S}]/u,RS=/[^\s\p{P}\p{S}]/u,_D=mt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Mp).getRegex(),MS=/(?!~)[\p{P}\p{S}]/u,TD=/(?!~)[\s\p{P}\p{S}]/u,wD=/(?:[^\s\p{P}\p{S}]|~)/u,ND=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,DS=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,AD=mt(DS,"u").replace(/punct/g,Rd).getRegex(),kD=mt(DS,"u").replace(/punct/g,MS).getRegex(),IS="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",CD=mt(IS,"gu").replace(/notPunctSpace/g,RS).replace(/punctSpace/g,Mp).replace(/punct/g,Rd).getRegex(),RD=mt(IS,"gu").replace(/notPunctSpace/g,wD).replace(/punctSpace/g,TD).replace(/punct/g,MS).getRegex(),MD=mt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,RS).replace(/punctSpace/g,Mp).replace(/punct/g,Rd).getRegex(),DD=mt(/\\(punct)/,"gu").replace(/punct/g,Rd).getRegex(),ID=mt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),FD=mt(Cp).replace("(?:-->|$)","-->").getRegex(),LD=mt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",FD).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ed=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,PD=mt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ed).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),FS=mt(/^!?\[(label)\]\[(ref)\]/).replace("label",ed).replace("ref",kp).getRegex(),LS=mt(/^!?\[(ref)\](?:\[\])?/).replace("ref",kp).getRegex(),jD=mt("reflink|nolink(?!\\()","g").replace("reflink",FS).replace("nolink",LS).getRegex(),Dp={_backpedal:Eo,anyPunctuation:DD,autolink:ID,blockSkip:ND,br:CS,code:SD,del:Eo,emStrongLDelim:AD,emStrongRDelimAst:CD,emStrongRDelimUnd:MD,escape:bD,link:PD,nolink:LS,punctuation:_D,reflink:FS,reflinkSearch:jD,tag:LD,text:ED,url:Eo},OD={...Dp,link:mt(/^!?\[(label)\]\((.*?)\)/).replace("label",ed).getRegex(),reflink:mt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ed).getRegex()},Qh={...Dp,emStrongRDelimAst:RD,emStrongLDelim:kD,url:mt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},UD={...Qh,br:mt(CS).replace("{2,}","*").getRegex(),text:mt(Qh.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Tu={normal:Rp,gfm:vD,pedantic:yD},xo={normal:Dp,gfm:Qh,breaks:UD,pedantic:OD},BD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l2=t=>BD[t];function Jr(t,e){if(e){if(Cn.escapeTest.test(t))return t.replace(Cn.escapeReplace,l2)}else if(Cn.escapeTestNoEncode.test(t))return t.replace(Cn.escapeReplaceNoEncode,l2);return t}function o2(t){try{t=encodeURI(t).replace(Cn.percentDecode,"%")}catch{return null}return t}function c2(t,e){var l;const n=t.replace(Cn.findPipe,(o,d,p)=>{let f=!1,m=d;for(;--m>=0&&p[m]==="\\";)f=!f;return f?"|":" |"}),r=n.split(Cn.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!((l=r.at(-1))!=null&&l.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Cn.slashPipe,"|");return r}function vo(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function zD(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function u2(t,e,n,r,i){const l=e.href,o=e.title||null,d=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const p={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:l,title:o,text:d,tokens:r.inlineTokens(d)};return r.state.inLink=!1,p}function HD(t,e,n){const r=t.match(n.other.indentCodeCompensation);if(r===null)return e;const i=r[1];return e.split(`
`).map(l=>{const o=l.match(n.other.beginningSpace);if(o===null)return l;const[d]=o;return d.length>=i.length?l.slice(i.length):l}).join(`
`)}var td=class{constructor(t){kt(this,"options");kt(this,"rules");kt(this,"lexer");this.options=t||Qi}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:vo(n,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const n=e[0],r=HD(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){const r=vo(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:vo(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let n=vo(e[0],`
`).split(`
`),r="",i="";const l=[];for(;n.length>0;){let o=!1;const d=[];let p;for(p=0;p<n.length;p++)if(this.rules.other.blockquoteStart.test(n[p]))d.push(n[p]),o=!0;else if(!o)d.push(n[p]);else break;n=n.slice(p);const f=d.join(`
`),m=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${f}`:f,i=i?`${i}
${m}`:m;const v=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,l,!0),this.lexer.state.top=v,n.length===0)break;const b=l.at(-1);if((b==null?void 0:b.type)==="code")break;if((b==null?void 0:b.type)==="blockquote"){const E=b,T=E.raw+`
`+n.join(`
`),_=this.blockquote(T);l[l.length-1]=_,r=r.substring(0,r.length-E.raw.length)+_.raw,i=i.substring(0,i.length-E.text.length)+_.text;break}else if((b==null?void 0:b.type)==="list"){const E=b,T=E.raw+`
`+n.join(`
`),_=this.list(T);l[l.length-1]=_,r=r.substring(0,r.length-b.raw.length)+_.raw,i=i.substring(0,i.length-E.raw.length)+_.raw,n=T.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:l,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const l=this.rules.other.listItemRegex(n);let o=!1;for(;t;){let p=!1,f="",m="";if(!(e=l.exec(t))||this.rules.block.hr.test(t))break;f=e[0],t=t.substring(f.length);let v=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,A=>" ".repeat(3*A.length)),b=t.split(`
`,1)[0],E=!v.trim(),T=0;if(this.options.pedantic?(T=2,m=v.trimStart()):E?T=e[1].length+1:(T=e[2].search(this.rules.other.nonSpaceChar),T=T>4?1:T,m=v.slice(T),T+=e[1].length),E&&this.rules.other.blankLine.test(b)&&(f+=b+`
`,t=t.substring(b.length+1),p=!0),!p){const A=this.rules.other.nextBulletRegex(T),R=this.rules.other.hrRegex(T),k=this.rules.other.fencesBeginRegex(T),L=this.rules.other.headingBeginRegex(T),V=this.rules.other.htmlBeginRegex(T);for(;t;){const te=t.split(`
`,1)[0];let P;if(b=te,this.options.pedantic?(b=b.replace(this.rules.other.listReplaceNesting,"  "),P=b):P=b.replace(this.rules.other.tabCharGlobal,"    "),k.test(b)||L.test(b)||V.test(b)||A.test(b)||R.test(b))break;if(P.search(this.rules.other.nonSpaceChar)>=T||!b.trim())m+=`
`+P.slice(T);else{if(E||v.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(v)||L.test(v)||R.test(v))break;m+=`
`+b}!E&&!b.trim()&&(E=!0),f+=te+`
`,t=t.substring(te.length+1),v=P.slice(T)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(o=!0));let _=null,w;this.options.gfm&&(_=this.rules.other.listIsTask.exec(m),_&&(w=_[0]!=="[ ] ",m=m.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:f,task:!!_,checked:w,loose:!1,text:m,tokens:[]}),i.raw+=f}const d=i.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let p=0;p<i.items.length;p++)if(this.lexer.state.top=!1,i.items[p].tokens=this.lexer.blockTokens(i.items[p].text,[]),!i.loose){const f=i.items[p].tokens.filter(v=>v.type==="space"),m=f.length>0&&f.some(v=>this.rules.other.anyLine.test(v.raw));i.loose=m}if(i.loose)for(let p=0;p<i.items.length;p++)i.items[p].loose=!0;return i}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:i}}}table(t){var o;const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const n=c2(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const d of r)this.rules.other.tableAlignRight.test(d)?l.align.push("right"):this.rules.other.tableAlignCenter.test(d)?l.align.push("center"):this.rules.other.tableAlignLeft.test(d)?l.align.push("left"):l.align.push(null);for(let d=0;d<n.length;d++)l.header.push({text:n[d],tokens:this.lexer.inline(n[d]),header:!0,align:l.align[d]});for(const d of i)l.rows.push(c2(d,l.header.length).map((p,f)=>({text:p,tokens:this.lexer.inline(p),header:!1,align:l.align[f]})));return l}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const l=vo(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{const l=zD(e[2],"()");if(l===-2)return;if(l>-1){const d=(e[0].indexOf("!")===0?5:4)+e[1].length+l;e[2]=e[2].substring(0,l),e[0]=e[0].substring(0,d).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){const l=this.rules.other.pedanticHrefTitle.exec(r);l&&(r=l[1],i=l[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),u2(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){const l=n[0].charAt(0);return{type:"text",raw:l,text:l}}return u2(n,i,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const l=[...r[0]].length-1;let o,d,p=l,f=0;const m=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(m.lastIndex=0,e=e.slice(-1*t.length+l);(r=m.exec(e))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(d=[...o].length,r[3]||r[4]){p+=d;continue}else if((r[5]||r[6])&&l%3&&!((l+d)%3)){f+=d;continue}if(p-=d,p>0)continue;d=Math.min(d,d+p+f);const v=[...r[0]][0].length,b=t.slice(0,l+r.index+v+d);if(Math.min(l,d)%2){const T=b.slice(1,-1);return{type:"em",raw:b,text:T,tokens:this.lexer.inlineTokens(T)}}const E=b.slice(2,-2);return{type:"strong",raw:b,text:E,tokens:this.lexer.inlineTokens(E)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let l;do l=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(l!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},xa=class Zh{constructor(e){kt(this,"tokens");kt(this,"options");kt(this,"state");kt(this,"tokenizer");kt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Qi,this.options.tokenizer=this.options.tokenizer||new td,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:Cn,block:Tu.normal,inline:xo.normal};this.options.pedantic?(n.block=Tu.pedantic,n.inline=xo.pedantic):this.options.gfm&&(n.block=Tu.gfm,this.options.breaks?n.inline=xo.breaks:n.inline=xo.gfm),this.tokenizer.rules=n}static get rules(){return{block:Tu,inline:xo}}static lex(e,n){return new Zh(n).lex(e)}static lexInline(e,n){return new Zh(n).inlineTokens(e)}lex(e){e=e.replace(Cn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var i,l,o;for(this.options.pedantic&&(e=e.replace(Cn.tabCharGlobal,"    ").replace(Cn.spaceLine,""));e;){let d;if((l=(i=this.options.extensions)==null?void 0:i.block)!=null&&l.some(f=>(d=f.call({lexer:this},e,n))?(e=e.substring(d.raw.length),n.push(d),!0):!1))continue;if(d=this.tokenizer.space(e)){e=e.substring(d.raw.length);const f=n.at(-1);d.raw.length===1&&f!==void 0?f.raw+=`
`:n.push(d);continue}if(d=this.tokenizer.code(e)){e=e.substring(d.raw.length);const f=n.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+d.raw,f.text+=`
`+d.text,this.inlineQueue.at(-1).src=f.text):n.push(d);continue}if(d=this.tokenizer.fences(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.heading(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.hr(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.blockquote(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.list(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.html(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.def(e)){e=e.substring(d.raw.length);const f=n.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+d.raw,f.text+=`
`+d.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[d.tag]||(this.tokens.links[d.tag]={href:d.href,title:d.title});continue}if(d=this.tokenizer.table(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.lheading(e)){e=e.substring(d.raw.length),n.push(d);continue}let p=e;if((o=this.options.extensions)!=null&&o.startBlock){let f=1/0;const m=e.slice(1);let v;this.options.extensions.startBlock.forEach(b=>{v=b.call({lexer:this},m),typeof v=="number"&&v>=0&&(f=Math.min(f,v))}),f<1/0&&f>=0&&(p=e.substring(0,f+1))}if(this.state.top&&(d=this.tokenizer.paragraph(p))){const f=n.at(-1);r&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=`
`+d.raw,f.text+=`
`+d.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):n.push(d),r=p.length!==e.length,e=e.substring(d.raw.length);continue}if(d=this.tokenizer.text(e)){e=e.substring(d.raw.length);const f=n.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=`
`+d.raw,f.text+=`
`+d.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):n.push(d);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var d,p,f;let r=e,i=null;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)m.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,o="";for(;e;){l||(o=""),l=!1;let m;if((p=(d=this.options.extensions)==null?void 0:d.inline)!=null&&p.some(b=>(m=b.call({lexer:this},e,n))?(e=e.substring(m.raw.length),n.push(m),!0):!1))continue;if(m=this.tokenizer.escape(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.tag(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.link(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(m.raw.length);const b=n.at(-1);m.type==="text"&&(b==null?void 0:b.type)==="text"?(b.raw+=m.raw,b.text+=m.text):n.push(m);continue}if(m=this.tokenizer.emStrong(e,r,o)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.codespan(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.br(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.del(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.autolink(e)){e=e.substring(m.raw.length),n.push(m);continue}if(!this.state.inLink&&(m=this.tokenizer.url(e))){e=e.substring(m.raw.length),n.push(m);continue}let v=e;if((f=this.options.extensions)!=null&&f.startInline){let b=1/0;const E=e.slice(1);let T;this.options.extensions.startInline.forEach(_=>{T=_.call({lexer:this},E),typeof T=="number"&&T>=0&&(b=Math.min(b,T))}),b<1/0&&b>=0&&(v=e.substring(0,b+1))}if(m=this.tokenizer.inlineText(v)){e=e.substring(m.raw.length),m.raw.slice(-1)!=="_"&&(o=m.raw.slice(-1)),l=!0;const b=n.at(-1);(b==null?void 0:b.type)==="text"?(b.raw+=m.raw,b.text+=m.text):n.push(m);continue}if(e){const b="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(b);break}else throw new Error(b)}}return n}},nd=class{constructor(t){kt(this,"options");kt(this,"parser");this.options=t||Qi}space(t){return""}code({text:t,lang:e,escaped:n}){var l;const r=(l=(e||"").match(Cn.notSpaceStart))==null?void 0:l[0],i=t.replace(Cn.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Jr(r)+'">'+(n?i:Jr(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:Jr(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,n=t.start;let r="";for(let o=0;o<t.items.length;o++){const d=t.items[o];r+=this.listitem(d)}const i=e?"ol":"ul",l=e&&n!==1?' start="'+n+'"':"";return"<"+i+l+`>
`+r+"</"+i+`>
`}listitem(t){var n;let e="";if(t.task){const r=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+Jr(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);e+=this.tablerow({text:n});let r="";for(let i=0;i<t.rows.length;i++){const l=t.rows[i];n="";for(let o=0;o<l.length;o++)n+=this.tablecell(l[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Jr(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const r=this.parser.parseInline(n),i=o2(t);if(i===null)return r;t=i;let l='<a href="'+t+'"';return e&&(l+=' title="'+Jr(e)+'"'),l+=">"+r+"</a>",l}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const i=o2(t);if(i===null)return Jr(n);t=i;let l=`<img src="${t}" alt="${n}"`;return e&&(l+=` title="${Jr(e)}"`),l+=">",l}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Jr(t.text)}},Ip=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},va=class ep{constructor(e){kt(this,"options");kt(this,"renderer");kt(this,"textRenderer");this.options=e||Qi,this.options.renderer=this.options.renderer||new nd,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ip}static parse(e,n){return new ep(n).parse(e)}static parseInline(e,n){return new ep(n).parseInline(e)}parse(e,n=!0){var i,l;let r="";for(let o=0;o<e.length;o++){const d=e[o];if((l=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&l[d.type]){const f=d,m=this.options.extensions.renderers[f.type].call({parser:this},f);if(m!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){r+=m||"";continue}}const p=d;switch(p.type){case"space":{r+=this.renderer.space(p);continue}case"hr":{r+=this.renderer.hr(p);continue}case"heading":{r+=this.renderer.heading(p);continue}case"code":{r+=this.renderer.code(p);continue}case"table":{r+=this.renderer.table(p);continue}case"blockquote":{r+=this.renderer.blockquote(p);continue}case"list":{r+=this.renderer.list(p);continue}case"html":{r+=this.renderer.html(p);continue}case"paragraph":{r+=this.renderer.paragraph(p);continue}case"text":{let f=p,m=this.renderer.text(f);for(;o+1<e.length&&e[o+1].type==="text";)f=e[++o],m+=`
`+this.renderer.text(f);n?r+=this.renderer.paragraph({type:"paragraph",raw:m,text:m,tokens:[{type:"text",raw:m,text:m,escaped:!0}]}):r+=m;continue}default:{const f='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return r}parseInline(e,n=this.renderer){var i,l;let r="";for(let o=0;o<e.length;o++){const d=e[o];if((l=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&l[d.type]){const f=this.options.extensions.renderers[d.type].call({parser:this},d);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(d.type)){r+=f||"";continue}}const p=d;switch(p.type){case"escape":{r+=n.text(p);break}case"html":{r+=n.html(p);break}case"link":{r+=n.link(p);break}case"image":{r+=n.image(p);break}case"strong":{r+=n.strong(p);break}case"em":{r+=n.em(p);break}case"codespan":{r+=n.codespan(p);break}case"br":{r+=n.br(p);break}case"del":{r+=n.del(p);break}case"text":{r+=n.text(p);break}default:{const f='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return r}},Mh,Uu=(Mh=class{constructor(t){kt(this,"options");kt(this,"block");this.options=t||Qi}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?xa.lex:xa.lexInline}provideParser(){return this.block?va.parse:va.parseInline}},kt(Mh,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Mh),GD=class{constructor(...t){kt(this,"defaults",wp());kt(this,"options",this.setOptions);kt(this,"parse",this.parseMarkdown(!0));kt(this,"parseInline",this.parseMarkdown(!1));kt(this,"Parser",va);kt(this,"Renderer",nd);kt(this,"TextRenderer",Ip);kt(this,"Lexer",xa);kt(this,"Tokenizer",td);kt(this,"Hooks",Uu);this.use(...t)}walkTokens(t,e){var r,i;let n=[];for(const l of t)switch(n=n.concat(e.call(this,l)),l.type){case"table":{const o=l;for(const d of o.header)n=n.concat(this.walkTokens(d.tokens,e));for(const d of o.rows)for(const p of d)n=n.concat(this.walkTokens(p.tokens,e));break}case"list":{const o=l;n=n.concat(this.walkTokens(o.items,e));break}default:{const o=l;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[o.type]?this.defaults.extensions.childTokens[o.type].forEach(d=>{const p=o[d].flat(1/0);n=n.concat(this.walkTokens(p,e))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,e)))}}return n}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const l=e.renderers[i.name];l?e.renderers[i.name]=function(...o){let d=i.renderer.apply(this,o);return d===!1&&(d=l.apply(this,o)),d}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const l=e[i.level];l?l.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){const i=this.defaults.renderer||new nd(this.defaults);for(const l in n.renderer){if(!(l in i))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;const o=l,d=n.renderer[o],p=i[o];i[o]=(...f)=>{let m=d.apply(i,f);return m===!1&&(m=p.apply(i,f)),m||""}}r.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new td(this.defaults);for(const l in n.tokenizer){if(!(l in i))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;const o=l,d=n.tokenizer[o],p=i[o];i[o]=(...f)=>{let m=d.apply(i,f);return m===!1&&(m=p.apply(i,f)),m}}r.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new Uu;for(const l in n.hooks){if(!(l in i))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;const o=l,d=n.hooks[o],p=i[o];Uu.passThroughHooks.has(l)?i[o]=f=>{if(this.defaults.async)return Promise.resolve(d.call(i,f)).then(v=>p.call(i,v));const m=d.call(i,f);return p.call(i,m)}:i[o]=(...f)=>{let m=d.apply(i,f);return m===!1&&(m=p.apply(i,f)),m}}r.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,l=n.walkTokens;r.walkTokens=function(o){let d=[];return d.push(l.call(this,o)),i&&(d=d.concat(i.call(this,o))),d}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return xa.lex(t,e??this.defaults)}parser(t,e){return va.parse(t,e??this.defaults)}parseMarkdown(t){return(n,r)=>{const i={...r},l={...this.defaults,...i},o=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));l.hooks&&(l.hooks.options=l,l.hooks.block=t);const d=l.hooks?l.hooks.provideLexer():t?xa.lex:xa.lexInline,p=l.hooks?l.hooks.provideParser():t?va.parse:va.parseInline;if(l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(n):n).then(f=>d(f,l)).then(f=>l.hooks?l.hooks.processAllTokens(f):f).then(f=>l.walkTokens?Promise.all(this.walkTokens(f,l.walkTokens)).then(()=>f):f).then(f=>p(f,l)).then(f=>l.hooks?l.hooks.postprocess(f):f).catch(o);try{l.hooks&&(n=l.hooks.preprocess(n));let f=d(n,l);l.hooks&&(f=l.hooks.processAllTokens(f)),l.walkTokens&&this.walkTokens(f,l.walkTokens);let m=p(f,l);return l.hooks&&(m=l.hooks.postprocess(m)),m}catch(f){return o(f)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const r="<p>An error occurred:</p><pre>"+Jr(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},qi=new GD;function bt(t,e){return qi.parse(t,e)}bt.options=bt.setOptions=function(t){return qi.setOptions(t),bt.defaults=qi.defaults,wS(bt.defaults),bt};bt.getDefaults=wp;bt.defaults=Qi;bt.use=function(...t){return qi.use(...t),bt.defaults=qi.defaults,wS(bt.defaults),bt};bt.walkTokens=function(t,e){return qi.walkTokens(t,e)};bt.parseInline=qi.parseInline;bt.Parser=va;bt.parser=va.parse;bt.Renderer=nd;bt.TextRenderer=Ip;bt.Lexer=xa;bt.lexer=xa.lex;bt.Tokenizer=td;bt.Hooks=Uu;bt.parse=bt;bt.options;bt.setOptions;bt.use;bt.walkTokens;bt.parseInline;va.parse;xa.lex;const VD=({user:t})=>{const[e,n]=I.useState(!1),[r,i]=I.useState(!1),[l,o]=I.useState([{role:"ai",text:`Hi **${t.name.split(" ")[0]}**! I'm Nio, your school AI assistant. How can I help you today?`}]),[d,p]=I.useState(""),[f,m]=I.useState(!1),v=I.useRef(null);I.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[l,f]);const b=async T=>{if(T&&T.preventDefault(),!d.trim()||f)return;const _=d.trim();o(w=>[...w,{role:"user",text:_}]),p(""),m(!0);try{const R=(await new lD({apiKey:void 0}).models.generateContent({model:"gemini-3-flash-preview",contents:_,config:{systemInstruction:`You are 'Nio', a friendly and helpful elementary school AI assistant for Santo Nio Elementary School. 
          Your tone is encouraging, simple enough for grades 1-6 students to understand, but professional for faculty. 
          Use Markdown to format your responses (bold, lists, tables when appropriate).
          Always prioritize school values: Kindness, Excellence, and Integrity. 
          The user is currently logged in as a ${t.role} named ${t.name}.`}})).text||"I'm sorry, I'm having trouble thinking right now. Please try again!";o(k=>[...k,{role:"ai",text:R}])}catch{o(A=>[...A,{role:"ai",text:"I encountered an error connecting to the campus brain. Please check your internet connection."}])}finally{m(!1)}},E=T=>{if(T.role==="ai"){const _=bt.parse(T.text);return u.jsx("div",{className:"markdown-content",dangerouslySetInnerHTML:{__html:_}})}return T.text};return e?u.jsxs("div",{className:`fixed bottom-8 right-8 w-full max-w-[400px] bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl border border-slate-200 dark:border-slate-800 z-[100] overflow-hidden flex flex-col transition-all duration-300 ${r?"h-20":"h-[600px] max-h-[80vh]"}`,children:[u.jsxs("div",{className:"bg-school-navy dark:bg-slate-950 p-6 flex items-center justify-between text-white",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-school-gold rounded-2xl flex items-center justify-center text-school-navy",children:u.jsx(PA,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black text-sm tracking-widest uppercase leading-none",children:"Nio AI"}),u.jsx("p",{className:"text-[10px] font-bold text-school-gold/80 tracking-widest uppercase mt-1",children:"Academic Assistant"})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:()=>i(!r),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:u.jsx(z4,{size:18})}),u.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:u.jsx(Ut,{size:18})})]})]}),!r&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:v,className:"flex-1 overflow-y-auto p-6 space-y-4 bg-slate-50 dark:bg-slate-900/50",children:[l.map((T,_)=>u.jsx("div",{className:`flex ${T.role==="user"?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[85%] p-4 rounded-3xl text-sm font-medium shadow-sm ${T.role==="user"?"bg-school-navy text-white rounded-tr-none":"bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded-tl-none border border-slate-100 dark:border-slate-700"}`,children:E(T)})},_)),f&&u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-3xl rounded-tl-none border border-slate-100 dark:border-slate-700",children:u.jsx(st,{size:18,className:"animate-spin text-school-gold"})})})]}),u.jsxs("form",{onSubmit:b,className:"p-4 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 flex gap-2",children:[u.jsx("input",{type:"text",value:d,onChange:T=>p(T.target.value),placeholder:"Ask anything about school...",className:"flex-1 px-5 py-3.5 bg-slate-50 dark:bg-slate-800 rounded-2xl text-sm font-medium outline-none focus:ring-2 focus:ring-school-navy dark:focus:ring-school-gold transition-all"}),u.jsx("button",{type:"submit",disabled:!d.trim()||f,className:"w-12 h-12 bg-school-navy dark:bg-school-gold text-white dark:text-school-navy rounded-2xl flex items-center justify-center shadow-lg active:scale-90 transition-all disabled:opacity-50",children:u.jsx(Sd,{size:20})})]})]})]}):u.jsxs("button",{onClick:()=>n(!0),className:"fixed bottom-8 right-8 w-16 h-16 bg-school-navy dark:bg-school-gold text-white dark:text-school-navy rounded-full shadow-2xl flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-[100] group",children:[u.jsx(wb,{size:28,className:"group-hover:rotate-12 transition-transform"}),u.jsx("div",{className:"absolute -top-2 -right-2 bg-rose-500 w-5 h-5 rounded-full border-2 border-white dark:border-slate-900 animate-pulse"})]})},qD=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0),[i,l]=I.useState(""),[o,d]=I.useState(null),[p,f]=I.useState([]),[m,v]=I.useState(null),[b,E]=I.useState(!1),[T,_]=I.useState(null),[w,A]=I.useState({}),[R,k]=I.useState(""),[L,V]=I.useState({name:"",email:"",role:_e.STUDENT}),[te,P]=I.useState(""),M=async()=>{r(!0);const ee=localStorage.getItem("school_user");ee&&d(JSON.parse(ee));try{const[Q,ye]=await Promise.all([Ne.getUsers(),Ne.getSections().catch(()=>[])]);e(Q);const de=ye.map(ke=>ke.name);Q.forEach(ke=>{ke.section&&!de.includes(ke.section)&&de.push(ke.section)}),f(Array.from(new Set(de)).sort())}catch(Q){console.error("Failed to load data:",Q)}r(!1)};I.useEffect(()=>{M()},[]);const B=async ee=>{if(confirm("Permanently remove this account from system?"))try{await Ne.deleteUser(ee),M()}catch(Q){console.error("Failed to delete user:",Q),alert("Failed to delete user.")}},J=async()=>{if(!(!m||!R))try{await Ne.updateUser(m.id,{password:R}),alert(`Password for ${m.name} has been reset.`),v(null),k("")}catch(ee){console.error("Failed to reset password:",ee),alert("Failed to reset password.")}},U=async ee=>{if(ee.preventDefault(),P(""),!L.name||!L.email){P("Please fill in all required fields.");return}try{await Ne.createUser(L.name,L.email,L.role),E(!1),V({name:"",email:"",role:_e.STUDENT}),M()}catch(Q){P(`Failed to create account: ${Q.message}`)}},re=ee=>{_(ee),A({role:ee.role,assignedSections:ee.assignedSections||[],advisorySection:ee.advisorySection||"",section:ee.section||""})},fe=async()=>{if(T)try{await Ne.updateUser(T.id,w),_(null),M()}catch(ee){console.error("Failed to update user:",ee),alert("Failed to update user.")}},De=t.filter(ee=>ee.name.toLowerCase().includes(i.toLowerCase())||ee.email.toLowerCase().includes(i.toLowerCase()));return n?u.jsx("div",{className:"flex justify-center p-20",children:u.jsx(st,{className:"animate-spin"})}):u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[u.jsx("datalist",{id:"section-suggestions",children:p.map(ee=>u.jsx("option",{value:ee},ee))}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Identity Control"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Approve new users and manage system roles."})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[u.jsxs("div",{className:"relative w-full sm:w-64",children:[u.jsx(Go,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{type:"text",placeholder:"Search accounts...",className:"pl-12 pr-6 py-4 bg-white dark:bg-slate-900 border border-slate-200 rounded-2xl text-sm font-bold outline-none w-full shadow-sm",value:i,onChange:ee=>l(ee.target.value)})]}),u.jsxs("button",{onClick:()=>E(!0),className:"w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-4 bg-indigo-600 text-white rounded-[2rem] font-black text-sm uppercase tracking-widest hover:scale-105 transition-transform shadow-xl",children:[u.jsx(jh,{size:20}),"Manual Add"]})]})]}),u.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[3rem] shadow-xl overflow-hidden",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800 border-b border-slate-100 dark:border-slate-800",children:[u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"User Identity"}),u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"System Role"}),u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Control"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:De.map(ee=>u.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-all",children:[u.jsxs("td",{className:"px-8 py-8",children:[u.jsxs("p",{className:"font-black text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[ee.name,ee.role===_e.PENDING&&u.jsx("span",{className:"p-1 bg-amber-100 text-amber-600 rounded-lg animate-pulse",title:"Waiting for Approval",children:u.jsx(Er,{size:12})})]}),u.jsx("p",{className:"text-xs text-slate-400 font-bold",children:ee.email}),ee.role===_e.TEACHER&&u.jsxs("div",{className:"mt-2 space-y-1",children:[ee.assignedSections&&ee.assignedSections.length>0&&u.jsxs("p",{className:"text-[9px] font-bold text-indigo-500 uppercase tracking-wider",children:["Classes: ",Array.isArray(ee.assignedSections)?ee.assignedSections.join(", "):ee.assignedSections]}),ee.advisorySection&&u.jsxs("p",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-wider flex items-center gap-1",children:[u.jsx(Nb,{size:10})," Adviser: ",ee.advisorySection]})]}),ee.role===_e.STUDENT&&ee.section&&u.jsx("div",{className:"mt-2",children:u.jsx("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded-lg text-[9px] font-black uppercase tracking-widest",children:ee.section})})]}),u.jsx("td",{className:"px-8 py-8 text-right",children:u.jsxs("button",{onClick:()=>re(ee),className:`group px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 ml-auto transition-all ${ee.role===_e.ADMIN?"bg-rose-100 text-rose-600":ee.role===_e.TEACHER?"bg-indigo-100 text-indigo-600":ee.role===_e.FACULTY?"bg-school-navy text-white":ee.role===_e.PENDING?"bg-amber-100 text-amber-600 border border-amber-200":"bg-slate-100 text-slate-600"}`,children:[ee.role,u.jsx(_r,{size:12,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})}),u.jsx("td",{className:"px-8 py-8 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>v(ee),className:"p-3 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-2xl transition-all",title:"Reset Password",children:u.jsx($u,{size:20})}),u.jsx("button",{onClick:()=>B(ee.id),className:"p-3 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-2xl transition-all",children:u.jsx(mi,{size:20})})]})})]},ee.id))})]})}),T&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95",children:[u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter mb-2",children:"Modify Access"}),u.jsxs("p",{className:"text-xs font-bold text-slate-400 mb-8 uppercase tracking-widest",children:["User: ",T.name]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"System Role"}),u.jsx("select",{className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:w.role,onChange:ee=>A({...w,role:ee.target.value}),children:[_e.STUDENT,_e.TEACHER,_e.TRANSFEREE,_e.ADMIN].map(ee=>u.jsx("option",{value:ee,children:ee},ee))})]}),w.role===_e.TEACHER&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Assigned Sections"}),u.jsx("input",{type:"text",list:"section-suggestions",className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g. Narra, Sampaguita",value:Array.isArray(w.assignedSections)?w.assignedSections.join(", "):w.assignedSections||"",onChange:ee=>A({...w,assignedSections:ee.target.value.split(",").map(Q=>Q.trim())})}),u.jsx("p",{className:"text-[9px] text-slate-400 mt-2 ml-2",children:"Classes taught (comma separated)."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Advisory Section"}),u.jsx("input",{type:"text",list:"section-suggestions",className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g. Narra",value:w.advisorySection||"",onChange:ee=>A({...w,advisorySection:ee.target.value})}),u.jsx("p",{className:"text-[9px] text-slate-400 mt-2 ml-2",children:"Single section (Class Adviser)."})]})]}),w.role===_e.STUDENT&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Enrolled Section"}),u.jsx("input",{type:"text",list:"section-suggestions",className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g. Narra",value:w.section||"",onChange:ee=>A({...w,section:ee.target.value})})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{onClick:()=>_(null),className:"flex-1 py-4 text-xs font-black text-slate-400 uppercase tracking-widest bg-slate-100 dark:bg-slate-800 rounded-2xl",children:"Cancel"}),u.jsx("button",{onClick:fe,className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-xs shadow-lg",children:"Save Changes"})]})]})]})}),b&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-lg:max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:u.jsx(jh,{size:24})}),u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Register Profile"})]}),u.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{})})]}),te&&u.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 rounded-2xl flex items-center gap-3 text-xs font-bold",children:[u.jsx(rr,{size:18})," ",te]}),u.jsxs("form",{onSubmit:U,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Full Name"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"Enter user's full name",value:L.name,onChange:ee=>V({...L,name:ee.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Email Address"}),u.jsx("input",{type:"email",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"name@snes.edu.ph",value:L.email,onChange:ee=>V({...L,email:ee.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Initial Role"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:L.role,onChange:ee=>V({...L,role:ee.target.value}),children:[u.jsx("option",{value:_e.STUDENT,children:"Student"}),u.jsx("option",{value:_e.TEACHER,children:"Teacher"}),u.jsx("option",{value:_e.ADMIN,children:"Admin"})]})]}),u.jsxs("div",{className:"pt-4 flex gap-4",children:[u.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-xl shadow-indigo-100 dark:shadow-none",children:"Create User"})]})]})]})}),m&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Secure Reset"}),u.jsx("button",{onClick:()=>v(null),children:u.jsx(Ut,{})})]}),u.jsxs("p",{className:"text-xs font-bold text-slate-500 mb-8 uppercase tracking-widest",children:["Updating access for: ",u.jsx("span",{className:"text-indigo-600 font-black",children:m.name})]}),u.jsx("input",{type:"text",placeholder:"Enter new system password...",className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600 mb-6",value:R,onChange:ee=>k(ee.target.value)}),u.jsx("button",{onClick:J,className:"w-full py-4 bg-slate-900 text-white font-black rounded-2xl uppercase tracking-widest text-xs shadow-xl",children:"Confirm Override"})]})})]})},$D=({user:t})=>{let e=[];try{t.assignedSections&&(e=typeof t.assignedSections=="string"?JSON.parse(t.assignedSections):t.assignedSections)}catch(me){console.error("Failed to parse assigned sections",me)}const[n,r]=I.useState("assignments"),[i,l]=I.useState([]),[o,d]=I.useState([]),[p,f]=I.useState(!0),[m,v]=I.useState(!1),[b,E]=I.useState(!1),[T,_]=I.useState(!1),[w,A]=I.useState(null),[R,k]=I.useState("All"),[L,V]=I.useState({title:"",subject:"",dueDate:"",section:"All",resourceLink:""}),[te,P]=I.useState(null),[M,B]=I.useState(""),[J,U]=I.useState(""),re=async()=>{f(!0);try{const[me,q]=await Promise.all([Ne.getAssignments(R==="All"?"":R),Ne.getSubmissions()]);l(me),d(q)}catch(me){console.error("Failed to load data:",me)}f(!1)};I.useEffect(()=>{re()},[R]);const fe=()=>{V({title:"",subject:"",dueDate:"",section:"All",resourceLink:""}),A(null)},De=async()=>{if(!L.title||!L.dueDate){alert("Please fill in required fields.");return}try{await Ne.createAssignment({...L,status:"active",subject:L.subject+(L.resourceLink?`

Resource: ${L.resourceLink}`:"")}),v(!1),fe(),re()}catch(me){console.error("Failed to create assignment:",me),alert("Failed to create assignment.")}},ee=me=>{const q=me.subject.split(`

Resource: `),F=q[0],K=q.length>1?q[1]:"";A(me),V({title:me.title,subject:F,dueDate:me.dueDate,section:me.section||"All",resourceLink:K}),E(!0)},Q=async()=>{if(w)try{await Ne.updateAssignment(w.id,{...L,subject:L.subject+(L.resourceLink?`

Resource: ${L.resourceLink}`:"")}),E(!1),fe(),re()}catch(me){console.error("Failed to update assignment:",me),alert("Failed to update assignment.")}},ye=async me=>{if(confirm("Are you sure you want to delete this assignment? Submissions might be affected."))try{await Ne.deleteAssignment(me),re()}catch(q){console.error("Failed to delete assignment:",q),alert("Failed to delete assignment.")}},de=me=>{A(me),_(!0)},ke=async()=>{if(te)try{await Ne.gradeSubmission(te.id,{grade:parseInt(M),feedback:J,status:"graded"}),P(null),B(""),U(""),re()}catch(me){console.error("Failed to grade submission:",me),alert("Failed to grade submission.")}};return p&&i.length===0&&o.length===0?u.jsx("div",{className:"flex justify-center p-20",children:u.jsx(st,{className:"animate-spin"})}):u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Academic Tasks"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Manage assignments and review student submissions."})]}),u.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1.5 rounded-[2rem]",children:[u.jsx("button",{onClick:()=>r("assignments"),className:`px-8 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${n==="assignments"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-400"}`,children:"Assignments"}),u.jsx("button",{onClick:()=>r("submissions"),className:`px-8 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${n==="submissions"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-400"}`,children:"Review Work"})]})]}),n==="assignments"&&u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 bg-indigo-50 dark:bg-indigo-900/20 p-8 rounded-[2.5rem]",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-4 bg-white dark:bg-slate-800 text-indigo-600 rounded-2xl shadow-sm",children:u.jsx(Pr,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-black text-slate-900 dark:text-white",children:"Create New Task"}),u.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Assign work to your sections"})]})]}),u.jsxs("div",{className:"flex gap-4 items-center w-full md:w-auto",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("select",{className:"appearance-none bg-white dark:bg-slate-800 border-none rounded-2xl py-4 pl-6 pr-10 text-xs font-black uppercase tracking-widest outline-none shadow-sm cursor-pointer hover:bg-slate-50",value:R,onChange:me=>k(me.target.value),children:[u.jsx("option",{value:"All",children:"All Sections"}),e.map(me=>u.jsx("option",{value:me,children:me},me))]}),u.jsx(Sb,{size:14,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),u.jsxs("button",{onClick:()=>{fe(),v(!0)},className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:scale-105 transition-transform flex items-center gap-2",children:[u.jsx(Co,{size:16})," Create"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.length>0?i.map(me=>u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[2.5rem] p-8 shadow-sm group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("span",{className:"px-4 py-1.5 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded-xl text-[10px] font-black uppercase tracking-widest",children:me.section||"All"}),u.jsxs("span",{className:"text-[10px] font-black text-rose-500 uppercase tracking-widest",children:["Due: ",me.dueDate]})]}),u.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white mb-2",children:me.title}),u.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 mb-6 min-h-[2.5rem]",children:me.subject}),u.jsxs("div",{className:"pt-6 border-t border-slate-50 dark:border-slate-800 flex justify-between items-center",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>ee(me),className:"p-2 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-all",title:"Edit Task",children:u.jsx(Ph,{size:16})}),u.jsx("button",{onClick:()=>ye(me.id),className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",title:"Delete Task",children:u.jsx(mi,{size:16})})]}),u.jsxs("button",{onClick:()=>de(me),className:"text-xs font-black text-indigo-600 uppercase tracking-widest hover:underline flex items-center gap-2",children:[u.jsx(bb,{size:14})," View Details"]})]})]},me.id)):u.jsxs("div",{className:"col-span-full p-20 text-center flex flex-col items-center opacity-50",children:[u.jsx(Pr,{size:48,className:"text-slate-300 mb-4",strokeWidth:1}),u.jsxs("p",{className:"text-slate-400 font-black uppercase tracking-widest text-xs",children:["No assignments found for ",R]})]})})]}),n==="submissions"&&u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.length>0?o.map(me=>u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-8 shadow-sm hover:shadow-2xl transition-all relative overflow-hidden",children:[me.status==="graded"&&u.jsx("div",{className:"absolute top-0 right-0 p-6",children:u.jsx(ba,{className:"text-emerald-500"})}),u.jsx("div",{className:"w-14 h-14 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-2xl flex items-center justify-center mb-6",children:u.jsx(Pr,{size:28})}),u.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-slate-100 mb-1",children:me.studentName}),u.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-6",children:["Received: ",me.submittedAt]}),u.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl mb-8",children:u.jsx("p",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 truncate",children:me.fileName})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("a",{href:me.fileData,download:me.fileName,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-slate-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest",children:[u.jsx(zo,{size:14})," Download"]}),u.jsx("button",{onClick:()=>{var q;P(me),B(((q=me.grade)==null?void 0:q.toString())||""),U(me.feedback||"")},className:"px-4 py-3 bg-indigo-500 text-white rounded-xl hover:bg-indigo-600 transition-colors",children:u.jsx(Ph,{size:18})})]})]},me.id)):u.jsx("div",{className:"col-span-full p-20 text-center text-slate-400 font-black uppercase tracking-widest text-xs",children:"No submissions to review yet."})}),(m||b)&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:b?"Edit Assignment":"New Assignment"}),u.jsx("button",{onClick:()=>{v(!1),E(!1),fe()},className:"p-2 hover:bg-slate-100 rounded-full",children:u.jsx(Ut,{})})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Task Title"}),u.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm",placeholder:"e.g. Science Experiment 1",value:L.title,onChange:me=>V({...L,title:me.target.value})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Target Section"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-xs",value:L.section,onChange:me=>V({...L,section:me.target.value}),children:[u.jsx("option",{value:"All",children:"All Sections"}),e.map(me=>u.jsx("option",{value:me,children:me},me))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Due Date"}),u.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-xs",value:L.dueDate,onChange:me=>V({...L,dueDate:me.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Instructions"}),u.jsx("textarea",{rows:3,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-medium text-sm resize-none",placeholder:"Describe what needs to be done...",value:L.subject,onChange:me=>V({...L,subject:me.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Resource Link (Google Drive/Docs)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Yu,{size:16,className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"text",className:"w-full pl-12 pr-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm text-indigo-600",placeholder:"https://...",value:L.resourceLink,onChange:me=>V({...L,resourceLink:me.target.value})})]})]}),u.jsx("button",{onClick:b?Q:De,className:"w-full py-5 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-xs shadow-xl mt-4",children:b?"Save Changes":"Post Assignment"})]})]})}),T&&w&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"text-[10px] font-black text-rose-500 uppercase tracking-widest",children:["Due: ",w.dueDate]}),u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter text-slate-900 dark:text-white mt-1",children:w.title}),u.jsxs("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded-lg text-[10px] font-black uppercase tracking-widest mt-2 inline-block",children:["Section: ",w.section]})]}),u.jsx("button",{onClick:()=>{_(!1),A(null)},className:"p-2 hover:bg-slate-100 rounded-full",children:u.jsx(Ut,{})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-3xl",children:u.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed whitespace-pre-wrap",children:w.subject})}),w.subject.includes("Resource:")&&u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-2xl",children:[u.jsx(Yu,{size:18}),u.jsx("a",{href:w.subject.split("Resource: ")[1],target:"_blank",rel:"noreferrer",className:"text-xs font-bold underline truncate",children:w.subject.split("Resource: ")[1]})]})]})]})}),te&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in slide-in-from-bottom-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Grading Panel"}),u.jsx("button",{onClick:()=>P(null),children:u.jsx(Ut,{})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Score (0-100)"}),u.jsx("input",{type:"number",className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-black text-lg",value:M,onChange:me=>B(me.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Feedback / Comments"}),u.jsx("textarea",{rows:4,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-medium text-sm resize-none",placeholder:"Provide constructive advice...",value:J,onChange:me=>U(me.target.value)})]}),u.jsx("button",{onClick:ke,className:"w-full py-5 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-xs shadow-xl",children:"Post Grade"})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var rd={};rd.version="0.18.5";var PS=1252,YD=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],jS=function(t){YD.indexOf(t)!=-1&&(PS=t)};function JD(){jS(1252)}var Ro=function(t){jS(t)};function XD(){Ro(1200),JD()}var wu=function(e){return String.fromCharCode(e)},d2=function(e){return String.fromCharCode(e)},ad,oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Mo(t){for(var e="",n=0,r=0,i=0,l=0,o=0,d=0,p=0,f=0;f<t.length;)n=t.charCodeAt(f++),l=n>>2,r=t.charCodeAt(f++),o=(n&3)<<4|r>>4,i=t.charCodeAt(f++),d=(r&15)<<2|i>>6,p=i&63,isNaN(r)?d=p=64:isNaN(i)&&(p=64),e+=oi.charAt(l)+oi.charAt(o)+oi.charAt(d)+oi.charAt(p);return e}function Ca(t){var e="",n=0,r=0,i=0,l=0,o=0,d=0,p=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)l=oi.indexOf(t.charAt(f++)),o=oi.indexOf(t.charAt(f++)),n=l<<2|o>>4,e+=String.fromCharCode(n),d=oi.indexOf(t.charAt(f++)),r=(o&15)<<4|d>>2,d!==64&&(e+=String.fromCharCode(r)),p=oi.indexOf(t.charAt(f++)),i=(d&3)<<6|p,p!==64&&(e+=String.fromCharCode(i));return e}var ht=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ia=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function $i(t){return ht?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function f2(t){return ht?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Fr=function(e){return ht?Ia(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Md(t){if(typeof ArrayBuffer>"u")return Fr(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function qo(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function WD(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var pn=ht?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ia(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(l){return Array.isArray(l)?l:[].slice.call(l)}))};function KD(t){for(var e=[],n=0,r=t.length+250,i=$i(t.length+255),l=0;l<t.length;++l){var o=t.charCodeAt(l);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var d=t.charCodeAt(++l)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|d>>6&15|(o&3)<<4,i[n++]=128|d&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=$i(65535),r=65530)}return e.push(i.slice(0,n)),pn(e)}var _o=/\u0000/g,Nu=/[\u0001-\u0006]/g;function rl(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Lr(t,e){var n=""+t;return n.length>=e?n:Ht("0",e-n.length)+n}function Fp(t,e){var n=""+t;return n.length>=e?n:Ht(" ",e-n.length)+n}function id(t,e){var n=""+t;return n.length>=e?n:n+Ht(" ",e-n.length)}function QD(t,e){var n=""+Math.round(t);return n.length>=e?n:Ht("0",e-n.length)+n}function ZD(t,e){var n=""+t;return n.length>=e?n:Ht("0",e-n.length)+n}var h2=Math.pow(2,32);function qs(t,e){if(t>h2||t<-h2)return QD(t,e);var n=Math.round(t);return ZD(n,e)}function sd(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var p2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Eh=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function eI(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Gt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},m2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},tI={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ld(t,e,n){for(var r=t<0?-1:1,i=t*r,l=0,o=1,d=0,p=1,f=0,m=0,v=Math.floor(i);f<e&&(v=Math.floor(i),d=v*o+l,m=v*f+p,!(i-v<5e-8));)i=1/(i-v),l=o,o=d,p=f,f=m;if(m>e&&(f>e?(m=p,d=l):(m=f,d=o)),!n)return[0,r*d,m];var b=Math.floor(r*d/m);return[b,r*d-b*m,m]}function Au(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),l=0,o=[],d={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),e&&e.date1904&&(r+=1462),d.u>.9999&&(d.u=0,++i==86400&&(d.T=i=0,++r,++d.D)),r===60)o=n?[1317,10,29]:[1900,2,29],l=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],l=6;else{r>60&&--r;var p=new Date(1900,0,1);p.setDate(p.getDate()+r-1),o=[p.getFullYear(),p.getMonth()+1,p.getDate()],l=p.getDay(),r<60&&(l=(l+6)%7),n&&(l=oI(p,o))}return d.y=o[0],d.m=o[1],d.d=o[2],d.S=i%60,i=Math.floor(i/60),d.M=i%60,i=Math.floor(i/60),d.H=i,d.q=l,d}var OS=new Date(1899,11,31,0,0,0),nI=OS.getTime(),rI=new Date(1900,2,1,0,0,0);function US(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=rI&&(n+=1440*60*1e3),(n-(nI+(t.getTimezoneOffset()-OS.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Lp(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function aI(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function iI(t){var e=t<0?12:11,n=Lp(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function sI(t){var e=Lp(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function lI(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=iI(t):e===10?n=t.toFixed(10).substr(0,12):n=sI(t),Lp(aI(n.toUpperCase()))}function tp(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):lI(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return fi(14,US(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function oI(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function cI(t,e,n,r){var i="",l=0,o=0,d=n.y,p,f=0;switch(t){case 98:d=n.y+543;case 121:switch(e.length){case 1:case 2:p=d%100,f=2;break;default:p=d%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:p=n.m,f=e.length;break;case 3:return Eh[n.m-1][1];case 5:return Eh[n.m-1][0];default:return Eh[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:p=n.d,f=e.length;break;case 3:return p2[n.q][0];default:return p2[n.q][1]}break;case 104:switch(e.length){case 1:case 2:p=1+(n.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:p=n.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:p=n.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Lr(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,l=Math.round(o*(n.S+n.u)),l>=60*o&&(l=0),e==="s"?l===0?"0":""+l/o:(i=Lr(l,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":p=n.D*24+n.H;break;case"[m]":case"[mm]":p=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":p=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:p=d,f=1;break}var m=f>0?Lr(p,f):"";return m}function ci(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var BS=/%/g;function uI(t,e,n){var r=e.replace(BS,""),i=e.length-r.length;return _a(t,r,n*Math.pow(10,2*i))+Ht("%",i)}function dI(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return _a(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function zS(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+zS(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var l=Math.floor(Math.log(e)*Math.LOG10E)%i;if(l<0&&(l+=i),n=(e/Math.pow(10,l)).toPrecision(r+1+(i+l)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+l):n+="E+"+(o-l);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,p,f,m){return p+f+m.substr(0,(i+l)%i)+"."+m.substr(l)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var HS=/# (\?+)( ?)\/( ?)(\d+)/;function fI(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),l=Math.floor(i/r),o=i-l*r,d=r;return n+(l===0?"":""+l)+" "+(o===0?Ht(" ",t[1].length+1+t[4].length):Fp(o,t[1].length)+t[2]+"/"+t[3]+Lr(d,t[4].length))}function hI(t,e,n){return n+(e===0?"":""+e)+Ht(" ",t[1].length+2+t[4].length)}var GS=/^#*0*\.([0#]+)/,VS=/\).*[0#]/,qS=/\(###\) ###\\?-####/;function An(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function g2(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function x2(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function pI(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function mI(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function yr(t,e,n){if(t.charCodeAt(0)===40&&!e.match(VS)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?yr("n",r,n):"("+yr("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return dI(t,e,n);if(e.indexOf("%")!==-1)return uI(t,e,n);if(e.indexOf("E")!==-1)return zS(e,n);if(e.charCodeAt(0)===36)return"$"+yr(t,e.substr(e.charAt(1)==" "?2:1),n);var i,l,o,d,p=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+qs(p,e.length);if(e.match(/^[#?]+$/))return i=qs(n,0),i==="0"&&(i=""),i.length>e.length?i:An(e.substr(0,e.length-i.length))+i;if(l=e.match(HS))return fI(l,p,f);if(e.match(/^#+0+$/))return f+qs(p,e.length-e.indexOf("0"));if(l=e.match(GS))return i=g2(n,l[1].length).replace(/^([^\.]+)$/,"$1."+An(l[1])).replace(/\.$/,"."+An(l[1])).replace(/\.(\d*)$/,function(T,_){return"."+_+Ht("0",An(l[1]).length-_.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),l=e.match(/^(0*)\.(#*)$/))return f+g2(p,l[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=e.match(/^#{1,3},##0(\.?)$/))return f+ci(qs(p,0));if(l=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+yr(t,e,-n):ci(""+(Math.floor(n)+pI(n,l[1].length)))+"."+Lr(x2(n,l[1].length),l[1].length);if(l=e.match(/^#,#*,#0/))return yr(t,e.replace(/^#,#*,/,""),n);if(l=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=rl(yr(t,e.replace(/[\\-]/g,""),n)),o=0,rl(rl(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return o<i.length?i.charAt(o++):T==="0"?"0":""}));if(e.match(qS))return i=yr(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(l=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(l[4].length,7),d=ld(p,Math.pow(10,o)-1,!1),i=""+f,m=_a("n",l[1],d[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+l[2]+"/"+l[3],m=id(d[2],o),m.length<l[4].length&&(m=An(l[4].substr(l[4].length-m.length))+m),i+=m,i;if(l=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(l[1].length,l[4].length),7),d=ld(p,Math.pow(10,o)-1,!0),f+(d[0]||(d[1]?"":"0"))+" "+(d[1]?Fp(d[1],o)+l[2]+"/"+l[3]+id(d[2],o):Ht(" ",2*o+1+l[2].length+l[3].length));if(l=e.match(/^[#0?]+$/))return i=qs(n,0),e.length<=i.length?i:An(e.substr(0,e.length-i.length))+i;if(l=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var v=e.indexOf(".")-o,b=e.length-i.length-v;return An(e.substr(0,v)+i+e.substr(e.length-b))}if(l=e.match(/^00,000\.([#0]*0)$/))return o=x2(n,l[1].length),n<0?"-"+yr(t,e,-n):ci(mI(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Lr(0,3-T.length):"")+T})+"."+Lr(o,l[1].length);switch(e){case"###,##0.00":return yr(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var E=ci(qs(p,0));return E!=="0"?f+E:"";case"###,###.00":return yr(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return yr(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function gI(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return _a(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function xI(t,e,n){var r=e.replace(BS,""),i=e.length-r.length;return _a(t,r,n*Math.pow(10,2*i))+Ht("%",i)}function $S(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+$S(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var l=Math.floor(Math.log(e)*Math.LOG10E)%i;if(l<0&&(l+=i),n=(e/Math.pow(10,l)).toPrecision(r+1+(i+l)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+l):n+="E+"+(o-l),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,p,f,m){return p+f+m.substr(0,(i+l)%i)+"."+m.substr(l)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Xr(t,e,n){if(t.charCodeAt(0)===40&&!e.match(VS)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Xr("n",r,n):"("+Xr("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return gI(t,e,n);if(e.indexOf("%")!==-1)return xI(t,e,n);if(e.indexOf("E")!==-1)return $S(e,n);if(e.charCodeAt(0)===36)return"$"+Xr(t,e.substr(e.charAt(1)==" "?2:1),n);var i,l,o,d,p=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+Lr(p,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:An(e.substr(0,e.length-i.length))+i;if(l=e.match(HS))return hI(l,p,f);if(e.match(/^#+0+$/))return f+Lr(p,e.length-e.indexOf("0"));if(l=e.match(GS))return i=(""+n).replace(/^([^\.]+)$/,"$1."+An(l[1])).replace(/\.$/,"."+An(l[1])),i=i.replace(/\.(\d*)$/,function(T,_){return"."+_+Ht("0",An(l[1]).length-_.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),l=e.match(/^(0*)\.(#*)$/))return f+(""+p).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=e.match(/^#{1,3},##0(\.?)$/))return f+ci(""+p);if(l=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Xr(t,e,-n):ci(""+n)+"."+Ht("0",l[1].length);if(l=e.match(/^#,#*,#0/))return Xr(t,e.replace(/^#,#*,/,""),n);if(l=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=rl(Xr(t,e.replace(/[\\-]/g,""),n)),o=0,rl(rl(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return o<i.length?i.charAt(o++):T==="0"?"0":""}));if(e.match(qS))return i=Xr(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(l=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(l[4].length,7),d=ld(p,Math.pow(10,o)-1,!1),i=""+f,m=_a("n",l[1],d[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+l[2]+"/"+l[3],m=id(d[2],o),m.length<l[4].length&&(m=An(l[4].substr(l[4].length-m.length))+m),i+=m,i;if(l=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(l[1].length,l[4].length),7),d=ld(p,Math.pow(10,o)-1,!0),f+(d[0]||(d[1]?"":"0"))+" "+(d[1]?Fp(d[1],o)+l[2]+"/"+l[3]+id(d[2],o):Ht(" ",2*o+1+l[2].length+l[3].length));if(l=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:An(e.substr(0,e.length-i.length))+i;if(l=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var v=e.indexOf(".")-o,b=e.length-i.length-v;return An(e.substr(0,v)+i+e.substr(e.length-b))}if(l=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Xr(t,e,-n):ci(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Lr(0,3-T.length):"")+T})+"."+Lr(0,l[1].length);switch(e){case"###,###":case"##,###":case"#,###":var E=ci(""+p);return E!=="0"?f+E:"";default:if(e.match(/\.[0#?]*$/))return Xr(t,e.slice(0,e.lastIndexOf(".")),n)+An(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function _a(t,e,n){return(n|0)===n?Xr(t,e,n):yr(t,e,n)}function vI(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var YS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function JS(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":sd(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(YS))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function yI(t,e,n,r){for(var i=[],l="",o=0,d="",p="t",f,m,v,b="H";o<t.length;)switch(d=t.charAt(o)){case"G":if(!sd(t,o))throw new Error("unrecognized character "+d+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(l="";(v=t.charCodeAt(++o))!==34&&o<t.length;)l+=String.fromCharCode(v);i[i.length]={t:"t",v:l},++o;break;case"\\":var E=t.charAt(++o),T=E==="("||E===")"?E:"t";i[i.length]={t:T,v:E},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(f==null&&(f=Au(e,n,t.charAt(o+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},p=d,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=Au(e,n),f==null))return"";for(l=d;++o<t.length&&t.charAt(o).toLowerCase()===d;)l+=d;d==="m"&&p.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=b),i[i.length]={t:d,v:l},p=d;break;case"A":case"a":case"":var _={t:d,v:d};if(f==null&&(f=Au(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(_.v=f.H>=12?"P":"A"),_.t="T",b="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(_.v=f.H>=12?"PM":"AM"),_.t="T",o+=5,b="h"):t.substr(o,5).toUpperCase()==="/"?(f!=null&&(_.v=f.H>=12?"":""),_.t="T",o+=5,b="h"):(_.t="t",++o),f==null&&_.t==="T")return"";i[i.length]=_,p=d;break;case"[":for(l=d;t.charAt(o++)!=="]"&&o<t.length;)l+=t.charAt(o);if(l.slice(-1)!=="]")throw'unterminated "[" block: |'+l+"|";if(l.match(YS)){if(f==null&&(f=Au(e,n),f==null))return"";i[i.length]={t:"Z",v:l.toLowerCase()},p=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",JS(t)||(i[i.length]={t:"t",v:l}));break;case".":if(f!=null){for(l=d;++o<t.length&&(d=t.charAt(o))==="0";)l+=d;i[i.length]={t:"s",v:l};break}case"0":case"#":for(l=d;++o<t.length&&"0#?.,E+-%".indexOf(d=t.charAt(o))>-1;)l+=d;i[i.length]={t:"n",v:l};break;case"?":for(l=d;t.charAt(++o)===d;)l+=d;i[i.length]={t:d,v:l},p=d;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":d,v:d},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=d;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)l+=t.charAt(o);i[i.length]={t:"D",v:l};break;case" ":i[i.length]={t:d,v:d},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+t);i[i.length]={t:"t",v:d},++o;break}var w=0,A=0,R;for(o=i.length-1,p="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=b,p="h",w<1&&(w=1);break;case"s":(R=i[o].v.match(/\.0+$/))&&(A=Math.max(A,R[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":p=i[o].t;break;case"m":p==="s"&&(i[o].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[o].v.match(/[Hh]/)&&(w=1),w<2&&i[o].v.match(/[Mm]/)&&(w=2),w<3&&i[o].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var k="",L;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=cI(i[o].t.charCodeAt(0),i[o].v,f,A),i[o].t="t";break;case"n":case"?":for(L=o+1;i[L]!=null&&((d=i[L].t)==="?"||d==="D"||(d===" "||d==="t")&&i[L+1]!=null&&(i[L+1].t==="?"||i[L+1].t==="t"&&i[L+1].v==="/")||i[o].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(i[L].v==="/"||i[L].v===" "&&i[L+1]!=null&&i[L+1].t=="?"));)i[o].v+=i[L].v,i[L]={v:"",t:";"},++L;k+=i[o].v,o=L-1;break;case"G":i[o].t="t",i[o].v=tp(e,n);break}var V="",te,P;if(k.length>0){k.charCodeAt(0)==40?(te=e<0&&k.charCodeAt(0)===45?-e:e,P=_a("n",k,te)):(te=e<0&&r>1?-e:e,P=_a("n",k,te),te<0&&i[0]&&i[0].t=="t"&&(P=P.substr(1),i[0].v="-"+i[0].v)),L=P.length-1;var M=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){M=o;break}var B=i.length;if(M===i.length&&P.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(L>=i[o].v.length-1?(L-=i[o].v.length,i[o].v=P.substr(L+1,i[o].v.length)):L<0?i[o].v="":(i[o].v=P.substr(0,L+1),L=-1),i[o].t="t",B=o);L>=0&&B<i.length&&(i[B].v=P.substr(0,L+1)+i[B].v)}else if(M!==i.length&&P.indexOf("E")===-1){for(L=P.indexOf(".")-1,o=M;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(m=i[o].v.indexOf(".")>-1&&o===M?i[o].v.indexOf(".")-1:i[o].v.length-1,V=i[o].v.substr(m+1);m>=0;--m)L>=0&&(i[o].v.charAt(m)==="0"||i[o].v.charAt(m)==="#")&&(V=P.charAt(L--)+V);i[o].v=V,i[o].t="t",B=o}for(L>=0&&B<i.length&&(i[B].v=P.substr(0,L+1)+i[B].v),L=P.indexOf(".")+1,o=M;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==M)){for(m=i[o].v.indexOf(".")>-1&&o===M?i[o].v.indexOf(".")+1:0,V=i[o].v.substr(0,m);m<i[o].v.length;++m)L<P.length&&(V+=P.charAt(L++));i[o].v=V,i[o].t="t",B=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(te=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=_a(i[o].t,i[o].v,te),i[o].t="t");var J="";for(o=0;o!==i.length;++o)i[o]!=null&&(J+=i[o].v);return J}var v2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function y2(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function bI(t,e){var n=vI(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var l=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,l];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(v2),d=n[1].match(v2);return y2(e,o)?[r,n[0]]:y2(e,d)?[r,n[1]]:[r,n[o!=null&&d!=null?2:1]]}return[r,l]}function fi(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Gt)[t],r==null&&(r=n.table&&n.table[m2[t]]||Gt[m2[t]]),r==null&&(r=tI[t]||"General");break}if(sd(r,0))return tp(e,n);e instanceof Date&&(e=US(e,n.date1904));var i=bI(r,e);if(sd(i[1]))return tp(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return yI(i[1],e,n,i[0])}function XS(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Gt[n]==null){e<0&&(e=n);continue}if(Gt[n]==t){e=n;break}}e<0&&(e=391)}return Gt[e]=t,e}function Dd(t){for(var e=0;e!=392;++e)t[e]!==void 0&&XS(t[e],e)}function Id(){Gt=eI()}var WS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function SI(t){var e=typeof t=="number"?Gt[t]:t;return e=e.replace(WS,"(\\d+)"),new RegExp("^"+e+"$")}function EI(t,e,n){var r=-1,i=-1,l=-1,o=-1,d=-1,p=-1;(e.match(WS)||[]).forEach(function(v,b){var E=parseInt(n[b+1],10);switch(v.toLowerCase().charAt(0)){case"y":r=E;break;case"d":l=E;break;case"h":o=E;break;case"s":p=E;break;case"m":o>=0?d=E:i=E;break}}),p>=0&&d==-1&&i>=0&&(d=i,i=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(l>=1?l:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var m=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(p>=0?p:0)).slice(-2);return o==-1&&d==-1&&p==-1?f:r==-1&&i==-1&&l==-1?m:f+"T"+m}var _I=(function(){var t={};t.version="1.2.0";function e(){for(var P=0,M=new Array(256),B=0;B!=256;++B)P=B,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,M[B]=P;return typeof Int32Array<"u"?new Int32Array(M):M}var n=e();function r(P){var M=0,B=0,J=0,U=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(J=0;J!=256;++J)U[J]=P[J];for(J=0;J!=256;++J)for(B=P[J],M=256+J;M<4096;M+=256)B=U[M]=B>>>8^P[B&255];var re=[];for(J=1;J!=16;++J)re[J-1]=typeof Int32Array<"u"?U.subarray(J*256,J*256+256):U.slice(J*256,J*256+256);return re}var i=r(n),l=i[0],o=i[1],d=i[2],p=i[3],f=i[4],m=i[5],v=i[6],b=i[7],E=i[8],T=i[9],_=i[10],w=i[11],A=i[12],R=i[13],k=i[14];function L(P,M){for(var B=M^-1,J=0,U=P.length;J<U;)B=B>>>8^n[(B^P.charCodeAt(J++))&255];return~B}function V(P,M){for(var B=M^-1,J=P.length-15,U=0;U<J;)B=k[P[U++]^B&255]^R[P[U++]^B>>8&255]^A[P[U++]^B>>16&255]^w[P[U++]^B>>>24]^_[P[U++]]^T[P[U++]]^E[P[U++]]^b[P[U++]]^v[P[U++]]^m[P[U++]]^f[P[U++]]^p[P[U++]]^d[P[U++]]^o[P[U++]]^l[P[U++]]^n[P[U++]];for(J+=15;U<J;)B=B>>>8^n[(B^P[U++])&255];return~B}function te(P,M){for(var B=M^-1,J=0,U=P.length,re=0,fe=0;J<U;)re=P.charCodeAt(J++),re<128?B=B>>>8^n[(B^re)&255]:re<2048?(B=B>>>8^n[(B^(192|re>>6&31))&255],B=B>>>8^n[(B^(128|re&63))&255]):re>=55296&&re<57344?(re=(re&1023)+64,fe=P.charCodeAt(J++)&1023,B=B>>>8^n[(B^(240|re>>8&7))&255],B=B>>>8^n[(B^(128|re>>2&63))&255],B=B>>>8^n[(B^(128|fe>>6&15|(re&3)<<4))&255],B=B>>>8^n[(B^(128|fe&63))&255]):(B=B>>>8^n[(B^(224|re>>12&15))&255],B=B>>>8^n[(B^(128|re>>6&63))&255],B=B>>>8^n[(B^(128|re&63))&255]);return~B}return t.table=n,t.bstr=L,t.buf=V,t.str=te,t})(),Nt=(function(){var e={};e.version="1.2.1";function n(C,H){for(var j=C.split("/"),O=H.split("/"),z=0,G=0,se=Math.min(j.length,O.length);z<se;++z){if(G=j[z].length-O[z].length)return G;if(j[z]!=O[z])return j[z]<O[z]?-1:1}return j.length-O.length}function r(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:r(C.slice(0,-1));var H=C.lastIndexOf("/");return H===-1?C:C.slice(0,H+1)}function i(C){if(C.charAt(C.length-1)=="/")return i(C.slice(0,-1));var H=C.lastIndexOf("/");return H===-1?C:C.slice(H+1)}function l(C,H){typeof H=="string"&&(H=new Date(H));var j=H.getHours();j=j<<6|H.getMinutes(),j=j<<5|H.getSeconds()>>>1,C.write_shift(2,j);var O=H.getFullYear()-1980;O=O<<4|H.getMonth()+1,O=O<<5|H.getDate(),C.write_shift(2,O)}function o(C){var H=C.read_shift(2)&65535,j=C.read_shift(2)&65535,O=new Date,z=j&31;j>>>=5;var G=j&15;j>>>=4,O.setMilliseconds(0),O.setFullYear(j+1980),O.setMonth(G-1),O.setDate(z);var se=H&31;H>>>=5;var ve=H&63;return H>>>=6,O.setHours(H),O.setMinutes(ve),O.setSeconds(se<<1),O}function d(C){er(C,0);for(var H={},j=0;C.l<=C.length-4;){var O=C.read_shift(2),z=C.read_shift(2),G=C.l+z,se={};switch(O){case 21589:j=C.read_shift(1),j&1&&(se.mtime=C.read_shift(4)),z>5&&(j&2&&(se.atime=C.read_shift(4)),j&4&&(se.ctime=C.read_shift(4))),se.mtime&&(se.mt=new Date(se.mtime*1e3));break}C.l=G,H[O]=se}return H}var p;function f(){return p||(p={})}function m(C,H){if(C[0]==80&&C[1]==75)return vi(C,H);if((C[0]|32)==109&&(C[1]|32)==105)return bi(C,H);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var j=3,O=512,z=0,G=0,se=0,ve=0,le=0,oe=[],ue=C.slice(0,512);er(ue,0);var Te=v(ue);switch(j=Te[0],j){case 3:O=512;break;case 4:O=4096;break;case 0:if(Te[1]==0)return vi(C,H);default:throw new Error("Major Version: Expected 3 or 4 saw "+j)}O!==512&&(ue=C.slice(0,O),er(ue,28));var Ce=C.slice(0,O);b(ue,j);var Ue=ue.read_shift(4,"i");if(j===3&&Ue!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ue);ue.l+=4,se=ue.read_shift(4,"i"),ue.l+=4,ue.chk("00100000","Mini Stream Cutoff Size: "),ve=ue.read_shift(4,"i"),z=ue.read_shift(4,"i"),le=ue.read_shift(4,"i"),G=ue.read_shift(4,"i");for(var we=-1,Oe=0;Oe<109&&(we=ue.read_shift(4,"i"),!(we<0));++Oe)oe[Oe]=we;var Ve=E(C,O);w(le,G,Ve,O,oe);var Rt=R(Ve,se,oe,O);Rt[se].name="!Directory",z>0&&ve!==fe&&(Rt[ve].name="!MiniFAT"),Rt[oe[0]].name="!FAT",Rt.fat_addrs=oe,Rt.ssz=O;var Mt={},Pt=[],or=[],Si=[];k(se,Rt,Ve,Pt,z,Mt,or,ve),T(or,Si,Pt),Pt.shift();var La={FileIndex:or,FullPaths:Si};return H&&H.raw&&(La.raw={header:Ce,sectors:Ve}),La}function v(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk(De,"Header Signature: "),C.l+=16;var H=C.read_shift(2,"u");return[C.read_shift(2,"u"),H]}function b(C,H){var j=9;switch(C.l+=2,j=C.read_shift(2)){case 9:if(H!=3)throw new Error("Sector Shift: Expected 9 saw "+j);break;case 12:if(H!=4)throw new Error("Sector Shift: Expected 12 saw "+j);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+j)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function E(C,H){for(var j=Math.ceil(C.length/H)-1,O=[],z=1;z<j;++z)O[z-1]=C.slice(z*H,(z+1)*H);return O[j-1]=C.slice(j*H),O}function T(C,H,j){for(var O=0,z=0,G=0,se=0,ve=0,le=j.length,oe=[],ue=[];O<le;++O)oe[O]=ue[O]=O,H[O]=j[O];for(;ve<ue.length;++ve)O=ue[ve],z=C[O].L,G=C[O].R,se=C[O].C,oe[O]===O&&(z!==-1&&oe[z]!==z&&(oe[O]=oe[z]),G!==-1&&oe[G]!==G&&(oe[O]=oe[G])),se!==-1&&(oe[se]=O),z!==-1&&O!=oe[O]&&(oe[z]=oe[O],ue.lastIndexOf(z)<ve&&ue.push(z)),G!==-1&&O!=oe[O]&&(oe[G]=oe[O],ue.lastIndexOf(G)<ve&&ue.push(G));for(O=1;O<le;++O)oe[O]===O&&(G!==-1&&oe[G]!==G?oe[O]=oe[G]:z!==-1&&oe[z]!==z&&(oe[O]=oe[z]));for(O=1;O<le;++O)if(C[O].type!==0){if(ve=O,ve!=oe[ve])do ve=oe[ve],H[O]=H[ve]+"/"+H[O];while(ve!==0&&oe[ve]!==-1&&ve!=oe[ve]);oe[O]=-1}for(H[0]+="/",O=1;O<le;++O)C[O].type!==2&&(H[O]+="/")}function _(C,H,j){for(var O=C.start,z=C.size,G=[],se=O;j&&z>0&&se>=0;)G.push(H.slice(se*re,se*re+re)),z-=re,se=Ui(j,se*4);return G.length===0?ge(0):pn(G).slice(0,C.size)}function w(C,H,j,O,z){var G=fe;if(C===fe){if(H!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var se=j[C],ve=(O>>>2)-1;if(!se)return;for(var le=0;le<ve&&(G=Ui(se,le*4))!==fe;++le)z.push(G);w(Ui(se,O-4),H-1,j,O,z)}}function A(C,H,j,O,z){var G=[],se=[];z||(z=[]);var ve=O-1,le=0,oe=0;for(le=H;le>=0;){z[le]=!0,G[G.length]=le,se.push(C[le]);var ue=j[Math.floor(le*4/O)];if(oe=le*4&ve,O<4+oe)throw new Error("FAT boundary crossed: "+le+" 4 "+O);if(!C[ue])break;le=Ui(C[ue],oe)}return{nodes:G,data:A2([se])}}function R(C,H,j,O){var z=C.length,G=[],se=[],ve=[],le=[],oe=O-1,ue=0,Te=0,Ce=0,Ue=0;for(ue=0;ue<z;++ue)if(ve=[],Ce=ue+H,Ce>=z&&(Ce-=z),!se[Ce]){le=[];var we=[];for(Te=Ce;Te>=0;){we[Te]=!0,se[Te]=!0,ve[ve.length]=Te,le.push(C[Te]);var Oe=j[Math.floor(Te*4/O)];if(Ue=Te*4&oe,O<4+Ue)throw new Error("FAT boundary crossed: "+Te+" 4 "+O);if(!C[Oe]||(Te=Ui(C[Oe],Ue),we[Te]))break}G[Ce]={nodes:ve,data:A2([le])}}return G}function k(C,H,j,O,z,G,se,ve){for(var le=0,oe=O.length?2:0,ue=H[C].data,Te=0,Ce=0,Ue;Te<ue.length;Te+=128){var we=ue.slice(Te,Te+128);er(we,64),Ce=we.read_shift(2),Ue=Bp(we,0,Ce-oe),O.push(Ue);var Oe={name:Ue,type:we.read_shift(1),color:we.read_shift(1),L:we.read_shift(4,"i"),R:we.read_shift(4,"i"),C:we.read_shift(4,"i"),clsid:we.read_shift(16),state:we.read_shift(4,"i"),start:0,size:0},Ve=we.read_shift(2)+we.read_shift(2)+we.read_shift(2)+we.read_shift(2);Ve!==0&&(Oe.ct=L(we,we.l-8));var Rt=we.read_shift(2)+we.read_shift(2)+we.read_shift(2)+we.read_shift(2);Rt!==0&&(Oe.mt=L(we,we.l-8)),Oe.start=we.read_shift(4,"i"),Oe.size=we.read_shift(4,"i"),Oe.size<0&&Oe.start<0&&(Oe.size=Oe.type=0,Oe.start=fe,Oe.name=""),Oe.type===5?(le=Oe.start,z>0&&le!==fe&&(H[le].name="!StreamData")):Oe.size>=4096?(Oe.storage="fat",H[Oe.start]===void 0&&(H[Oe.start]=A(j,Oe.start,H.fat_addrs,H.ssz)),H[Oe.start].name=Oe.name,Oe.content=H[Oe.start].data.slice(0,Oe.size)):(Oe.storage="minifat",Oe.size<0?Oe.size=0:le!==fe&&Oe.start!==fe&&H[le]&&(Oe.content=_(Oe,H[le].data,(H[ve]||{}).data))),Oe.content&&er(Oe.content,0),G[Ue]=Oe,se.push(Oe)}}function L(C,H){return new Date((nr(C,H+4)/1e7*Math.pow(2,32)+nr(C,H)/1e7-11644473600)*1e3)}function V(C,H){return f(),m(p.readFileSync(C),H)}function te(C,H){var j=H&&H.type;switch(j||ht&&Buffer.isBuffer(C)&&(j="buffer"),j||"base64"){case"file":return V(C,H);case"base64":return m(Fr(Ca(C)),H);case"binary":return m(Fr(C),H)}return m(C,H)}function P(C,H){var j=H||{},O=j.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=O+"/",C.FileIndex[0]={name:O,type:5}),j.CLSID&&(C.FileIndex[0].clsid=j.CLSID),M(C)}function M(C){var H="Sh33tJ5";if(!Nt.find(C,"/"+H)){var j=ge(4);j[0]=55,j[1]=j[3]=50,j[2]=54,C.FileIndex.push({name:H,type:2,content:j,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+H),B(C)}}function B(C,H){P(C);for(var j=!1,O=!1,z=C.FullPaths.length-1;z>=0;--z){var G=C.FileIndex[z];switch(G.type){case 0:O?j=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:O=!0,isNaN(G.R*G.L*G.C)&&(j=!0),G.R>-1&&G.L>-1&&G.R==G.L&&(j=!0);break;default:j=!0;break}}if(!(!j&&!H)){var se=new Date(1987,1,19),ve=0,le=Object.create?Object.create(null):{},oe=[];for(z=0;z<C.FullPaths.length;++z)le[C.FullPaths[z]]=!0,C.FileIndex[z].type!==0&&oe.push([C.FullPaths[z],C.FileIndex[z]]);for(z=0;z<oe.length;++z){var ue=r(oe[z][0]);O=le[ue],O||(oe.push([ue,{name:i(ue).replace("/",""),type:1,clsid:Q,ct:se,mt:se,content:null}]),le[ue]=!0)}for(oe.sort(function(Ue,we){return n(Ue[0],we[0])}),C.FullPaths=[],C.FileIndex=[],z=0;z<oe.length;++z)C.FullPaths[z]=oe[z][0],C.FileIndex[z]=oe[z][1];for(z=0;z<oe.length;++z){var Te=C.FileIndex[z],Ce=C.FullPaths[z];if(Te.name=i(Ce).replace("/",""),Te.L=Te.R=Te.C=-(Te.color=1),Te.size=Te.content?Te.content.length:0,Te.start=0,Te.clsid=Te.clsid||Q,z===0)Te.C=oe.length>1?1:-1,Te.size=0,Te.type=5;else if(Ce.slice(-1)=="/"){for(ve=z+1;ve<oe.length&&r(C.FullPaths[ve])!=Ce;++ve);for(Te.C=ve>=oe.length?-1:ve,ve=z+1;ve<oe.length&&r(C.FullPaths[ve])!=r(Ce);++ve);Te.R=ve>=oe.length?-1:ve,Te.type=1}else r(C.FullPaths[z+1]||"")==r(Ce)&&(Te.R=z+1),Te.type=2}}}function J(C,H){var j=H||{};if(j.fileType=="mad")return Hd(C,j);switch(B(C),j.fileType){case"zip":return os(C,j)}var O=(function(Ue){for(var we=0,Oe=0,Ve=0;Ve<Ue.FileIndex.length;++Ve){var Rt=Ue.FileIndex[Ve];if(Rt.content){var Mt=Rt.content.length;Mt>0&&(Mt<4096?we+=Mt+63>>6:Oe+=Mt+511>>9)}}for(var Pt=Ue.FullPaths.length+3>>2,or=we+7>>3,Si=we+127>>7,La=or+Oe+Pt+Si,Gr=La+127>>7,_l=Gr<=109?0:Math.ceil((Gr-109)/127);La+Gr+_l+127>>7>Gr;)_l=++Gr<=109?0:Math.ceil((Gr-109)/127);var In=[1,_l,Gr,Si,Pt,Oe,we,0];return Ue.FileIndex[0].size=we<<6,In[7]=(Ue.FileIndex[0].start=In[0]+In[1]+In[2]+In[3]+In[4]+In[5])+(In[6]+7>>3),In})(C),z=ge(O[7]<<9),G=0,se=0;{for(G=0;G<8;++G)z.write_shift(1,ee[G]);for(G=0;G<8;++G)z.write_shift(2,0);for(z.write_shift(2,62),z.write_shift(2,3),z.write_shift(2,65534),z.write_shift(2,9),z.write_shift(2,6),G=0;G<3;++G)z.write_shift(2,0);for(z.write_shift(4,0),z.write_shift(4,O[2]),z.write_shift(4,O[0]+O[1]+O[2]+O[3]-1),z.write_shift(4,0),z.write_shift(4,4096),z.write_shift(4,O[3]?O[0]+O[1]+O[2]-1:fe),z.write_shift(4,O[3]),z.write_shift(-4,O[1]?O[0]-1:fe),z.write_shift(4,O[1]),G=0;G<109;++G)z.write_shift(-4,G<O[2]?O[1]+G:-1)}if(O[1])for(se=0;se<O[1];++se){for(;G<236+se*127;++G)z.write_shift(-4,G<O[2]?O[1]+G:-1);z.write_shift(-4,se===O[1]-1?fe:se+1)}var ve=function(Ue){for(se+=Ue;G<se-1;++G)z.write_shift(-4,G+1);Ue&&(++G,z.write_shift(-4,fe))};for(se=G=0,se+=O[1];G<se;++G)z.write_shift(-4,ye.DIFSECT);for(se+=O[2];G<se;++G)z.write_shift(-4,ye.FATSECT);ve(O[3]),ve(O[4]);for(var le=0,oe=0,ue=C.FileIndex[0];le<C.FileIndex.length;++le)ue=C.FileIndex[le],ue.content&&(oe=ue.content.length,!(oe<4096)&&(ue.start=se,ve(oe+511>>9)));for(ve(O[6]+7>>3);z.l&511;)z.write_shift(-4,ye.ENDOFCHAIN);for(se=G=0,le=0;le<C.FileIndex.length;++le)ue=C.FileIndex[le],ue.content&&(oe=ue.content.length,!(!oe||oe>=4096)&&(ue.start=se,ve(oe+63>>6)));for(;z.l&511;)z.write_shift(-4,ye.ENDOFCHAIN);for(G=0;G<O[4]<<2;++G){var Te=C.FullPaths[G];if(!Te||Te.length===0){for(le=0;le<17;++le)z.write_shift(4,0);for(le=0;le<3;++le)z.write_shift(4,-1);for(le=0;le<12;++le)z.write_shift(4,0);continue}ue=C.FileIndex[G],G===0&&(ue.start=ue.size?ue.start-1:fe);var Ce=G===0&&j.root||ue.name;if(oe=2*(Ce.length+1),z.write_shift(64,Ce,"utf16le"),z.write_shift(2,oe),z.write_shift(1,ue.type),z.write_shift(1,ue.color),z.write_shift(-4,ue.L),z.write_shift(-4,ue.R),z.write_shift(-4,ue.C),ue.clsid)z.write_shift(16,ue.clsid,"hex");else for(le=0;le<4;++le)z.write_shift(4,0);z.write_shift(4,ue.state||0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,ue.start),z.write_shift(4,ue.size),z.write_shift(4,0)}for(G=1;G<C.FileIndex.length;++G)if(ue=C.FileIndex[G],ue.size>=4096)if(z.l=ue.start+1<<9,ht&&Buffer.isBuffer(ue.content))ue.content.copy(z,z.l,0,ue.size),z.l+=ue.size+511&-512;else{for(le=0;le<ue.size;++le)z.write_shift(1,ue.content[le]);for(;le&511;++le)z.write_shift(1,0)}for(G=1;G<C.FileIndex.length;++G)if(ue=C.FileIndex[G],ue.size>0&&ue.size<4096)if(ht&&Buffer.isBuffer(ue.content))ue.content.copy(z,z.l,0,ue.size),z.l+=ue.size+63&-64;else{for(le=0;le<ue.size;++le)z.write_shift(1,ue.content[le]);for(;le&63;++le)z.write_shift(1,0)}if(ht)z.l=z.length;else for(;z.l<z.length;)z.write_shift(1,0);return z}function U(C,H){var j=C.FullPaths.map(function(le){return le.toUpperCase()}),O=j.map(function(le){var oe=le.split("/");return oe[oe.length-(le.slice(-1)=="/"?2:1)]}),z=!1;H.charCodeAt(0)===47?(z=!0,H=j[0].slice(0,-1)+H):z=H.indexOf("/")!==-1;var G=H.toUpperCase(),se=z===!0?j.indexOf(G):O.indexOf(G);if(se!==-1)return C.FileIndex[se];var ve=!G.match(Nu);for(G=G.replace(_o,""),ve&&(G=G.replace(Nu,"!")),se=0;se<j.length;++se)if((ve?j[se].replace(Nu,"!"):j[se]).replace(_o,"")==G||(ve?O[se].replace(Nu,"!"):O[se]).replace(_o,"")==G)return C.FileIndex[se];return null}var re=64,fe=-2,De="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",ye={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:fe,FREESECT:-1,HEADER_SIGNATURE:De,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function de(C,H,j){f();var O=J(C,j);p.writeFileSync(H,O)}function ke(C){for(var H=new Array(C.length),j=0;j<C.length;++j)H[j]=String.fromCharCode(C[j]);return H.join("")}function me(C,H){var j=J(C,H);switch(H&&H.type||"buffer"){case"file":return f(),p.writeFileSync(H.filename,j),j;case"binary":return typeof j=="string"?j:ke(j);case"base64":return Mo(typeof j=="string"?j:ke(j));case"buffer":if(ht)return Buffer.isBuffer(j)?j:Ia(j);case"array":return typeof j=="string"?Fr(j):j}return j}var q;function F(C){try{var H=C.InflateRaw,j=new H;if(j._processChunk(new Uint8Array([3,0]),j._finishFlushFlag),j.bytesRead)q=C;else throw new Error("zlib does not expose bytesRead")}catch(O){console.error("cannot use native zlib: "+(O.message||O))}}function K(C,H){if(!q)return ec(C,H);var j=q.InflateRaw,O=new j,z=O._processChunk(C.slice(C.l),O._finishFlushFlag);return C.l+=O.bytesRead,z}function Y(C){return q?q.deflateRawSync(C):yl(C)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ze(C){var H=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(H>>16|H>>8|H)&255}for(var Ie=typeof Uint8Array<"u",je=Ie?new Uint8Array(256):[],lt=0;lt<256;++lt)je[lt]=ze(lt);function et(C,H){var j=je[C&255];return H<=8?j>>>8-H:(j=j<<8|je[C>>8&255],H<=16?j>>>16-H:(j=j<<8|je[C>>16&255],j>>>24-H))}function tn(C,H){var j=H&7,O=H>>>3;return(C[O]|(j<=6?0:C[O+1]<<8))>>>j&3}function Ze(C,H){var j=H&7,O=H>>>3;return(C[O]|(j<=5?0:C[O+1]<<8))>>>j&7}function Vn(C,H){var j=H&7,O=H>>>3;return(C[O]|(j<=4?0:C[O+1]<<8))>>>j&15}function Ct(C,H){var j=H&7,O=H>>>3;return(C[O]|(j<=3?0:C[O+1]<<8))>>>j&31}function He(C,H){var j=H&7,O=H>>>3;return(C[O]|(j<=1?0:C[O+1]<<8))>>>j&127}function _n(C,H,j){var O=H&7,z=H>>>3,G=(1<<j)-1,se=C[z]>>>O;return j<8-O||(se|=C[z+1]<<8-O,j<16-O)||(se|=C[z+2]<<16-O,j<24-O)||(se|=C[z+3]<<24-O),se&G}function qn(C,H,j){var O=H&7,z=H>>>3;return O<=5?C[z]|=(j&7)<<O:(C[z]|=j<<O&255,C[z+1]=(j&7)>>8-O),H+3}function Nr(C,H,j){var O=H&7,z=H>>>3;return j=(j&1)<<O,C[z]|=j,H+1}function Hr(C,H,j){var O=H&7,z=H>>>3;return j<<=O,C[z]|=j&255,j>>>=8,C[z+1]=j,H+8}function Ko(C,H,j){var O=H&7,z=H>>>3;return j<<=O,C[z]|=j&255,j>>>=8,C[z+1]=j&255,C[z+2]=j>>>8,H+16}function vl(C,H){var j=C.length,O=2*j>H?2*j:H+5,z=0;if(j>=H)return C;if(ht){var G=f2(O);if(C.copy)C.copy(G);else for(;z<C.length;++z)G[z]=C[z];return G}else if(Ie){var se=new Uint8Array(O);if(se.set)se.set(C);else for(;z<j;++z)se[z]=C[z];return se}return C.length=O,C}function Lt(C){for(var H=new Array(C),j=0;j<C;++j)H[j]=0;return H}function as(C,H,j){var O=1,z=0,G=0,se=0,ve=0,le=C.length,oe=Ie?new Uint16Array(32):Lt(32);for(G=0;G<32;++G)oe[G]=0;for(G=le;G<j;++G)C[G]=0;le=C.length;var ue=Ie?new Uint16Array(le):Lt(le);for(G=0;G<le;++G)oe[z=C[G]]++,O<z&&(O=z),ue[G]=0;for(oe[0]=0,G=1;G<=O;++G)oe[G+16]=ve=ve+oe[G-1]<<1;for(G=0;G<le;++G)ve=C[G],ve!=0&&(ue[G]=oe[ve+16]++);var Te=0;for(G=0;G<le;++G)if(Te=C[G],Te!=0)for(ve=et(ue[G],O)>>O-Te,se=(1<<O+4-Te)-1;se>=0;--se)H[ve|se<<Te]=Te&15|G<<4;return O}var is=Ie?new Uint16Array(512):Lt(512),ss=Ie?new Uint16Array(32):Lt(32);if(!Ie){for(var sr=0;sr<512;++sr)is[sr]=0;for(sr=0;sr<32;++sr)ss[sr]=0}(function(){for(var C=[],H=0;H<32;H++)C.push(5);as(C,ss,32);var j=[];for(H=0;H<=143;H++)j.push(8);for(;H<=255;H++)j.push(9);for(;H<=279;H++)j.push(7);for(;H<=287;H++)j.push(8);as(j,is,288)})();var Ud=(function(){for(var H=Ie?new Uint8Array(32768):[],j=0,O=0;j<Ae.length-1;++j)for(;O<Ae[j+1];++O)H[O]=j;for(;O<32768;++O)H[O]=29;var z=Ie?new Uint8Array(259):[];for(j=0,O=0;j<he.length-1;++j)for(;O<he[j+1];++O)z[O]=j;function G(ve,le){for(var oe=0;oe<ve.length;){var ue=Math.min(65535,ve.length-oe),Te=oe+ue==ve.length;for(le.write_shift(1,+Te),le.write_shift(2,ue),le.write_shift(2,~ue&65535);ue-- >0;)le[le.l++]=ve[oe++]}return le.l}function se(ve,le){for(var oe=0,ue=0,Te=Ie?new Uint16Array(32768):[];ue<ve.length;){var Ce=Math.min(65535,ve.length-ue);if(Ce<10){for(oe=qn(le,oe,+(ue+Ce==ve.length)),oe&7&&(oe+=8-(oe&7)),le.l=oe/8|0,le.write_shift(2,Ce),le.write_shift(2,~Ce&65535);Ce-- >0;)le[le.l++]=ve[ue++];oe=le.l*8;continue}oe=qn(le,oe,+(ue+Ce==ve.length)+2);for(var Ue=0;Ce-- >0;){var we=ve[ue];Ue=(Ue<<5^we)&32767;var Oe=-1,Ve=0;if((Oe=Te[Ue])&&(Oe|=ue&-32768,Oe>ue&&(Oe-=32768),Oe<ue))for(;ve[Oe+Ve]==ve[ue+Ve]&&Ve<250;)++Ve;if(Ve>2){we=z[Ve],we<=22?oe=Hr(le,oe,je[we+1]>>1)-1:(Hr(le,oe,3),oe+=5,Hr(le,oe,je[we-23]>>5),oe+=3);var Rt=we<8?0:we-4>>2;Rt>0&&(Ko(le,oe,Ve-he[we]),oe+=Rt),we=H[ue-Oe],oe=Hr(le,oe,je[we]>>3),oe-=3;var Mt=we<4?0:we-2>>1;Mt>0&&(Ko(le,oe,ue-Oe-Ae[we]),oe+=Mt);for(var Pt=0;Pt<Ve;++Pt)Te[Ue]=ue&32767,Ue=(Ue<<5^ve[ue])&32767,++ue;Ce-=Ve-1}else we<=143?we=we+48:oe=Nr(le,oe,1),oe=Hr(le,oe,je[we]),Te[Ue]=ue&32767,++ue}oe=Hr(le,oe,0)-1}return le.l=(oe+7)/8|0,le.l}return function(le,oe){return le.length<8?G(le,oe):se(le,oe)}})();function yl(C){var H=ge(50+Math.floor(C.length*1.1)),j=Ud(C,H);return H.slice(0,j)}var Qo=Ie?new Uint16Array(32768):Lt(32768),Zo=Ie?new Uint16Array(32768):Lt(32768),Fa=Ie?new Uint16Array(128):Lt(128),vn=1,Ar=1;function Tn(C,H){var j=Ct(C,H)+257;H+=5;var O=Ct(C,H)+1;H+=5;var z=Vn(C,H)+4;H+=4;for(var G=0,se=Ie?new Uint8Array(19):Lt(19),ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,oe=Ie?new Uint8Array(8):Lt(8),ue=Ie?new Uint8Array(8):Lt(8),Te=se.length,Ce=0;Ce<z;++Ce)se[W[Ce]]=G=Ze(C,H),le<G&&(le=G),oe[G]++,H+=3;var Ue=0;for(oe[0]=0,Ce=1;Ce<=le;++Ce)ue[Ce]=Ue=Ue+oe[Ce-1]<<1;for(Ce=0;Ce<Te;++Ce)(Ue=se[Ce])!=0&&(ve[Ce]=ue[Ue]++);var we=0;for(Ce=0;Ce<Te;++Ce)if(we=se[Ce],we!=0){Ue=je[ve[Ce]]>>8-we;for(var Oe=(1<<7-we)-1;Oe>=0;--Oe)Fa[Ue|Oe<<we]=we&7|Ce<<3}var Ve=[];for(le=1;Ve.length<j+O;)switch(Ue=Fa[He(C,H)],H+=Ue&7,Ue>>>=3){case 16:for(G=3+tn(C,H),H+=2,Ue=Ve[Ve.length-1];G-- >0;)Ve.push(Ue);break;case 17:for(G=3+Ze(C,H),H+=3;G-- >0;)Ve.push(0);break;case 18:for(G=11+He(C,H),H+=7;G-- >0;)Ve.push(0);break;default:Ve.push(Ue),le<Ue&&(le=Ue);break}var Rt=Ve.slice(0,j),Mt=Ve.slice(j);for(Ce=j;Ce<286;++Ce)Rt[Ce]=0;for(Ce=O;Ce<30;++Ce)Mt[Ce]=0;return vn=as(Rt,Qo,286),Ar=as(Mt,Zo,30),H}function Bd(C,H){if(C[0]==3&&!(C[1]&3))return[$i(H),2];for(var j=0,O=0,z=f2(H||1<<18),G=0,se=z.length>>>0,ve=0,le=0;(O&1)==0;){if(O=Ze(C,j),j+=3,O>>>1)O>>1==1?(ve=9,le=5):(j=Tn(C,j),ve=vn,le=Ar);else{j&7&&(j+=8-(j&7));var oe=C[j>>>3]|C[(j>>>3)+1]<<8;if(j+=32,oe>0)for(!H&&se<G+oe&&(z=vl(z,G+oe),se=z.length);oe-- >0;)z[G++]=C[j>>>3],j+=8;continue}for(;;){!H&&se<G+32767&&(z=vl(z,G+32767),se=z.length);var ue=_n(C,j,ve),Te=O>>>1==1?is[ue]:Qo[ue];if(j+=Te&15,Te>>>=4,(Te>>>8&255)===0)z[G++]=Te;else{if(Te==256)break;Te-=257;var Ce=Te<8?0:Te-4>>2;Ce>5&&(Ce=0);var Ue=G+he[Te];Ce>0&&(Ue+=_n(C,j,Ce),j+=Ce),ue=_n(C,j,le),Te=O>>>1==1?ss[ue]:Zo[ue],j+=Te&15,Te>>>=4;var we=Te<4?0:Te-2>>1,Oe=Ae[Te];for(we>0&&(Oe+=_n(C,j,we),j+=we),!H&&se<Ue&&(z=vl(z,Ue+100),se=z.length);G<Ue;)z[G]=z[G-Oe],++G}}}return H?[z,j+7>>>3]:[z.slice(0,G),j+7>>>3]}function ec(C,H){var j=C.slice(C.l||0),O=Bd(j,H);return C.l+=O[1],O[0]}function tc(C,H){if(C)typeof console<"u"&&console.error(H);else throw new Error(H)}function vi(C,H){var j=C;er(j,0);var O=[],z=[],G={FileIndex:O,FullPaths:z};P(G,{root:H.root});for(var se=j.length-4;(j[se]!=80||j[se+1]!=75||j[se+2]!=5||j[se+3]!=6)&&se>=0;)--se;j.l=se+4,j.l+=4;var ve=j.read_shift(2);j.l+=6;var le=j.read_shift(4);for(j.l=le,se=0;se<ve;++se){j.l+=20;var oe=j.read_shift(4),ue=j.read_shift(4),Te=j.read_shift(2),Ce=j.read_shift(2),Ue=j.read_shift(2);j.l+=8;var we=j.read_shift(4),Oe=d(j.slice(j.l+Te,j.l+Te+Ce));j.l+=Te+Ce+Ue;var Ve=j.l;j.l=we+4,ls(j,oe,ue,G,Oe),j.l=Ve}return G}function ls(C,H,j,O,z){C.l+=2;var G=C.read_shift(2),se=C.read_shift(2),ve=o(C);if(G&8257)throw new Error("Unsupported ZIP encryption");for(var le=C.read_shift(4),oe=C.read_shift(4),ue=C.read_shift(4),Te=C.read_shift(2),Ce=C.read_shift(2),Ue="",we=0;we<Te;++we)Ue+=String.fromCharCode(C[C.l++]);if(Ce){var Oe=d(C.slice(C.l,C.l+Ce));(Oe[21589]||{}).mt&&(ve=Oe[21589].mt),((z||{})[21589]||{}).mt&&(ve=z[21589].mt)}C.l+=Ce;var Ve=C.slice(C.l,C.l+oe);switch(se){case 8:Ve=K(C,ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+se)}var Rt=!1;G&8&&(le=C.read_shift(4),le==134695760&&(le=C.read_shift(4),Rt=!0),oe=C.read_shift(4),ue=C.read_shift(4)),oe!=H&&tc(Rt,"Bad compressed size: "+H+" != "+oe),ue!=j&&tc(Rt,"Bad uncompressed size: "+j+" != "+ue),us(O,Ue,Ve,{unsafe:!0,mt:ve})}function os(C,H){var j=H||{},O=[],z=[],G=ge(1),se=j.compression?8:0,ve=0,le=0,oe=0,ue=0,Te=0,Ce=C.FullPaths[0],Ue=Ce,we=C.FileIndex[0],Oe=[],Ve=0;for(le=1;le<C.FullPaths.length;++le)if(Ue=C.FullPaths[le].slice(Ce.length),we=C.FileIndex[le],!(!we.size||!we.content||Ue=="Sh33tJ5")){var Rt=ue,Mt=ge(Ue.length);for(oe=0;oe<Ue.length;++oe)Mt.write_shift(1,Ue.charCodeAt(oe)&127);Mt=Mt.slice(0,Mt.l),Oe[Te]=_I.buf(we.content,0);var Pt=we.content;se==8&&(Pt=Y(Pt)),G=ge(30),G.write_shift(4,67324752),G.write_shift(2,20),G.write_shift(2,ve),G.write_shift(2,se),we.mt?l(G,we.mt):G.write_shift(4,0),G.write_shift(-4,Oe[Te]),G.write_shift(4,Pt.length),G.write_shift(4,we.content.length),G.write_shift(2,Mt.length),G.write_shift(2,0),ue+=G.length,O.push(G),ue+=Mt.length,O.push(Mt),ue+=Pt.length,O.push(Pt),G=ge(46),G.write_shift(4,33639248),G.write_shift(2,0),G.write_shift(2,20),G.write_shift(2,ve),G.write_shift(2,se),G.write_shift(4,0),G.write_shift(-4,Oe[Te]),G.write_shift(4,Pt.length),G.write_shift(4,we.content.length),G.write_shift(2,Mt.length),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(4,0),G.write_shift(4,Rt),Ve+=G.l,z.push(G),Ve+=Mt.length,z.push(Mt),++Te}return G=ge(22),G.write_shift(4,101010256),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,Te),G.write_shift(2,Te),G.write_shift(4,Ve),G.write_shift(4,ue),G.write_shift(2,0),pn([pn(O),pn(z),G])}var lr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function cs(C,H){if(C.ctype)return C.ctype;var j=C.name||"",O=j.match(/\.([^\.]+)$/);return O&&lr[O[1]]||H&&(O=(j=H).match(/[\.\\]([^\.\\])+$/),O&&lr[O[1]])?lr[O[1]]:"application/octet-stream"}function yi(C){for(var H=Mo(C),j=[],O=0;O<H.length;O+=76)j.push(H.slice(O,O+76));return j.join(`\r
`)+`\r
`}function zd(C){var H=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(oe){var ue=oe.charCodeAt(0).toString(16).toUpperCase();return"="+(ue.length==1?"0"+ue:ue)});H=H.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),H.charAt(0)==`
`&&(H="=0D"+H.slice(1)),H=H.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var j=[],O=H.split(`\r
`),z=0;z<O.length;++z){var G=O[z];if(G.length==0){j.push("");continue}for(var se=0;se<G.length;){var ve=76,le=G.slice(se,se+ve);le.charAt(ve-1)=="="?ve--:le.charAt(ve-2)=="="?ve-=2:le.charAt(ve-3)=="="&&(ve-=3),le=G.slice(se,se+ve),se+=ve,se<G.length&&(le+="="),j.push(le)}}return j.join(`\r
`)}function nc(C){for(var H=[],j=0;j<C.length;++j){for(var O=C[j];j<=C.length&&O.charAt(O.length-1)=="=";)O=O.slice(0,O.length-1)+C[++j];H.push(O)}for(var z=0;z<H.length;++z)H[z]=H[z].replace(/[=][0-9A-Fa-f]{2}/g,function(G){return String.fromCharCode(parseInt(G.slice(1),16))});return Fr(H.join(`\r
`))}function bl(C,H,j){for(var O="",z="",G="",se,ve=0;ve<10;++ve){var le=H[ve];if(!le||le.match(/^\s*$/))break;var oe=le.match(/^(.*?):\s*([^\s].*)$/);if(oe)switch(oe[1].toLowerCase()){case"content-location":O=oe[2].trim();break;case"content-type":G=oe[2].trim();break;case"content-transfer-encoding":z=oe[2].trim();break}}switch(++ve,z.toLowerCase()){case"base64":se=Fr(Ca(H.slice(ve).join("")));break;case"quoted-printable":se=nc(H.slice(ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+z)}var ue=us(C,O.slice(j.length),se,{unsafe:!0});G&&(ue.ctype=G)}function bi(C,H){if(ke(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var j=H&&H.root||"",O=(ht&&Buffer.isBuffer(C)?C.toString("binary"):ke(C)).split(`\r
`),z=0,G="";for(z=0;z<O.length;++z)if(G=O[z],!!/^Content-Location:/i.test(G)&&(G=G.slice(G.indexOf("file")),j||(j=G.slice(0,G.lastIndexOf("/")+1)),G.slice(0,j.length)!=j))for(;j.length>0&&(j=j.slice(0,j.length-1),j=j.slice(0,j.lastIndexOf("/")+1),G.slice(0,j.length)!=j););var se=(O[1]||"").match(/boundary="(.*?)"/);if(!se)throw new Error("MAD cannot find boundary");var ve="--"+(se[1]||""),le=[],oe=[],ue={FileIndex:le,FullPaths:oe};P(ue);var Te,Ce=0;for(z=0;z<O.length;++z){var Ue=O[z];Ue!==ve&&Ue!==ve+"--"||(Ce++&&bl(ue,O.slice(Te,z),j),Te=z)}return ue}function Hd(C,H){var j=H||{},O=j.boundary||"SheetJS";O="------="+O;for(var z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+O.slice(2)+'"',"","",""],G=C.FullPaths[0],se=G,ve=C.FileIndex[0],le=1;le<C.FullPaths.length;++le)if(se=C.FullPaths[le].slice(G.length),ve=C.FileIndex[le],!(!ve.size||!ve.content||se=="Sh33tJ5")){se=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ve){return"_x"+Ve.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ve){return"_u"+Ve.charCodeAt(0).toString(16)+"_"});for(var oe=ve.content,ue=ht&&Buffer.isBuffer(oe)?oe.toString("binary"):ke(oe),Te=0,Ce=Math.min(1024,ue.length),Ue=0,we=0;we<=Ce;++we)(Ue=ue.charCodeAt(we))>=32&&Ue<128&&++Te;var Oe=Te>=Ce*4/5;z.push(O),z.push("Content-Location: "+(j.root||"file:///C:/SheetJS/")+se),z.push("Content-Transfer-Encoding: "+(Oe?"quoted-printable":"base64")),z.push("Content-Type: "+cs(ve,se)),z.push(""),z.push(Oe?zd(ue):yi(ue))}return z.push(O+`--\r
`),z.join(`\r
`)}function rc(C){var H={};return P(H,C),H}function us(C,H,j,O){var z=O&&O.unsafe;z||P(C);var G=!z&&Nt.find(C,H);if(!G){var se=C.FullPaths[0];H.slice(0,se.length)==se?se=H:(se.slice(-1)!="/"&&(se+="/"),se=(se+H).replace("//","/")),G={name:i(H),type:2},C.FileIndex.push(G),C.FullPaths.push(se),z||Nt.utils.cfb_gc(C)}return G.content=j,G.size=j?j.length:0,O&&(O.CLSID&&(G.clsid=O.CLSID),O.mt&&(G.mt=O.mt),O.ct&&(G.ct=O.ct)),G}function ac(C,H){P(C);var j=Nt.find(C,H);if(j){for(var O=0;O<C.FileIndex.length;++O)if(C.FileIndex[O]==j)return C.FileIndex.splice(O,1),C.FullPaths.splice(O,1),!0}return!1}function Sl(C,H,j){P(C);var O=Nt.find(C,H);if(O){for(var z=0;z<C.FileIndex.length;++z)if(C.FileIndex[z]==O)return C.FileIndex[z].name=i(j),C.FullPaths[z]=j,!0}return!1}function El(C){B(C,!0)}return e.find=U,e.read=te,e.parse=m,e.write=me,e.writeFile=de,e.utils={cfb_new:rc,cfb_add:us,cfb_del:ac,cfb_mov:Sl,cfb_gc:El,ReadShift:wo,CheckField:pE,prep_blob:er,bconcat:pn,use_zlib:F,_deflateRaw:yl,_inflateRaw:ec,consts:ye},e})();function TI(t){return typeof t=="string"?Md(t):Array.isArray(t)?WD(t):t}function $o(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Md(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Io(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([TI(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var l=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),chrome.downloads.download({url:l,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=l,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),l}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(t);return d.open("w"),d.encoding="binary",Array.isArray(e)&&(e=qo(e)),d.write(e),d.close(),e}catch(p){if(!p.message||!p.message.match(/onstruct/))throw p}throw new Error("cannot save file "+t)}function xn(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function b2(t,e){for(var n=[],r=xn(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function Pp(t){for(var e=[],n=xn(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Fd(t){for(var e=[],n=xn(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function wI(t){for(var e=[],n=xn(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var od=new Date(1899,11,30,0,0,0);function Hn(t,e){var n=t.getTime(),r=od.getTime()+(t.getTimezoneOffset()-od.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var KS=new Date,NI=od.getTime()+(KS.getTimezoneOffset()-od.getTimezoneOffset())*6e4,S2=KS.getTimezoneOffset();function QS(t){var e=new Date;return e.setTime(t*24*60*60*1e3+NI),e.getTimezoneOffset()!==S2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-S2)*6e4),e}var E2=new Date("2017-02-19T19:06:09.000Z"),ZS=isNaN(E2.getFullYear())?new Date("2/19/17"):E2,AI=ZS.getFullYear()==2017;function Rn(t,e){var n=new Date(t);if(AI)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(ZS.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],l=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(l=new Date(l.getTime()-l.getTimezoneOffset()*60*1e3)),l}function Ld(t,e){if(ht&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(l){return n[l]||l})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Gn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Gn(t[n]));return e}function Ht(t,e){for(var n="";n.length<e;)n+=t;return n}function Ta(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,l){return n=-n,l}),!isNaN(e=Number(r)))?e/n:e}var kI=["january","february","march","april","may","june","july","august","september","october","november","december"];function Do(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),l=e.getDate();if(isNaN(l))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&kI.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||l>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function Qe(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return ht?r=Ia(n):r=KD(n),Nt.utils.cfb_add(t,e,r)}Nt.utils.cfb_add(t,e,n)}else t.file(e,n)}function jp(){return Nt.utils.cfb_new()}var Qt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,CI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Op=Pp(CI),Up=/[&<>'"]/g,RI=/[\u0000-\u0008\u000b-\u001f]/g;function St(t){var e=t+"";return e.replace(Up,function(n){return Op[n]}).replace(RI,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function _2(t){return St(t).replace(/ /g,"_x0020_")}var eE=/[\u0000-\u001f]/g;function MI(t){var e=t+"";return e.replace(Up,function(n){return Op[n]}).replace(/\n/g,"<br/>").replace(eE,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function DI(t){var e=t+"";return e.replace(Up,function(n){return Op[n]}).replace(eE,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function II(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function FI(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _h(t){for(var e="",n=0,r=0,i=0,l=0,o=0,d=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(l=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|l&63);continue}o=t.charCodeAt(n++),d=((r&7)<<18|(i&63)<<12|(l&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(d>>>10&1023)),e+=String.fromCharCode(56320+(d&1023))}return e}function T2(t){var e=$i(2*t.length),n,r,i=1,l=0,o=0,d;for(r=0;r<t.length;r+=i)i=1,(d=t.charCodeAt(r))<128?n=d:d<224?(n=(d&31)*64+(t.charCodeAt(r+1)&63),i=2):d<240?(n=(d&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(d&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[l++]=o&255,e[l++]=o>>>8,o=0),e[l++]=n%256,e[l++]=n>>>8;return e.slice(0,l).toString("ucs2")}function w2(t){return Ia(t,"binary").toString("utf8")}var ku="foo bar baz",To=ht&&(w2(ku)==_h(ku)&&w2||T2(ku)==_h(ku)&&T2)||_h,Io=ht?function(t){return Ia(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},LI=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),tE=/(^\s|\s$|\n)/;function mn(t,e){return"<"+t+(e.match(tE)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Fo(t){return xn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Re(t,e,n){return"<"+t+(n!=null?Fo(n):"")+(e!=null?(e.match(tE)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function np(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function PI(t,e){switch(typeof t){case"string":var n=Re("vt:lpwstr",St(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Re((t|0)==t?"vt:i4":"vt:r8",St(String(t)));case"boolean":return Re("vt:bool",t?"true":"false")}if(t instanceof Date)return Re("vt:filetime",np(t));throw new Error("Unable to serialize "+t)}var rn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},pl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],tr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function jI(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,l=5;l>=0;--l)i=i*256+t[e+l];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function OI(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,l=0,o=r?-e:e;isFinite(o)?o==0?i=l=0:(i=Math.floor(Math.log(o)/Math.LN2),l=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(l)||l<Math.pow(2,52))?i=-1022:(l-=Math.pow(2,52),i+=1023)):(i=2047,l=isNaN(e)?26985:0);for(var d=0;d<=5;++d,l/=256)t[n+d]=l&255;t[n+6]=(i&15)<<4|l&15,t[n+7]=i>>4|r}var N2=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,l=t[0][r].length;i<l;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},A2=ht?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ia(e)})):N2(t)}:N2,k2=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(So(t,i)));return r.join("").replace(_o,"")},Bp=ht?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(_o,""):k2(t,e,n)}:k2,C2=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},nE=ht?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):C2(t,e,n)}:C2,R2=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(Ks(t,i)));return r.join("")},Yo=ht?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):R2(e,n,r)}:R2,rE=function(t,e){var n=nr(t,e);return n>0?Yo(t,e+4,e+4+n-1):""},aE=rE,iE=function(t,e){var n=nr(t,e);return n>0?Yo(t,e+4,e+4+n-1):""},sE=iE,lE=function(t,e){var n=2*nr(t,e);return n>0?Yo(t,e+4,e+4+n-1):""},oE=lE,cE=function(e,n){var r=nr(e,n);return r>0?Bp(e,n+4,n+4+r):""},uE=cE,dE=function(t,e){var n=nr(t,e);return n>0?Yo(t,e+4,e+4+n):""},fE=dE,hE=function(t,e){return jI(t,e)},cd=hE,zp=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ht&&(aE=function(e,n){if(!Buffer.isBuffer(e))return rE(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},sE=function(e,n){if(!Buffer.isBuffer(e))return iE(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},oE=function(e,n){if(!Buffer.isBuffer(e))return lE(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},uE=function(e,n){if(!Buffer.isBuffer(e))return cE(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},fE=function(e,n){if(!Buffer.isBuffer(e))return dE(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},cd=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):hE(e,n)},zp=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ks=function(t,e){return t[e]},So=function(t,e){return t[e+1]*256+t[e]},UI=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},nr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Ui=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},BI=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function wo(t,e){var n="",r,i,l=[],o,d,p,f;switch(e){case"dbcs":if(f=this.l,ht&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(p=0;p<t;++p)n+=String.fromCharCode(So(this,f)),f+=2;t*=2;break;case"utf8":n=Yo(this,this.l,this.l+t);break;case"utf16le":t*=2,n=Bp(this,this.l,this.l+t);break;case"wstr":return wo.call(this,t,"dbcs");case"lpstr-ansi":n=aE(this,this.l),t=4+nr(this,this.l);break;case"lpstr-cp":n=sE(this,this.l),t=4+nr(this,this.l);break;case"lpwstr":n=oE(this,this.l),t=4+2*nr(this,this.l);break;case"lpp4":t=4+nr(this,this.l),n=uE(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+nr(this,this.l),n=fE(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=Ks(this,this.l+t++))!==0;)l.push(wu(o));n=l.join("");break;case"_wstr":for(t=0,n="";(o=So(this,this.l+t))!==0;)l.push(wu(o)),t+=2;t+=2,n=l.join("");break;case"dbcs-cont":for(n="",f=this.l,p=0;p<t;++p){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Ks(this,f),this.l=f+1,d=wo.call(this,t-p,o?"dbcs-cont":"sbcs-cont"),l.join("")+d;l.push(wu(So(this,f))),f+=2}n=l.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,p=0;p!=t;++p){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Ks(this,f),this.l=f+1,d=wo.call(this,t-p,o?"dbcs-cont":"sbcs-cont"),l.join("")+d;l.push(wu(Ks(this,f))),f+=1}n=l.join("");break;default:switch(t){case 1:return r=Ks(this,this.l),this.l++,r;case 2:return r=(e==="i"?UI:So)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Ui:BI)(this,this.l),this.l+=4,r):(i=nr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=cd(this,this.l):i=cd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=nE(this,this.l,t);break}}return this.l+=t,n}var zI=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},HI=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},GI=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function VI(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)GI(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var l=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<l;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,zI(this,e,this.l);break;case 8:if(r=8,n==="f"){OI(this,e,this.l);break}case 16:break;case-4:r=4,HI(this,e,this.l);break}return this.l+=r,this}function pE(t,e){var n=nE(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function er(t,e){t.l=e,t.read_shift=wo,t.chk=pE,t.write_shift=VI}function Kr(t,e){t.l+=e}function ge(t){var e=$i(t);return er(e,0),e}function Bn(){var t=[],e=ht?256:2048,n=function(f){var m=ge(f);return er(m,0),m},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},l=function(f){return r&&f<r.length-r.l?r:(i(),r=n(Math.max(f+1,e)))},o=function(){return i(),pn(t)},d=function(f){i(),r=f,r.l==null&&(r.l=r.length),l(e)};return{next:l,push:d,end:o,_bufs:t}}function Ee(t,e,n,r){var i=+e,l;if(!isNaN(i)){r||(r=j9[i].p||(n||[]).length||0),l=1+(i>=128?1:0)+1,r>=128&&++l,r>=16384&&++l,r>=2097152&&++l;var o=t.next(l);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var d=0;d!=4;++d)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&zp(n)&&t.push(n)}}function No(t,e,n){var r=Gn(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function M2(t,e,n){var r=Gn(t);return r.s=No(r.s,e.s,n),r.e=No(r.e,e.s,n),r}function Ao(t,e){if(t.cRel&&t.c<0)for(t=Gn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Gn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Et(t);return!t.cRel&&t.cRel!=null&&(n=YI(n)),!t.rRel&&t.rRel!=null&&(n=qI(n)),n}function Th(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Sn(t.s.c)+":"+(t.e.cRel?"":"$")+Sn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+gn(t.s.r)+":"+(t.e.rRel?"":"$")+gn(t.e.r):Ao(t.s,e.biff)+":"+Ao(t.e,e.biff)}function Hp(t){return parseInt($I(t),10)-1}function gn(t){return""+(t+1)}function qI(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function $I(t){return t.replace(/\$(\d+)$/,"$1")}function Gp(t){for(var e=JI(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Sn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function YI(t){return t.replace(/^([A-Z])/,"$$$1")}function JI(t){return t.replace(/^\$([A-Z])/,"$1")}function XI(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function an(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Et(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function ar(t){var e=t.indexOf(":");return e==-1?{s:an(t),e:an(t)}:{s:an(t.slice(0,e)),e:an(t.slice(e+1))}}function Kt(t,e){return typeof e>"u"||typeof e=="number"?Kt(t.s,t.e):(typeof t!="string"&&(t=Et(t)),typeof e!="string"&&(e=Et(e)),t==e?t:t+":"+e)}function Ft(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,l=t.length;for(n=0;r<l&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<l&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===l||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=l&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=l&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function D2(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=fi(t.z,n?Hn(e):e)}catch{}try{return t.w=fi((t.XF||{}).numFmtId||(n?14:0),n?Hn(e):e)}catch{return""+e}}function Ra(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Jo[t.v]||t.v:e==null?D2(t,t.v):D2(t,e))}function Zi(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function mE(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,l=t||(i?[]:{}),o=0,d=0;if(l&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var p=typeof r.origin=="string"?an(r.origin):r.origin;o=p.r,d=p.c}l["!ref"]||(l["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(l["!ref"]){var m=Ft(l["!ref"]);f.s.c=m.s.c,f.s.r=m.s.r,f.e.c=Math.max(f.e.c,m.e.c),f.e.r=Math.max(f.e.r,m.e.r),o==-1&&(f.e.r=o=m.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var b=0;b!=e[v].length;++b)if(!(typeof e[v][b]>"u")){var E={v:e[v][b]},T=o+v,_=d+b;if(f.s.r>T&&(f.s.r=T),f.s.c>_&&(f.s.c=_),f.e.r<T&&(f.e.r=T),f.e.c<_&&(f.e.c=_),e[v][b]&&typeof e[v][b]=="object"&&!Array.isArray(e[v][b])&&!(e[v][b]instanceof Date))E=e[v][b];else if(Array.isArray(E.v)&&(E.f=e[v][b][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(r.nullError)E.t="e",E.v=0;else if(r.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=r.dateNF||Gt[14],r.cellDates?(E.t="d",E.w=fi(E.z,Hn(E.v))):(E.t="n",E.v=Hn(E.v),E.w=fi(E.z,E.v))):E.t="s";if(i)l[T]||(l[T]=[]),l[T][_]&&l[T][_].z&&(E.z=l[T][_].z),l[T][_]=E;else{var w=Et({c:_,r:T});l[w]&&l[w].z&&(E.z=l[w].z),l[w]=E}}}return f.s.c<1e7&&(l["!ref"]=Kt(f)),l}function ml(t,e){return mE(null,t,e)}function WI(t){return t.read_shift(4,"i")}function Ur(t,e){return e||(e=ge(4)),e.write_shift(4,t),e}function En(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function sn(t,e){var n=!1;return e==null&&(n=!0,e=ge(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function KI(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function QI(t,e){return e||(e=ge(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Vp(t,e){var n=t.l,r=t.read_shift(1),i=En(t),l=[],o={t:i,h:i};if((r&1)!==0){for(var d=t.read_shift(4),p=0;p!=d;++p)l.push(KI(t));o.r=l}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}function ZI(t,e){var n=!1;return e==null&&(n=!0,e=ge(15+4*t.t.length)),e.write_shift(1,0),sn(t.t,e),n?e.slice(0,e.l):e}var eF=Vp;function tF(t,e){var n=!1;return e==null&&(n=!0,e=ge(23+4*t.t.length)),e.write_shift(1,1),sn(t.t,e),e.write_shift(4,1),QI({},e),n?e.slice(0,e.l):e}function wr(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function es(t,e){return e==null&&(e=ge(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function ts(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ns(t,e){return e==null&&(e=ge(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var nF=En,gE=sn;function qp(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function ud(t,e){var n=!1;return e==null&&(n=!0,e=ge(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var rF=En,rp=qp,$p=ud;function xE(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?cd([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Ui(e,0)>>2;return n?i/100:i}function vE(t,e){e==null&&(e=ge(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function yE(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function aF(t,e){return e||(e=ge(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var rs=yE,gl=aF;function xl(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Yi(t,e){return(e||ge(8)).write_shift(8,t,"f")}function iF(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),l=t.read_shift(2,"i"),o=t.read_shift(1),d=t.read_shift(1),p=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var f=pF[i];f&&(e.rgb=G2(f));break;case 2:e.rgb=G2([o,d,p]);break;case 3:e.theme=i;break}return l!=0&&(e.tint=l>0?l/32767:l/32768),e}function dd(t,e){if(e||(e=ge(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function sF(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function lF(t,e){e||(e=ge(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var bE=2,Zn=3,Cu=11,fd=19,Ru=64,oF=65,cF=71,uF=4108,dF=4126,hn=80,I2={1:{n:"CodePage",t:bE},2:{n:"Category",t:hn},3:{n:"PresentationFormat",t:hn},4:{n:"ByteCount",t:Zn},5:{n:"LineCount",t:Zn},6:{n:"ParagraphCount",t:Zn},7:{n:"SlideCount",t:Zn},8:{n:"NoteCount",t:Zn},9:{n:"HiddenCount",t:Zn},10:{n:"MultimediaClipCount",t:Zn},11:{n:"ScaleCrop",t:Cu},12:{n:"HeadingPairs",t:uF},13:{n:"TitlesOfParts",t:dF},14:{n:"Manager",t:hn},15:{n:"Company",t:hn},16:{n:"LinksUpToDate",t:Cu},17:{n:"CharacterCount",t:Zn},19:{n:"SharedDoc",t:Cu},22:{n:"HyperlinksChanged",t:Cu},23:{n:"AppVersion",t:Zn,p:"version"},24:{n:"DigSig",t:oF},26:{n:"ContentType",t:hn},27:{n:"ContentStatus",t:hn},28:{n:"Language",t:hn},29:{n:"Version",t:hn},255:{},2147483648:{n:"Locale",t:fd},2147483651:{n:"Behavior",t:fd},1919054434:{}},F2={1:{n:"CodePage",t:bE},2:{n:"Title",t:hn},3:{n:"Subject",t:hn},4:{n:"Author",t:hn},5:{n:"Keywords",t:hn},6:{n:"Comments",t:hn},7:{n:"Template",t:hn},8:{n:"LastAuthor",t:hn},9:{n:"RevNumber",t:hn},10:{n:"EditTime",t:Ru},11:{n:"LastPrinted",t:Ru},12:{n:"CreatedDate",t:Ru},13:{n:"ModifiedDate",t:Ru},14:{n:"PageCount",t:Zn},15:{n:"WordCount",t:Zn},16:{n:"CharCount",t:Zn},17:{n:"Thumbnail",t:cF},18:{n:"Application",t:hn},19:{n:"DocSecurity",t:Zn},255:{},2147483648:{n:"Locale",t:fd},2147483651:{n:"Behavior",t:fd},1919054434:{}};function fF(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var hF=fF([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),pF=Gn(hF),Jo={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},mF={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Mu={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function SE(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function EE(t,e){var n=wI(mF),r=[],i;r[r.length]=Qt,r[r.length]=Re("Types",null,{xmlns:rn.CT,"xmlns:xsd":rn.xsd,"xmlns:xsi":rn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(p){return Re("Default",null,{Extension:p[0],ContentType:p[1]})}));var l=function(p){t[p]&&t[p].length>0&&(i=t[p][0],r[r.length]=Re("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Mu[p][e.bookType]||Mu[p].xlsx}))},o=function(p){(t[p]||[]).forEach(function(f){r[r.length]=Re("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Mu[p][e.bookType]||Mu[p].xlsx})})},d=function(p){(t[p]||[]).forEach(function(f){r[r.length]=Re("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:n[p][0]})})};return l("workbooks"),o("sheets"),o("charts"),d("themes"),["strs","styles"].forEach(l),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),o("metadata"),d("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var ut={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _E(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function al(t){var e=[Qt,Re("Relationships",null,{xmlns:rn.RELS})];return xn(t["!id"]).forEach(function(n){e[e.length]=Re("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function yt(t,e,n,r,i,l){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[ut.HLINK,ut.XPATH,ut.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function gF(t){var e=[Qt];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function L2(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function xF(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function vF(t){var e=[Qt];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(L2(t[n][0],t[n][1])),e.push(xF("",t[n][0]));return e.push(L2("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function TE(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+rd.version+"</meta:generator></office:meta></office:document-meta>"}var Bi=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function wh(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=St(e),r[r.length]=n?Re(t,e,n):mn(t,e))}function wE(t,e){var n=e||{},r=[Qt,Re("cp:coreProperties",null,{"xmlns:cp":rn.CORE_PROPS,"xmlns:dc":rn.dc,"xmlns:dcterms":rn.dcterms,"xmlns:dcmitype":rn.dcmitype,"xmlns:xsi":rn.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&wh("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:np(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&wh("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:np(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var l=0;l!=Bi.length;++l){var o=Bi[l],d=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:t?t[o[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&wh(o[0],d,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var il=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],NE=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function AE(t){var e=[],n=Re;return t||(t={}),t.Application="SheetJS",e[e.length]=Qt,e[e.length]=Re("Properties",null,{xmlns:rn.EXT_PROPS,"xmlns:vt":rn.vt}),il.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=St(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+St(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function kE(t){var e=[Qt,Re("Properties",null,{xmlns:rn.CUST_PROPS,"xmlns:vt":rn.vt})];if(!t)return e.join("");var n=1;return xn(t).forEach(function(i){++n,e[e.length]=Re("property",PI(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:St(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var P2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function yF(t,e){var n=[];return xn(P2).map(function(r){for(var i=0;i<Bi.length;++i)if(Bi[i][1]==r)return Bi[i];for(i=0;i<il.length;++i)if(il[i][1]==r)return il[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(mn(P2[r[1]]||r[1],i))}}),Re("DocumentProperties",n.join(""),{xmlns:tr.o})}function bF(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&xn(t).forEach(function(l){if(Object.prototype.hasOwnProperty.call(t,l)){for(var o=0;o<Bi.length;++o)if(l==Bi[o][1])return;for(o=0;o<il.length;++o)if(l==il[o][1])return;for(o=0;o<n.length;++o)if(l==n[o])return;var d=t[l],p="string";typeof d=="number"?(p="float",d=String(d)):d===!0||d===!1?(p="boolean",d=d?"1":"0"):d=String(d),i.push(Re(_2(l),d,{"dt:dt":p}))}}),e&&xn(e).forEach(function(l){if(Object.prototype.hasOwnProperty.call(e,l)&&!(t&&Object.prototype.hasOwnProperty.call(t,l))){var o=e[l],d="string";typeof o=="number"?(d="float",o=String(o)):o===!0||o===!1?(d="boolean",o=o?"1":"0"):o instanceof Date?(d="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Re(_2(l),o,{"dt:dt":d}))}}),"<"+r+' xmlns="'+tr.o+'">'+i.join("")+"</"+r+">"}function SF(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var l=r/Math.pow(2,32)|0;l>0&&(r=r%Math.pow(2,32),i+=l);var o=ge(8);return o.write_shift(4,r),o.write_shift(4,i),o}function j2(t,e){var n=ge(4),r=ge(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=ge(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=SF(e);break;case 31:case 80:for(r=ge(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return pn([n,r])}var CE=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function EF(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function O2(t,e,n){var r=ge(8),i=[],l=[],o=8,d=0,p=ge(8),f=ge(8);if(p.write_shift(4,2),p.write_shift(4,1200),f.write_shift(4,1),l.push(p),i.push(f),o+=8+p.length,!e){f=ge(8),f.write_shift(4,0),i.unshift(f);var m=[ge(4)];for(m[0].write_shift(4,t.length),d=0;d<t.length;++d){var v=t[d][0];for(p=ge(8+2*(v.length+1)+(v.length%2?0:2)),p.write_shift(4,d+2),p.write_shift(4,v.length+1),p.write_shift(0,v,"dbcs");p.l!=p.length;)p.write_shift(1,0);m.push(p)}p=pn(m),l.unshift(p),o+=8+p.length}for(d=0;d<t.length;++d)if(!(e&&!e[t[d][0]])&&!(CE.indexOf(t[d][0])>-1||NE.indexOf(t[d][0])>-1)&&t[d][1]!=null){var b=t[d][1],E=0;if(e){E=+e[t[d][0]];var T=n[E];if(T.p=="version"&&typeof b=="string"){var _=b.split(".");b=(+_[0]<<16)+(+_[1]||0)}p=j2(T.t,b)}else{var w=EF(b);w==-1&&(w=31,b=String(b)),p=j2(w,b)}l.push(p),f=ge(8),f.write_shift(4,e?E:2+d),i.push(f),o+=8+p.length}var A=8*(l.length+1);for(d=0;d<l.length;++d)i[d].write_shift(4,A),A+=l[d].length;return r.write_shift(4,o),r.write_shift(4,l.length),pn([r].concat(i).concat(l))}function U2(t,e,n,r,i,l){var o=ge(i?68:48),d=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Nt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var p=O2(t,n,r);if(d.push(p),i){var f=O2(i,null,null);o.write_shift(16,l,"hex"),o.write_shift(4,68+p.length),d.push(f)}return pn(d)}function _F(t,e){e||(e=ge(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function TF(t,e){return t.read_shift(e)===1}function kn(t,e){return e||(e=ge(2)),e.write_shift(2,+!!t),e}function RE(t){return t.read_shift(2,"u")}function br(t,e){return e||(e=ge(2)),e.write_shift(2,t),e}function ME(t,e,n){return n||(n=ge(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function DE(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var l=t.read_shift(1);l&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?t.read_shift(r,i):"";return o}function wF(t){var e=t.t||"",n=ge(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=ge(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return pn(i)}function NF(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function AF(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):NF(t,r,n)}function kF(t,e,n){if(n.biff>5)return AF(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function IE(t,e,n){return n||(n=ge(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function B2(t,e){e||(e=ge(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function CF(t){var e=ge(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),l=i>-1?31:23;switch(r.charAt(0)){case"#":l=28;break;case".":l&=-3;break}e.write_shift(4,2),e.write_shift(4,l);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)e.write_shift(4,o[n]);if(l==28)r=r.slice(1),B2(r,e);else if(l&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));var d=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(d.length+1)),n=0;n<d.length;++n)e.write_shift(2,d.charCodeAt(n));e.write_shift(2,0),l&8&&B2(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));for(var p=0;r.slice(p*3,p*3+3)=="../"||r.slice(p*3,p*3+3)=="..\\";)++p;for(e.write_shift(2,p),e.write_shift(4,r.length-3*p+1),n=0;n<r.length-3*p;++n)e.write_shift(1,r.charCodeAt(n+3*p)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Ji(t,e,n,r){return r||(r=ge(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function RF(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),l=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,l,o]}function MF(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function FE(t,e){return e||(e=ge(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Yp(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var l=ge(i);return l.write_shift(2,r),l.write_shift(2,e),i>4&&l.write_shift(2,29282),i>6&&l.write_shift(2,1997),i>8&&(l.write_shift(2,49161),l.write_shift(2,1),l.write_shift(2,1798),l.write_shift(2,0)),l}function DF(t,e){var n=!e||e.biff==8,r=ge(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function IF(t,e){var n=!e||e.biff>=8?2:1,r=ge(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function FF(t,e){var n=ge(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=wF(t[i]);var l=pn([n].concat(r));return l.parts=[n.length].concat(r.map(function(o){return o.length})),l}function LF(){var t=ge(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function PF(t){var e=ge(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function jF(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,l=ge(i);return l.write_shift(2,t.sz*20),l.write_shift(4,0),l.write_shift(2,400),l.write_shift(4,0),l.write_shift(2,0),l.write_shift(1,n.length),r||l.write_shift(1,1),l.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),l}function OF(t,e,n,r){var i=ge(10);return Ji(t,e,r,i),i.write_shift(4,n),i}function UF(t,e,n,r,i){var l=!i||i.biff==8,o=ge(8+ +l+(1+l)*n.length);return Ji(t,e,r,o),o.write_shift(2,n.length),l&&o.write_shift(1,1),o.write_shift((1+l)*n.length,n,l?"utf16le":"sbcs"),o}function BF(t,e,n,r){var i=n&&n.biff==5;r||(r=ge(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var l=r.length>r.l?r.slice(0,r.l):r;return l.l==null&&(l.l=l.length),l}function zF(t,e){var n=e.biff==8||!e.biff?4:2,r=ge(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function z2(t,e,n,r){var i=n&&n.biff==5;r||(r=ge(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var l=0;return t.numFmtId>0&&i&&(l|=1024),r.write_shift(4,l),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function HF(t){var e=ge(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function GF(t,e,n,r,i,l){var o=ge(8);return Ji(t,e,r,o),ME(n,l,o),o}function VF(t,e,n,r){var i=ge(14);return Ji(t,e,r,i),Yi(n,i),i}function qF(t,e,n){if(n.biff<8)return $F(t,e,n);for(var r=[],i=t.l+e,l=t.read_shift(n.biff>8?4:2);l--!==0;)r.push(RF(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function $F(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=DE(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function YF(t){var e=ge(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)FE(t[n],e);return e}function JF(t){var e=ge(24),n=an(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return pn([e,CF(t[1])])}function XF(t){var e=t[1].Tooltip,n=ge(10+2*(e.length+1));n.write_shift(2,2048);var r=an(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function WF(t){return t||(t=ge(4)),t.write_shift(2,1),t.write_shift(2,1),t}function KF(t,e,n){if(!n.cellStyles)return Kr(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),l=t.read_shift(r),o=t.read_shift(r),d=t.read_shift(r),p=t.read_shift(2);r==2&&(t.l+=2);var f={s:i,e:l,w:o,ixfe:d,flags:p};return(n.biff>=5||!n.biff)&&(f.level=p>>8&7),f}function QF(t,e){var n=ge(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function ZF(t){for(var e=ge(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function eL(t,e,n){var r=ge(15);return Wo(r,t,e),r.write_shift(8,n,"f"),r}function tL(t,e,n){var r=ge(9);return Wo(r,t,e),r.write_shift(2,n),r}var nL=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Pp({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(d,p){var f=[],m=$i(1);switch(p.type){case"base64":m=Fr(Ca(d));break;case"binary":m=Fr(d);break;case"buffer":case"array":m=d;break}er(m,0);var v=m.read_shift(1),b=!!(v&136),E=!1,T=!1;switch(v){case 2:break;case 3:break;case 48:E=!0,b=!0;break;case 49:E=!0,b=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var _=0,w=521;v==2&&(_=m.read_shift(2)),m.l+=3,v!=2&&(_=m.read_shift(4)),_>1048576&&(_=1e6),v!=2&&(w=m.read_shift(2));var A=m.read_shift(2),R=p.codepage||1252;v!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(R=t[m[m.l]]),m.l+=1,m.l+=2),T&&(m.l+=36);for(var k=[],L={},V=Math.min(m.length,v==2?521:w-10-(E?264:0)),te=T?32:11;m.l<V&&m[m.l]!=13;)switch(L={},L.name=ad.utils.decode(R,m.slice(m.l,m.l+te)).replace(/[\u0000\r\n].*$/g,""),m.l+=te,L.type=String.fromCharCode(m.read_shift(1)),v!=2&&!T&&(L.offset=m.read_shift(4)),L.len=m.read_shift(1),v==2&&(L.offset=m.read_shift(2)),L.dec=m.read_shift(1),L.name.length&&k.push(L),v!=2&&(m.l+=T?13:14),L.type){case"B":(!E||L.len!=8)&&p.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":p.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(m[m.l]!==13&&(m.l=w-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=w;var P=0,M=0;for(f[0]=[],M=0;M!=k.length;++M)f[0][M]=k[M].name;for(;_-- >0;){if(m[m.l]===42){m.l+=A;continue}for(++m.l,f[++P]=[],M=0,M=0;M!=k.length;++M){var B=m.slice(m.l,m.l+k[M].len);m.l+=k[M].len,er(B,0);var J=ad.utils.decode(R,B);switch(k[M].type){case"C":J.trim().length&&(f[P][M]=J.replace(/\s+$/,""));break;case"D":J.length===8?f[P][M]=new Date(+J.slice(0,4),+J.slice(4,6)-1,+J.slice(6,8)):f[P][M]=J;break;case"F":f[P][M]=parseFloat(J.trim());break;case"+":case"I":f[P][M]=T?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(J.trim().toUpperCase()){case"Y":case"T":f[P][M]=!0;break;case"N":case"F":f[P][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+J+"|")}break;case"M":if(!b)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));f[P][M]="##MEMO##"+(T?parseInt(J.trim(),10):B.read_shift(4));break;case"N":J=J.replace(/\u0000/g,"").trim(),J&&J!="."&&(f[P][M]=+J||0);break;case"@":f[P][M]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":f[P][M]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":f[P][M]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[P][M]=-B.read_shift(-8,"f");break;case"B":if(E&&k[M].len==8){f[P][M]=B.read_shift(8,"f");break}case"G":case"P":B.l+=k[M].len;break;case"0":if(k[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[M].type)}}}if(v!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return p&&p.sheetRows&&(f=f.slice(0,p.sheetRows)),p.DBF=k,f}function r(d,p){var f=p||{};f.dateNF||(f.dateNF="yyyymmdd");var m=ml(n(d,f),f);return m["!cols"]=f.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete f.DBF,m}function i(d,p){try{return Zi(r(d,p),p)}catch(f){if(p&&p.WTF)throw f}return{SheetNames:[],Sheets:{}}}var l={B:8,C:250,L:1,D:8,"?":0,"":0};function o(d,p){var f=p||{};if(+f.codepage>=0&&Ro(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var m=Bn(),v=xd(d,{header:1,raw:!0,cellDates:!0}),b=v[0],E=v.slice(1),T=d["!cols"]||[],_=0,w=0,A=0,R=1;for(_=0;_<b.length;++_){if(((T[_]||{}).DBF||{}).name){b[_]=T[_].DBF.name,++A;continue}if(b[_]!=null){if(++A,typeof b[_]=="number"&&(b[_]=b[_].toString(10)),typeof b[_]!="string")throw new Error("DBF Invalid column name "+b[_]+" |"+typeof b[_]+"|");if(b.indexOf(b[_])!==_){for(w=0;w<1024;++w)if(b.indexOf(b[_]+"_"+w)==-1){b[_]+="_"+w;break}}}}var k=Ft(d["!ref"]),L=[],V=[],te=[];for(_=0;_<=k.e.c-k.s.c;++_){var P="",M="",B=0,J=[];for(w=0;w<E.length;++w)E[w][_]!=null&&J.push(E[w][_]);if(J.length==0||b[_]==null){L[_]="?";continue}for(w=0;w<J.length;++w){switch(typeof J[w]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=J[w]instanceof Date?"D":"C";break;default:M="C"}B=Math.max(B,String(J[w]).length),P=P&&P!=M?"C":M}B>250&&(B=250),M=((T[_]||{}).DBF||{}).type,M=="C"&&T[_].DBF.len>B&&(B=T[_].DBF.len),P=="B"&&M=="N"&&(P="N",te[_]=T[_].DBF.dec,B=T[_].DBF.len),V[_]=P=="C"||M=="N"?B:l[P]||0,R+=V[_],L[_]=P}var U=m.next(32);for(U.write_shift(4,318902576),U.write_shift(4,E.length),U.write_shift(2,296+32*A),U.write_shift(2,R),_=0;_<4;++_)U.write_shift(4,0);for(U.write_shift(4,0|(+e[PS]||3)<<8),_=0,w=0;_<b.length;++_)if(b[_]!=null){var re=m.next(32),fe=(b[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);re.write_shift(1,fe,"sbcs"),re.write_shift(1,L[_]=="?"?"C":L[_],"sbcs"),re.write_shift(4,w),re.write_shift(1,V[_]||l[L[_]]||0),re.write_shift(1,te[_]||0),re.write_shift(1,2),re.write_shift(4,0),re.write_shift(1,0),re.write_shift(4,0),re.write_shift(4,0),w+=V[_]||l[L[_]]||0}var De=m.next(264);for(De.write_shift(4,13),_=0;_<65;++_)De.write_shift(4,0);for(_=0;_<E.length;++_){var ee=m.next(R);for(ee.write_shift(1,0),w=0;w<b.length;++w)if(b[w]!=null)switch(L[w]){case"L":ee.write_shift(1,E[_][w]==null?63:E[_][w]?84:70);break;case"B":ee.write_shift(8,E[_][w]||0,"f");break;case"N":var Q="0";for(typeof E[_][w]=="number"&&(Q=E[_][w].toFixed(te[w]||0)),A=0;A<V[w]-Q.length;++A)ee.write_shift(1,32);ee.write_shift(1,Q,"sbcs");break;case"D":E[_][w]?(ee.write_shift(4,("0000"+E[_][w].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(E[_][w].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+E[_][w].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var ye=String(E[_][w]!=null?E[_][w]:"").slice(0,V[w]);for(ee.write_shift(1,ye,"sbcs"),A=0;A<V[w]-ye.length;++A)ee.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),rL=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+xn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(b,E){var T=t[E];return typeof T=="number"?d2(T):T},r=function(b,E,T){var _=E.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return _==59?b:d2(_)};t["|"]=254;function i(b,E){switch(E.type){case"base64":return l(Ca(b),E);case"binary":return l(b,E);case"buffer":return l(ht&&Buffer.isBuffer(b)?b.toString("binary"):qo(b),E);case"array":return l(Ld(b),E)}throw new Error("Unrecognized type "+E.type)}function l(b,E){var T=b.split(/[\n\r]+/),_=-1,w=-1,A=0,R=0,k=[],L=[],V=null,te={},P=[],M=[],B=[],J=0,U;for(+E.codepage>=0&&Ro(+E.codepage);A!==T.length;++A){J=0;var re=T[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),fe=re.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),De=fe[0],ee;if(re.length>0)switch(De){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":fe[1].charAt(0)=="P"&&L.push(re.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,ye=!1,de=!1,ke=!1,me=-1,q=-1;for(R=1;R<fe.length;++R)switch(fe[R].charAt(0)){case"A":break;case"X":w=parseInt(fe[R].slice(1))-1,ye=!0;break;case"Y":for(_=parseInt(fe[R].slice(1))-1,ye||(w=0),U=k.length;U<=_;++U)k[U]=[];break;case"K":ee=fe[R].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(Ta(ee))?isNaN(Do(ee).getDate())||(ee=Rn(ee)):(ee=Ta(ee),V!==null&&JS(V)&&(ee=QS(ee))),Q=!0;break;case"E":ke=!0;var F=tP(fe[R].slice(1),{r:_,c:w});k[_][w]=[k[_][w],F];break;case"S":de=!0,k[_][w]=[k[_][w],"S5S"];break;case"G":break;case"R":me=parseInt(fe[R].slice(1))-1;break;case"C":q=parseInt(fe[R].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+re)}if(Q&&(k[_][w]&&k[_][w].length==2?k[_][w][0]=ee:k[_][w]=ee,V=null),de){if(ke)throw new Error("SYLK shared formula cannot have own formula");var K=me>-1&&k[me][q];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");k[_][w][1]=nP(K[1],{r:_-me,c:w-q})}break;case"F":var Y=0;for(R=1;R<fe.length;++R)switch(fe[R].charAt(0)){case"X":w=parseInt(fe[R].slice(1))-1,++Y;break;case"Y":for(_=parseInt(fe[R].slice(1))-1,U=k.length;U<=_;++U)k[U]=[];break;case"M":J=parseInt(fe[R].slice(1))/20;break;case"F":break;case"G":break;case"P":V=L[parseInt(fe[R].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=fe[R].slice(1).split(" "),U=parseInt(B[0],10);U<=parseInt(B[1],10);++U)J=parseInt(B[2],10),M[U-1]=J===0?{hidden:!0}:{wch:J},Jp(M[U-1]);break;case"C":w=parseInt(fe[R].slice(1))-1,M[w]||(M[w]={});break;case"R":_=parseInt(fe[R].slice(1))-1,P[_]||(P[_]={}),J>0?(P[_].hpt=J,P[_].hpx=UE(J)):J===0&&(P[_].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+re)}Y<1&&(V=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+re)}}return P.length>0&&(te["!rows"]=P),M.length>0&&(te["!cols"]=M),E&&E.sheetRows&&(k=k.slice(0,E.sheetRows)),[k,te]}function o(b,E){var T=i(b,E),_=T[0],w=T[1],A=ml(_,E);return xn(w).forEach(function(R){A[R]=w[R]}),A}function d(b,E){return Zi(o(b,E),E)}function p(b,E,T,_){var w="C;Y"+(T+1)+";X"+(_+1)+";K";switch(b.t){case"n":w+=b.v||0,b.f&&!b.F&&(w+=";E"+Wp(b.f,{r:T,c:_}));break;case"b":w+=b.v?"TRUE":"FALSE";break;case"e":w+=b.w||b.v;break;case"d":w+='"'+(b.w||b.v)+'"';break;case"s":w+='"'+b.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(b,E){E.forEach(function(T,_){var w="F;W"+(_+1)+" "+(_+1)+" ";T.hidden?w+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=hd(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=pd(T.wpx)),typeof T.wch=="number"&&(w+=Math.round(T.wch))),w.charAt(w.length-1)!=" "&&b.push(w)})}function m(b,E){E.forEach(function(T,_){var w="F;";T.hidden?w+="M0;":T.hpt?w+="M"+20*T.hpt+";":T.hpx&&(w+="M"+20*md(T.hpx)+";"),w.length>2&&b.push(w+"R"+(_+1))})}function v(b,E){var T=["ID;PWXL;N;E"],_=[],w=Ft(b["!ref"]),A,R=Array.isArray(b),k=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),b["!cols"]&&f(T,b["!cols"]),b["!rows"]&&m(T,b["!rows"]),T.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var L=w.s.r;L<=w.e.r;++L)for(var V=w.s.c;V<=w.e.c;++V){var te=Et({r:L,c:V});A=R?(b[L]||[])[V]:b[te],!(!A||A.v==null&&(!A.f||A.F))&&_.push(p(A,b,L,V))}return T.join(k)+k+_.join(k)+k+"E"+k}return{to_workbook:d,to_sheet:o,from_sheet:v}})(),aL=(function(){function t(l,o){switch(o.type){case"base64":return e(Ca(l),o);case"binary":return e(l,o);case"buffer":return e(ht&&Buffer.isBuffer(l)?l.toString("binary"):qo(l),o);case"array":return e(Ld(l),o)}throw new Error("Unrecognized type "+o.type)}function e(l,o){for(var d=l.split(`
`),p=-1,f=-1,m=0,v=[];m!==d.length;++m){if(d[m].trim()==="BOT"){v[++p]=[],f=0;continue}if(!(p<0)){var b=d[m].trim().split(","),E=b[0],T=b[1];++m;for(var _=d[m]||"";(_.match(/["]/g)||[]).length&1&&m<d.length-1;)_+=`
`+d[++m];switch(_=_.trim(),+E){case-1:if(_==="BOT"){v[++p]=[],f=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?v[p][f]=!0:_==="FALSE"?v[p][f]=!1:isNaN(Ta(T))?isNaN(Do(T).getDate())?v[p][f]=T:v[p][f]=Rn(T):v[p][f]=Ta(T),++f;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),v[p][f++]=_!==""?_:null;break}if(_==="EOD")break}}return o&&o.sheetRows&&(v=v.slice(0,o.sheetRows)),v}function n(l,o){return ml(t(l,o),o)}function r(l,o){return Zi(n(l,o),o)}var i=(function(){var l=function(p,f,m,v,b){p.push(f),p.push(m+","+v),p.push('"'+b.replace(/"/g,'""')+'"')},o=function(p,f,m,v){p.push(f+","+m),p.push(f==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(p){var f=[],m=Ft(p["!ref"]),v,b=Array.isArray(p);l(f,"TABLE",0,1,"sheetjs"),l(f,"VECTORS",0,m.e.r-m.s.r+1,""),l(f,"TUPLES",0,m.e.c-m.s.c+1,""),l(f,"DATA",0,0,"");for(var E=m.s.r;E<=m.e.r;++E){o(f,-1,0,"BOT");for(var T=m.s.c;T<=m.e.c;++T){var _=Et({r:E,c:T});if(v=b?(p[E]||[])[T]:p[_],!v){o(f,1,0,"");continue}switch(v.t){case"n":var w=v.w;!w&&v.v!=null&&(w=v.v),w==null?v.f&&!v.F?o(f,1,0,"="+v.f):o(f,1,0,""):o(f,0,w,"V");break;case"b":o(f,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=fi(v.z||Gt[14],Hn(Rn(v.v)))),o(f,0,v.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var A=`\r
`,R=f.join(A);return R}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),LE=(function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(v,b){for(var E=v.split(`
`),T=-1,_=-1,w=0,A=[];w!==E.length;++w){var R=E[w].trim().split(":");if(R[0]==="cell"){var k=an(R[1]);if(A.length<=k.r)for(T=A.length;T<=k.r;++T)A[T]||(A[T]=[]);switch(T=k.r,_=k.c,R[2]){case"t":A[T][_]=t(R[3]);break;case"v":A[T][_]=+R[3];break;case"vtf":var L=R[R.length-1];case"vtc":switch(R[3]){case"nl":A[T][_]=!!+R[4];break;default:A[T][_]=+R[4];break}R[2]=="vtf"&&(A[T][_]=[A[T][_],L])}}}return b&&b.sheetRows&&(A=A.slice(0,b.sheetRows)),A}function r(v,b){return ml(n(v,b),b)}function i(v,b){return Zi(r(v,b),b)}var l=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),p="--SocialCalcSpreadsheetControlSave--";function f(v){if(!v||!v["!ref"])return"";for(var b=[],E=[],T,_="",w=ar(v["!ref"]),A=Array.isArray(v),R=w.s.r;R<=w.e.r;++R)for(var k=w.s.c;k<=w.e.c;++k)if(_=Et({r:R,c:k}),T=A?(v[R]||[])[k]:v[_],!(!T||T.v==null||T.t==="z")){switch(E=["cell",_,"t"],T.t){case"s":case"str":E.push(e(T.v));break;case"n":T.f?(E[2]="vtf",E[3]="n",E[4]=T.v,E[5]=e(T.f)):(E[2]="v",E[3]=T.v);break;case"b":E[2]="vt"+(T.f?"f":"c"),E[3]="nl",E[4]=T.v?"1":"0",E[5]=e(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var L=Hn(Rn(T.v));E[2]="vtc",E[3]="nd",E[4]=""+L,E[5]=T.w||fi(T.z||Gt[14],L);break;case"e":continue}b.push(E.join(":"))}return b.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),b.push("valueformat:1:text-wiki"),b.join(`
`)}function m(v){return[l,o,d,o,f(v),p].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:m}})(),iL=(function(){function t(m,v,b,E,T){T.raw?v[b][E]=m:m===""||(m==="TRUE"?v[b][E]=!0:m==="FALSE"?v[b][E]=!1:isNaN(Ta(m))?isNaN(Do(m).getDate())?v[b][E]=m:v[b][E]=Rn(m):v[b][E]=Ta(m))}function e(m,v){var b=v||{},E=[];if(!m||m.length===0)return E;for(var T=m.split(/[\r\n]/),_=T.length-1;_>=0&&T[_].length===0;)--_;for(var w=10,A=0,R=0;R<=_;++R)A=T[R].indexOf(" "),A==-1?A=T[R].length:A++,w=Math.max(w,A);for(R=0;R<=_;++R){E[R]=[];var k=0;for(t(T[R].slice(0,w).trim(),E,R,k,b),k=1;k<=(T[R].length-w)/10+1;++k)t(T[R].slice(w+(k-1)*10,w+k*10).trim(),E,R,k,b)}return b.sheetRows&&(E=E.slice(0,b.sheetRows)),E}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(m){for(var v={},b=!1,E=0,T=0;E<m.length;++E)(T=m.charCodeAt(E))==34?b=!b:!b&&T in n&&(v[T]=(v[T]||0)+1);T=[];for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&T.push([v[E],E]);if(!T.length){v=r;for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&T.push([v[E],E])}return T.sort(function(_,w){return _[0]-w[0]||r[_[1]]-r[w[1]]}),n[T.pop()[1]]||44}function l(m,v){var b=v||{},E="",T=b.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(E=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(E=m.charAt(4),m=m.slice(6)):E=i(m.slice(0,1024)):b&&b.FS?E=b.FS:E=i(m.slice(0,1024));var w=0,A=0,R=0,k=0,L=0,V=E.charCodeAt(0),te=!1,P=0,M=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var B=b.dateNF!=null?SI(b.dateNF):null;function J(){var U=m.slice(k,L),re={};if(U.charAt(0)=='"'&&U.charAt(U.length-1)=='"'&&(U=U.slice(1,-1).replace(/""/g,'"')),U.length===0)re.t="z";else if(b.raw)re.t="s",re.v=U;else if(U.trim().length===0)re.t="s",re.v=U;else if(U.charCodeAt(0)==61)U.charCodeAt(1)==34&&U.charCodeAt(U.length-1)==34?(re.t="s",re.v=U.slice(2,-1).replace(/""/g,'"')):rP(U)?(re.t="n",re.f=U.slice(1)):(re.t="s",re.v=U);else if(U=="TRUE")re.t="b",re.v=!0;else if(U=="FALSE")re.t="b",re.v=!1;else if(!isNaN(R=Ta(U)))re.t="n",b.cellText!==!1&&(re.w=U),re.v=R;else if(!isNaN(Do(U).getDate())||B&&U.match(B)){re.z=b.dateNF||Gt[14];var fe=0;B&&U.match(B)&&(U=EI(U,b.dateNF,U.match(B)||[]),fe=1),b.cellDates?(re.t="d",re.v=Rn(U,fe)):(re.t="n",re.v=Hn(Rn(U,fe))),b.cellText!==!1&&(re.w=fi(re.z,re.v instanceof Date?Hn(re.v):re.v)),b.cellNF||delete re.z}else re.t="s",re.v=U;if(re.t=="z"||(b.dense?(T[w]||(T[w]=[]),T[w][A]=re):T[Et({c:A,r:w})]=re),k=L+1,M=m.charCodeAt(k),_.e.c<A&&(_.e.c=A),_.e.r<w&&(_.e.r=w),P==V)++A;else if(A=0,++w,b.sheetRows&&b.sheetRows<=w)return!0}e:for(;L<m.length;++L)switch(P=m.charCodeAt(L)){case 34:M===34&&(te=!te);break;case V:case 10:case 13:if(!te&&J())break e;break}return L-k>0&&J(),T["!ref"]=Kt(_),T}function o(m,v){return!(v&&v.PRN)||v.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?l(m,v):ml(e(m,v),v)}function d(m,v){var b="",E=v.type=="string"?[0,0,0,0]:xU(m,v);switch(v.type){case"base64":b=Ca(m);break;case"binary":b=m;break;case"buffer":v.codepage==65001?b=m.toString("utf8"):v.codepage&&typeof ad<"u"||(b=ht&&Buffer.isBuffer(m)?m.toString("binary"):qo(m));break;case"array":b=Ld(m);break;case"string":b=m;break;default:throw new Error("Unrecognized type "+v.type)}return E[0]==239&&E[1]==187&&E[2]==191?b=To(b.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?b=To(b):v.type=="binary"&&typeof ad<"u",b.slice(0,19)=="socialcalc:version:"?LE.to_sheet(v.type=="string"?b:To(b),v):o(b,v)}function p(m,v){return Zi(d(m,v),v)}function f(m){for(var v=[],b=Ft(m["!ref"]),E,T=Array.isArray(m),_=b.s.r;_<=b.e.r;++_){for(var w=[],A=b.s.c;A<=b.e.c;++A){var R=Et({r:_,c:A});if(E=T?(m[_]||[])[A]:m[R],!E||E.v==null){w.push("          ");continue}for(var k=(E.w||(Ra(E),E.w)||"").slice(0,10);k.length<10;)k+=" ";w.push(k+(A===0?" ":""))}v.push(w.join(""))}return v.join(`
`)}return{to_workbook:p,to_sheet:d,from_sheet:f}})(),H2=(function(){function t(F,K,Y){if(F){er(F,F.l||0);for(var W=Y.Enum||me;F.l<F.length;){var he=F.read_shift(2),Ae=W[he]||W[65535],ze=F.read_shift(2),Ie=F.l+ze,je=Ae.f&&Ae.f(F,ze,Y);if(F.l=Ie,K(je,Ae,he))return}}}function e(F,K){switch(K.type){case"base64":return n(Fr(Ca(F)),K);case"binary":return n(Fr(F),K);case"buffer":case"array":return n(F,K)}throw"Unsupported type "+K.type}function n(F,K){if(!F)return F;var Y=K||{},W=Y.dense?[]:{},he="Sheet1",Ae="",ze=0,Ie={},je=[],lt=[],et={s:{r:0,c:0},e:{r:0,c:0}},tn=Y.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)Y.Enum=me,t(F,function(He,_n,qn){switch(qn){case 0:Y.vers=He,He>=4096&&(Y.qpro=!0);break;case 6:et=He;break;case 204:He&&(Ae=He);break;case 222:Ae=He;break;case 15:case 51:Y.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:qn==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=Y.dateNF||Gt[14],Y.cellDates&&(He[1].t="d",He[1].v=QS(He[1].v))),Y.qpro&&He[3]>ze&&(W["!ref"]=Kt(et),Ie[he]=W,je.push(he),W=Y.dense?[]:{},et={s:{r:0,c:0},e:{r:0,c:0}},ze=He[3],he=Ae||"Sheet"+(ze+1),Ae="");var Nr=Y.dense?(W[He[0].r]||[])[He[0].c]:W[Et(He[0])];if(Nr){Nr.t=He[1].t,Nr.v=He[1].v,He[1].z!=null&&(Nr.z=He[1].z),He[1].f!=null&&(Nr.f=He[1].f);break}Y.dense?(W[He[0].r]||(W[He[0].r]=[]),W[He[0].r][He[0].c]=He[1]):W[Et(He[0])]=He[1];break}},Y);else if(F[2]==26||F[2]==14)Y.Enum=q,F[2]==14&&(Y.qpro=!0,F.l=0),t(F,function(He,_n,qn){switch(qn){case 204:he=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>ze&&(W["!ref"]=Kt(et),Ie[he]=W,je.push(he),W=Y.dense?[]:{},et={s:{r:0,c:0},e:{r:0,c:0}},ze=He[3],he="Sheet"+(ze+1)),tn>0&&He[0].r>=tn)break;Y.dense?(W[He[0].r]||(W[He[0].r]=[]),W[He[0].r][He[0].c]=He[1]):W[Et(He[0])]=He[1],et.e.c<He[0].c&&(et.e.c=He[0].c),et.e.r<He[0].r&&(et.e.r=He[0].r);break;case 27:He[14e3]&&(lt[He[14e3][0]]=He[14e3][1]);break;case 1537:lt[He[0]]=He[1],He[0]==ze&&(he=He[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(W["!ref"]=Kt(et),Ie[Ae||he]=W,je.push(Ae||he),!lt.length)return{SheetNames:je,Sheets:Ie};for(var Ze={},Vn=[],Ct=0;Ct<lt.length;++Ct)Ie[je[Ct]]?(Vn.push(lt[Ct]||je[Ct]),Ze[lt[Ct]]=Ie[lt[Ct]]||Ie[je[Ct]]):(Vn.push(lt[Ct]),Ze[lt[Ct]]={"!ref":"A1"});return{SheetNames:Vn,Sheets:Ze}}function r(F,K){var Y=K||{};if(+Y.codepage>=0&&Ro(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var W=Bn(),he=Ft(F["!ref"]),Ae=Array.isArray(F),ze=[];Me(W,0,l(1030)),Me(W,6,p(he));for(var Ie=Math.min(he.e.r,8191),je=he.s.r;je<=Ie;++je)for(var lt=gn(je),et=he.s.c;et<=he.e.c;++et){je===he.s.r&&(ze[et]=Sn(et));var tn=ze[et]+lt,Ze=Ae?(F[je]||[])[et]:F[tn];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")(Ze.v|0)==Ze.v&&Ze.v>=-32768&&Ze.v<=32767?Me(W,13,E(je,et,Ze.v)):Me(W,14,_(je,et,Ze.v));else{var Vn=Ra(Ze);Me(W,15,v(je,et,Vn.slice(0,239)))}}return Me(W,1),W.end()}function i(F,K){var Y=K||{};if(+Y.codepage>=0&&Ro(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var W=Bn();Me(W,0,o(F));for(var he=0,Ae=0;he<F.SheetNames.length;++he)(F.Sheets[F.SheetNames[he]]||{})["!ref"]&&Me(W,27,ke(F.SheetNames[he],Ae++));var ze=0;for(he=0;he<F.SheetNames.length;++he){var Ie=F.Sheets[F.SheetNames[he]];if(!(!Ie||!Ie["!ref"])){for(var je=Ft(Ie["!ref"]),lt=Array.isArray(Ie),et=[],tn=Math.min(je.e.r,8191),Ze=je.s.r;Ze<=tn;++Ze)for(var Vn=gn(Ze),Ct=je.s.c;Ct<=je.e.c;++Ct){Ze===je.s.r&&(et[Ct]=Sn(Ct));var He=et[Ct]+Vn,_n=lt?(Ie[Ze]||[])[Ct]:Ie[He];if(!(!_n||_n.t=="z"))if(_n.t=="n")Me(W,23,J(Ze,Ct,ze,_n.v));else{var qn=Ra(_n);Me(W,22,P(Ze,Ct,ze,qn.slice(0,239)))}}++ze}}return Me(W,1),W.end()}function l(F){var K=ge(2);return K.write_shift(2,F),K}function o(F){var K=ge(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var Y=0,W=0,he=0,Ae=0;Ae<F.SheetNames.length;++Ae){var ze=F.SheetNames[Ae],Ie=F.Sheets[ze];if(!(!Ie||!Ie["!ref"])){++he;var je=ar(Ie["!ref"]);Y<je.e.r&&(Y=je.e.r),W<je.e.c&&(W=je.e.c)}}return Y>8191&&(Y=8191),K.write_shift(2,Y),K.write_shift(1,he),K.write_shift(1,W),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function d(F,K,Y){var W={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&Y.qpro?(W.s.c=F.read_shift(1),F.l++,W.s.r=F.read_shift(2),W.e.c=F.read_shift(1),F.l++,W.e.r=F.read_shift(2),W):(W.s.c=F.read_shift(2),W.s.r=F.read_shift(2),K==12&&Y.qpro&&(F.l+=2),W.e.c=F.read_shift(2),W.e.r=F.read_shift(2),K==12&&Y.qpro&&(F.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function p(F){var K=ge(8);return K.write_shift(2,F.s.c),K.write_shift(2,F.s.r),K.write_shift(2,F.e.c),K.write_shift(2,F.e.r),K}function f(F,K,Y){var W=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(W[0].c=F.read_shift(1),W[3]=F.read_shift(1),W[0].r=F.read_shift(2),F.l+=2):(W[2]=F.read_shift(1),W[0].c=F.read_shift(2),W[0].r=F.read_shift(2)),W}function m(F,K,Y){var W=F.l+K,he=f(F,K,Y);if(he[1].t="s",Y.vers==20768){F.l++;var Ae=F.read_shift(1);return he[1].v=F.read_shift(Ae,"utf8"),he}return Y.qpro&&F.l++,he[1].v=F.read_shift(W-F.l,"cstr"),he}function v(F,K,Y){var W=ge(7+Y.length);W.write_shift(1,255),W.write_shift(2,K),W.write_shift(2,F),W.write_shift(1,39);for(var he=0;he<W.length;++he){var Ae=Y.charCodeAt(he);W.write_shift(1,Ae>=128?95:Ae)}return W.write_shift(1,0),W}function b(F,K,Y){var W=f(F,K,Y);return W[1].v=F.read_shift(2,"i"),W}function E(F,K,Y){var W=ge(7);return W.write_shift(1,255),W.write_shift(2,K),W.write_shift(2,F),W.write_shift(2,Y,"i"),W}function T(F,K,Y){var W=f(F,K,Y);return W[1].v=F.read_shift(8,"f"),W}function _(F,K,Y){var W=ge(13);return W.write_shift(1,255),W.write_shift(2,K),W.write_shift(2,F),W.write_shift(8,Y,"f"),W}function w(F,K,Y){var W=F.l+K,he=f(F,K,Y);if(he[1].v=F.read_shift(8,"f"),Y.qpro)F.l=W;else{var Ae=F.read_shift(2);L(F.slice(F.l,F.l+Ae),he),F.l+=Ae}return he}function A(F,K,Y){var W=K&32768;return K&=-32769,K=(W?F:0)+(K>=8192?K-16384:K),(W?"":"$")+(Y?Sn(K):gn(K))}var R={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(F,K){er(F,0);for(var Y=[],W=0,he="",Ae="",ze="",Ie="";F.l<F.length;){var je=F[F.l++];switch(je){case 0:Y.push(F.read_shift(8,"f"));break;case 1:Ae=A(K[0].c,F.read_shift(2),!0),he=A(K[0].r,F.read_shift(2),!1),Y.push(Ae+he);break;case 2:{var lt=A(K[0].c,F.read_shift(2),!0),et=A(K[0].r,F.read_shift(2),!1);Ae=A(K[0].c,F.read_shift(2),!0),he=A(K[0].r,F.read_shift(2),!1),Y.push(lt+et+":"+Ae+he)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(F.read_shift(2));break;case 6:{for(var tn="";je=F[F.l++];)tn+=String.fromCharCode(je);Y.push('"'+tn.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:Ie=Y.pop(),ze=Y.pop(),Y.push(["AND","OR"][je-20]+"("+ze+","+Ie+")");break;default:if(je<32&&k[je])Ie=Y.pop(),ze=Y.pop(),Y.push(ze+k[je]+Ie);else if(R[je]){if(W=R[je][1],W==69&&(W=F[F.l++]),W>Y.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+Y.join("|")+"|");return}var Ze=Y.slice(-W);Y.length-=W,Y.push(R[je][0]+"("+Ze.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}Y.length==1?K[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function V(F){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=F.read_shift(2),K[3]=F[F.l++],K[0].c=F[F.l++],K}function te(F,K){var Y=V(F);return Y[1].t="s",Y[1].v=F.read_shift(K-4,"cstr"),Y}function P(F,K,Y,W){var he=ge(6+W.length);he.write_shift(2,F),he.write_shift(1,Y),he.write_shift(1,K),he.write_shift(1,39);for(var Ae=0;Ae<W.length;++Ae){var ze=W.charCodeAt(Ae);he.write_shift(1,ze>=128?95:ze)}return he.write_shift(1,0),he}function M(F,K){var Y=V(F);Y[1].v=F.read_shift(2);var W=Y[1].v>>1;if(Y[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return Y[1].v=W,Y}function B(F,K){var Y=V(F),W=F.read_shift(4),he=F.read_shift(4),Ae=F.read_shift(2);if(Ae==65535)return W===0&&he===3221225472?(Y[1].t="e",Y[1].v=15):W===0&&he===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var ze=Ae&32768;return Ae=(Ae&32767)-16446,Y[1].v=(1-ze*2)*(he*Math.pow(2,Ae+32)+W*Math.pow(2,Ae)),Y}function J(F,K,Y,W){var he=ge(14);if(he.write_shift(2,F),he.write_shift(1,Y),he.write_shift(1,K),W==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var Ae=0,ze=0,Ie=0,je=0;return W<0&&(Ae=1,W=-W),ze=Math.log2(W)|0,W/=Math.pow(2,ze-31),je=W>>>0,(je&2147483648)==0&&(W/=2,++ze,je=W>>>0),W-=je,je|=2147483648,je>>>=0,W*=Math.pow(2,32),Ie=W>>>0,he.write_shift(4,Ie),he.write_shift(4,je),ze+=16383+(Ae?32768:0),he.write_shift(2,ze),he}function U(F,K){var Y=B(F);return F.l+=K-14,Y}function re(F,K){var Y=V(F),W=F.read_shift(4);return Y[1].v=W>>6,Y}function fe(F,K){var Y=V(F),W=F.read_shift(8,"f");return Y[1].v=W,Y}function De(F,K){var Y=fe(F);return F.l+=K-10,Y}function ee(F,K){return F[F.l+K-1]==0?F.read_shift(K,"cstr"):""}function Q(F,K){var Y=F[F.l++];Y>K-1&&(Y=K-1);for(var W="";W.length<Y;)W+=String.fromCharCode(F[F.l++]);return W}function ye(F,K,Y){if(!(!Y.qpro||K<21)){var W=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var he=F.read_shift(K-21,"cstr");return[W,he]}}function de(F,K){for(var Y={},W=F.l+K;F.l<W;){var he=F.read_shift(2);if(he==14e3){for(Y[he]=[0,""],Y[he][0]=F.read_shift(2);F[F.l];)Y[he][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return Y}function ke(F,K){var Y=ge(5+F.length);Y.write_shift(2,14e3),Y.write_shift(2,K);for(var W=0;W<F.length;++W){var he=F.charCodeAt(W);Y[Y.l++]=he>127?95:he}return Y[Y.l++]=0,Y}var me={0:{n:"BOF",f:RE},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:b},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:te},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:U},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:de},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:re},38:{n:"??"},39:{n:"NUMBER27",f:fe},40:{n:"FORMULA28",f:De},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ye},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),sL=/^\s|\s$|[\t\n\r]/;function PE(t,e){if(!e.bookSST)return"";var n=[Qt];n[n.length]=Re("sst",null,{xmlns:pl[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],l="<si>";i.r?l+=i.r:(l+="<t",i.t||(i.t=""),i.t.match(sL)&&(l+=' xml:space="preserve"'),l+=">"+St(i.t)+"</t>"),l+="</si>",n[n.length]=l}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function lL(t){return[t.read_shift(4),t.read_shift(4)]}function oL(t,e){return e||(e=ge(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var cL=ZI;function uL(t){var e=Bn();Ee(e,159,oL(t));for(var n=0;n<t.length;++n)Ee(e,19,cL(t[n]));return Ee(e,160),e.end()}function dL(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function jE(t){var e=0,n,r=dL(t),i=r.length+1,l,o,d,p,f;for(n=$i(i),n[0]=r.length,l=1;l!=i;++l)n[l]=r[l-1];for(l=i-1;l>=0;--l)o=n[l],d=(e&16384)===0?0:1,p=e<<1&32767,f=d|p,e=f^o;return e^52811}var fL=(function(){function t(i,l){switch(l.type){case"base64":return e(Ca(i),l);case"binary":return e(i,l);case"buffer":return e(ht&&Buffer.isBuffer(i)?i.toString("binary"):qo(i),l);case"array":return e(Ld(i),l)}throw new Error("Unrecognized type "+l.type)}function e(i,l){var o=l||{},d=o.dense?[]:{},p=i.match(/\\trowd.*?\\row\b/g);if(!p.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:p.length-1}};return p.forEach(function(m,v){Array.isArray(d)&&(d[v]=[]);for(var b=/\\\w+\b/g,E=0,T,_=-1;T=b.exec(m);){switch(T[0]){case"\\cell":var w=m.slice(E,b.lastIndex-T[0].length);if(w[0]==" "&&(w=w.slice(1)),++_,w.length){var A={v:w,t:"s"};Array.isArray(d)?d[v][_]=A:d[Et({r:v,c:_})]=A}break}E=b.lastIndex}_>f.e.c&&(f.e.c=_)}),d["!ref"]=Kt(f),d}function n(i,l){return Zi(t(i,l),l)}function r(i){for(var l=["{\\rtf1\\ansi"],o=Ft(i["!ref"]),d,p=Array.isArray(i),f=o.s.r;f<=o.e.r;++f){l.push("\\trowd\\trautofit1");for(var m=o.s.c;m<=o.e.c;++m)l.push("\\cellx"+(m+1));for(l.push("\\pard\\intbl"),m=o.s.c;m<=o.e.c;++m){var v=Et({r:f,c:m});d=p?(i[f]||[])[m]:i[v],!(!d||d.v==null&&(!d.f||d.F))&&(l.push(" "+(d.w||(Ra(d),d.w))),l.push("\\cell"))}l.push("\\pard\\intbl\\row")}return l.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function G2(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var hL=6,wa=hL;function hd(t){return Math.floor((t+Math.round(128/wa)/256)*wa)}function pd(t){return Math.floor((t-5)/wa*100+.5)/100}function ap(t){return Math.round((t*wa+5)/wa*256)/256}function Jp(t){t.width?(t.wpx=hd(t.width),t.wch=pd(t.wpx),t.MDW=wa):t.wpx?(t.wch=pd(t.wpx),t.width=ap(t.wch),t.MDW=wa):typeof t.wch=="number"&&(t.width=ap(t.wch),t.wpx=hd(t.width),t.MDW=wa),t.customWidth&&delete t.customWidth}var pL=96,OE=pL;function md(t){return t*96/OE}function UE(t){return t*OE/96}function mL(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Re("numFmt",null,{numFmtId:r,formatCode:St(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Re("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function gL(t){var e=[];return e[e.length]=Re("cellXfs",null),t.forEach(function(n){e[e.length]=Re("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Re("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function BE(t,e){var n=[Qt,Re("styleSheet",null,{xmlns:pl[0],"xmlns:vt":rn.vt})],r;return t.SSF&&(r=mL(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=gL(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function xL(t,e){var n=t.read_shift(2),r=En(t);return[n,r]}function vL(t,e,n){n||(n=ge(6+4*e.length)),n.write_shift(2,t),sn(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function yL(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=sF(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var l=t.read_shift(2);switch(l===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var d=t.read_shift(1);d>0&&(r.family=d);var p=t.read_shift(1);switch(p>0&&(r.charset=p),t.l++,r.color=iF(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=En(t),r}function bL(t,e){e||(e=ge(153)),e.write_shift(2,t.sz*20),lF(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),dd(t.color,e);var r=0;return r=2,e.write_shift(1,r),sn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var SL=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Nh,EL=Kr;function V2(t,e){e||(e=ge(84)),Nh||(Nh=Pp(SL));var n=Nh[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(dd({auto:1},e),dd({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function _L(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function zE(t,e,n){n||(n=ge(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function yo(t,e){return e||(e=ge(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var TL=Kr;function wL(t,e){return e||(e=ge(51)),e.write_shift(1,0),yo(null,e),yo(null,e),yo(null,e),yo(null,e),yo(null,e),e.length>e.l?e.slice(0,e.l):e}function NL(t,e){return e||(e=ge(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),ud(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function AL(t,e,n){var r=ge(2052);return r.write_shift(4,t),ud(e,r),ud(n,r),r.length>r.l?r.slice(0,r.l):r}function kL(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(Ee(t,615,Ur(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Ee(t,44,vL(i,e[i]))}),Ee(t,616))}}function CL(t){var e=1;Ee(t,611,Ur(e)),Ee(t,43,bL({sz:12,color:{theme:1},name:"Calibri",family:2})),Ee(t,612)}function RL(t){var e=2;Ee(t,603,Ur(e)),Ee(t,45,V2({patternType:"none"})),Ee(t,45,V2({patternType:"gray125"})),Ee(t,604)}function ML(t){var e=1;Ee(t,613,Ur(e)),Ee(t,46,wL()),Ee(t,614)}function DL(t){var e=1;Ee(t,626,Ur(e)),Ee(t,47,zE({numFmtId:0},65535)),Ee(t,627)}function IL(t,e){Ee(t,617,Ur(e.length)),e.forEach(function(n){Ee(t,47,zE(n,0))}),Ee(t,618)}function FL(t){var e=1;Ee(t,619,Ur(e)),Ee(t,48,NL({xfId:0,name:"Normal"})),Ee(t,620)}function LL(t){var e=0;Ee(t,505,Ur(e)),Ee(t,506)}function PL(t){var e=0;Ee(t,508,AL(e,"TableStyleMedium9","PivotStyleMedium4")),Ee(t,509)}function jL(t,e){var n=Bn();return Ee(n,278),kL(n,t.SSF),CL(n),RL(n),ML(n),DL(n),IL(n,e.cellXfs),FL(n),LL(n),PL(n),Ee(n,279),n.end()}function HE(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Qt];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function OL(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:En(t)}}function UL(t){var e=ge(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),sn(t.name,e),e.slice(0,e.l)}function BL(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function zL(t){var e=ge(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function HL(t,e){var n=ge(8+2*e.length);return n.write_shift(4,t),sn(e,n),n.slice(0,n.l)}function GL(t){return t.l+=4,t.read_shift(4)!=0}function VL(t,e){var n=ge(8);return n.write_shift(4,t),n.write_shift(4,1),n}function qL(){var t=Bn();return Ee(t,332),Ee(t,334,Ur(1)),Ee(t,335,UL({name:"XLDAPR",version:12e4,flags:3496657072})),Ee(t,336),Ee(t,339,HL(1,"XLDAPR")),Ee(t,52),Ee(t,35,Ur(514)),Ee(t,4096,Ur(0)),Ee(t,4097,br(1)),Ee(t,36),Ee(t,53),Ee(t,340),Ee(t,337,VL(1)),Ee(t,51,zL([[1,0]])),Ee(t,338),Ee(t,333),t.end()}function GE(){var t=[Qt];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function $L(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Et(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var el=1024;function VE(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Re("xml",null,{"xmlns:v":tr.v,"xmlns:o":tr.o,"xmlns:x":tr.x,"xmlns:mv":tr.mv}).replace(/\/>/,">"),Re("o:shapelayout",Re("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Re("v:shapetype",[Re("v:stroke",null,{joinstyle:"miter"}),Re("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];el<t*1e3;)el+=1e3;return e.forEach(function(l){var o=an(l[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var p=d.type=="gradient"?Re("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Re("v:fill",p,d),m={on:"t",obscured:"t"};++el,i=i.concat(["<v:shape"+Fo({id:"_x0000_s"+el,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(l[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Re("v:shadow",null,m),Re("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",mn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),mn("x:AutoFill","False"),mn("x:Row",String(o.r)),mn("x:Column",String(o.c)),l[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function qE(t){var e=[Qt,Re("comments",null,{xmlns:pl[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var l=St(i.a);n.indexOf(l)==-1&&(n.push(l),e.push("<author>"+l+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,l=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(p){p.a&&(i=n.indexOf(St(p.a))),l.push(p.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),l.length<=1)e.push(mn("t",St(l[0]||"")));else{for(var o=`Comment:
    `+l[0]+`
`,d=1;d<l.length;++d)o+=`Reply:
    `+l[d]+`
`;e.push(mn("t",St(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function YL(t,e,n){var r=[Qt,Re("ThreadedComments",null,{xmlns:rn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var l="";(i[1]||[]).forEach(function(o,d){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var p={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};d==0?l=p.id:p.parentId=l,o.ID=p.id,o.a&&(p.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(Re("threadedComment",mn("text",o.t||""),p))})}),r.push("</ThreadedComments>"),r.join("")}function JL(t){var e=[Qt,Re("personList",null,{xmlns:rn.TCMNT,"xmlns:x":pl[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Re("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function XL(t){var e={};e.iauthor=t.read_shift(4);var n=rs(t);return e.rfx=n.s,e.ref=Et(n.s),t.l+=16,e}function WL(t,e){return e==null&&(e=ge(36)),e.write_shift(4,t[1].iauthor),gl(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var KL=En;function QL(t){return sn(t.slice(0,54))}function ZL(t){var e=Bn(),n=[];return Ee(e,628),Ee(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Ee(e,632,QL(i.a)))})}),Ee(e,631),Ee(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var l={s:an(r[0]),e:an(r[0])};Ee(e,635,WL([l,i])),i.t&&i.t.length>0&&Ee(e,637,tF(i)),Ee(e,636),delete i.iauthor})}),Ee(e,634),Ee(e,629),e.end()}function eP(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Nt.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var $E=["xlsb","xlsm","xlam","biff8","xla"],tP=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,l,o){var d=!1,p=!1;l.length==0?p=!0:l.charAt(0)=="["&&(p=!0,l=l.slice(1,-1)),o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1));var f=l.length>0?parseInt(l,10)|0:0,m=o.length>0?parseInt(o,10)|0:0;return d?m+=e.c:--m,p?f+=e.r:--f,i+(d?"":"$")+Sn(m)+(p?"":"$")+gn(f)}return function(i,l){return e=l,i.replace(t,n)}})(),Xp=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Wp=(function(){return function(e,n){return e.replace(Xp,function(r,i,l,o,d,p){var f=Gp(o)-(l?0:n.c),m=Hp(p)-(d?0:n.r),v=m==0?"":d?m+1:"["+m+"]",b=f==0?"":l?f+1:"["+f+"]";return i+"R"+v+"C"+b})}})();function nP(t,e){return t.replace(Xp,function(n,r,i,l,o,d){return r+(i=="$"?i+l:Sn(Gp(l)+e.c))+(o=="$"?o+d:gn(Hp(d)+e.r))})}function rP(t){return t.length!=1}function Wt(t){t.l+=1}function hi(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function YE(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return JE(t);n.biff==12&&(r=4)}var i=t.read_shift(r),l=t.read_shift(r),o=hi(t),d=hi(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:l,c:d[0],cRel:d[1],rRel:d[2]}}}function JE(t){var e=hi(t),n=hi(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function aP(t,e,n){if(n.biff<8)return JE(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),l=hi(t),o=hi(t);return{s:{r,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function XE(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return iP(t);var r=t.read_shift(n&&n.biff==12?4:2),i=hi(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function iP(t){var e=hi(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function sP(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function lP(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return oP(t);var i=t.read_shift(r>=12?4:2),l=t.read_shift(2),o=(l&16384)>>14,d=(l&32768)>>15;if(l&=16383,d==1)for(;i>524287;)i-=1048576;if(o==1)for(;l>8191;)l=l-16384;return{r:i,c:l,cRel:o,rRel:d}}function oP(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function cP(t,e,n){var r=(t[t.l++]&96)>>5,i=YE(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function uP(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),l=8;if(n)switch(n.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}var o=YE(t,l,n);return[r,i,o]}function dP(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function fP(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),l=8;if(n)switch(n.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}return t.l+=l,[r,i]}function hP(t,e,n){var r=(t[t.l++]&96)>>5,i=aP(t,e-1,n);return[r,i]}function pP(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function q2(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function mP(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],l=0;l<=r;++l)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function gP(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function xP(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function vP(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function yP(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function WE(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function bP(t){return t.read_shift(2),WE(t)}function SP(t){return t.read_shift(2),WE(t)}function EP(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=XE(t,0,n);return[r,i]}function _P(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=lP(t,0,n);return[r,i]}function TP(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var l=XE(t,0,n);return[r,i,l]}function wP(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[wj[i],ZE[i],r]}function NP(t,e,n){var r=t[t.l++],i=t.read_shift(1),l=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:AP(t);return[i,(l[0]===0?ZE:Tj)[l[1]]]}function AP(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function kP(t,e,n){t.l+=n&&n.biff==2?3:4}function CP(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function RP(t){return t.l++,Jo[t.read_shift(1)]}function MP(t){return t.l++,t.read_shift(2)}function DP(t){return t.l++,t.read_shift(1)!==0}function IP(t){return t.l++,xl(t)}function FP(t,e,n){return t.l++,DE(t,e-1,n)}function LP(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=TF(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Jo[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=xl(t);break;case 2:n[1]=kF(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function PP(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],l=0;l!=r;++l)i.push((n.biff==12?rs:MF)(t));return i}function jP(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var l=0,o=[];l!=r&&(o[l]=[]);++l)for(var d=0;d!=i;++d)o[l][d]=LP(t,n.biff);return o}function OP(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,l=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,l]}function UP(t,e,n){if(n.biff==5)return BP(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),l=t.read_shift(4);return[r,i,l]}function BP(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function zP(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function HP(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function GP(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function VP(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),l=4;if(n)switch(n.biff){case 5:l=15;break;case 12:l=6;break}return t.l+=l,[r,i]}var qP=Kr,$P=Kr,YP=Kr;function Xo(t,e,n){return t.l+=2,[sP(t)]}function Kp(t){return t.l+=6,[]}var JP=Xo,XP=Kp,WP=Kp,KP=Xo;function KE(t){return t.l+=2,[RE(t),t.read_shift(2)&1]}var QP=Xo,ZP=KE,ej=Kp,tj=Xo,nj=Xo,rj=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function aj(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),l=t.read_shift(2),o=rj[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:l}}function ij(t){return t.l+=2,[t.read_shift(4)]}function sj(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function lj(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function oj(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function cj(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function uj(t){return t.l+=4,[0,0]}var $2={1:{n:"PtgExp",f:CP},2:{n:"PtgTbl",f:YP},3:{n:"PtgAdd",f:Wt},4:{n:"PtgSub",f:Wt},5:{n:"PtgMul",f:Wt},6:{n:"PtgDiv",f:Wt},7:{n:"PtgPower",f:Wt},8:{n:"PtgConcat",f:Wt},9:{n:"PtgLt",f:Wt},10:{n:"PtgLe",f:Wt},11:{n:"PtgEq",f:Wt},12:{n:"PtgGe",f:Wt},13:{n:"PtgGt",f:Wt},14:{n:"PtgNe",f:Wt},15:{n:"PtgIsect",f:Wt},16:{n:"PtgUnion",f:Wt},17:{n:"PtgRange",f:Wt},18:{n:"PtgUplus",f:Wt},19:{n:"PtgUminus",f:Wt},20:{n:"PtgPercent",f:Wt},21:{n:"PtgParen",f:Wt},22:{n:"PtgMissArg",f:Wt},23:{n:"PtgStr",f:FP},26:{n:"PtgSheet",f:sj},27:{n:"PtgEndSheet",f:lj},28:{n:"PtgErr",f:RP},29:{n:"PtgBool",f:DP},30:{n:"PtgInt",f:MP},31:{n:"PtgNum",f:IP},32:{n:"PtgArray",f:pP},33:{n:"PtgFunc",f:wP},34:{n:"PtgFuncVar",f:NP},35:{n:"PtgName",f:OP},36:{n:"PtgRef",f:EP},37:{n:"PtgArea",f:cP},38:{n:"PtgMemArea",f:zP},39:{n:"PtgMemErr",f:qP},40:{n:"PtgMemNoMem",f:$P},41:{n:"PtgMemFunc",f:HP},42:{n:"PtgRefErr",f:GP},43:{n:"PtgAreaErr",f:dP},44:{n:"PtgRefN",f:_P},45:{n:"PtgAreaN",f:hP},46:{n:"PtgMemAreaN",f:oj},47:{n:"PtgMemNoMemN",f:cj},57:{n:"PtgNameX",f:UP},58:{n:"PtgRef3d",f:TP},59:{n:"PtgArea3d",f:uP},60:{n:"PtgRefErr3d",f:VP},61:{n:"PtgAreaErr3d",f:fP},255:{}},dj={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},fj={1:{n:"PtgElfLel",f:KE},2:{n:"PtgElfRw",f:tj},3:{n:"PtgElfCol",f:JP},6:{n:"PtgElfRwV",f:nj},7:{n:"PtgElfColV",f:KP},10:{n:"PtgElfRadical",f:QP},11:{n:"PtgElfRadicalS",f:ej},13:{n:"PtgElfColS",f:XP},15:{n:"PtgElfColSV",f:WP},16:{n:"PtgElfRadicalLel",f:ZP},25:{n:"PtgList",f:aj},29:{n:"PtgSxName",f:ij},255:{}},hj={0:{n:"PtgAttrNoop",f:uj},1:{n:"PtgAttrSemi",f:yP},2:{n:"PtgAttrIf",f:xP},4:{n:"PtgAttrChoose",f:mP},8:{n:"PtgAttrGoto",f:gP},16:{n:"PtgAttrSum",f:kP},32:{n:"PtgAttrBaxcel",f:q2},33:{n:"PtgAttrBaxcel",f:q2},64:{n:"PtgAttrSpace",f:bP},65:{n:"PtgAttrSpaceSemi",f:SP},128:{n:"PtgAttrIfError",f:vP},255:{}};function pj(t,e,n,r){if(r.biff<8)return Kr(t,e);for(var i=t.l+e,l=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=jP(t,0,r),l.push(n[o][1]);break;case"PtgMemArea":n[o][2]=PP(t,n[o][1],r),l.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),l.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=i-t.l,e!==0&&l.push(Kr(t,e)),l}function mj(t,e,n){for(var r=t.l+e,i,l,o=[];r!=t.l;)e=r-t.l,l=t[t.l],i=$2[l]||$2[dj[l]],(l===24||l===25)&&(i=(l===24?fj:hj)[t[t.l+1]]),!i||!i.f?Kr(t,e):o.push([i.n,i.f(t,e,n)]);return o}function gj(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],l=0;l<r.length;++l){var o=r[l];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var xj={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function vj(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function QE(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(l){return l.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Y2(t,e,n){var r=QE(t,e,n);return r=="#REF"?r:vj(r,n)}function ll(t,e,n,r,i){var l=i&&i.biff||8,o={s:{c:0,r:0}},d=[],p,f,m,v=0,b=0,E,T="";if(!t[0]||!t[0][0])return"";for(var _=-1,w="",A=0,R=t[0].length;A<R;++A){var k=t[0][A];switch(k[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(p=d.pop(),f=d.pop(),_>=0){switch(t[0][_][1][0]){case 0:w=Ht(" ",t[0][_][1][1]);break;case 1:w=Ht("\r",t[0][_][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}f=f+w,_=-1}d.push(f+xj[k[0]]+p);break;case"PtgIsect":p=d.pop(),f=d.pop(),d.push(f+" "+p);break;case"PtgUnion":p=d.pop(),f=d.pop(),d.push(f+","+p);break;case"PtgRange":p=d.pop(),f=d.pop(),d.push(f+":"+p);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=No(k[1][1],o,i),d.push(Ao(m,l));break;case"PtgRefN":m=n?No(k[1][1],n,i):k[1][1],d.push(Ao(m,l));break;case"PtgRef3d":v=k[1][1],m=No(k[1][2],o,i),T=Y2(r,v,i),d.push(T+"!"+Ao(m,l));break;case"PtgFunc":case"PtgFuncVar":var L=k[1][0],V=k[1][1];L||(L=0),L&=127;var te=L==0?[]:d.slice(-L);d.length-=L,V==="User"&&(V=te.shift()),d.push(V+"("+te.join(",")+")");break;case"PtgBool":d.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(k[1]);break;case"PtgNum":d.push(String(k[1]));break;case"PtgStr":d.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(k[1]);break;case"PtgAreaN":E=M2(k[1][1],n?{s:n}:o,i),d.push(Th(E,i));break;case"PtgArea":E=M2(k[1][1],o,i),d.push(Th(E,i));break;case"PtgArea3d":v=k[1][1],E=k[1][2],T=Y2(r,v,i),d.push(T+"!"+Th(E,i));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":b=k[1][2];var P=(r.names||[])[b-1]||(r[0]||[])[b],M=P?P.Name:"SH33TJSNAME"+String(b);M&&M.slice(0,6)=="_xlfn."&&!i.xlfn&&(M=M.slice(6)),d.push(M);break;case"PtgNameX":var B=k[1][1];b=k[1][2];var J;if(i.biff<=5)B<0&&(B=-B),r[B]&&(J=r[B][b]);else{var U="";if(((r[B]||[])[0]||[])[0]==14849||(((r[B]||[])[0]||[])[0]==1025?r[B][b]&&r[B][b].itab>0&&(U=r.SheetNames[r[B][b].itab-1]+"!"):U=r.SheetNames[b-1]+"!"),r[B]&&r[B][b])U+=r[B][b].Name;else if(r[0]&&r[0][b])U+=r[0][b].Name;else{var re=(QE(r,B,i)||"").split(";;");re[b-1]?U=re[b-1]:U+="SH33TJSERRX"}d.push(U);break}J||(J={Name:"SH33TJSERRY"}),d.push(J.Name);break;case"PtgParen":var fe="(",De=")";if(_>=0){switch(w="",t[0][_][1][0]){case 2:fe=Ht(" ",t[0][_][1][1])+fe;break;case 3:fe=Ht("\r",t[0][_][1][1])+fe;break;case 4:De=Ht(" ",t[0][_][1][1])+De;break;case 5:De=Ht("\r",t[0][_][1][1])+De;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}_=-1}d.push(fe+d.pop()+De);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":m={c:k[1][1],r:k[1][0]};var ee={c:n.c,r:n.r};if(r.sharedf[Et(m)]){var Q=r.sharedf[Et(m)];d.push(ll(Q,o,ee,r,i))}else{var ye=!1;for(p=0;p!=r.arrayf.length;++p)if(f=r.arrayf[p],!(m.c<f[0].s.c||m.c>f[0].e.c)&&!(m.r<f[0].s.r||m.r>f[0].e.r)){d.push(ll(f[1],o,ee,r,i)),ye=!0;break}ye||d.push(k[1])}break;case"PtgArray":d.push("{"+gj(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var de=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&_>=0&&de.indexOf(t[0][A][0])==-1){k=t[0][_];var ke=!0;switch(k[1][0]){case 4:ke=!1;case 0:w=Ht(" ",k[1][1]);break;case 5:ke=!1;case 1:w=Ht("\r",k[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}d.push((ke?w:"")+d.pop()+(ke?"":w)),_=-1}}if(d.length>1&&i.WTF)throw new Error("bad formula stack");return d[0]}function yj(t){if(t==null){var e=ge(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Yi(t);return Yi(0)}function bj(t,e,n,r,i){var l=Ji(e,n,i),o=yj(t.v),d=ge(6),p=33;d.write_shift(2,p),d.write_shift(4,0);for(var f=ge(t.bf.length),m=0;m<t.bf.length;++m)f[m]=t.bf[m];var v=pn([l,o,d,f]);return v}function Pd(t,e,n){var r=t.read_shift(4),i=mj(t,r,n),l=t.read_shift(4),o=l>0?pj(t,l,i,n):null;return[i,o]}var Sj=Pd,jd=Pd,Ej=Pd,_j=Pd,Tj={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ZE={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},wj={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Nj(t){var e="of:="+t.replace(Xp,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Aj(t){return t.replace(/\./,"!")}var ko=typeof Map<"u";function Qp(t,e,n){var r=0,i=t.length;if(n){if(ko?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var l=ko?n.get(e):n[e];r<l.length;++r)if(t[l[r]].t===e)return t.Count++,l[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(ko?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function Od(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(wa=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=pd(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=ap(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function e_(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function xi(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,l=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){XS(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=l;++i)if(t[i].numFmtId===r)return i;return t[l]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},l}function kj(t,e,n){if(t&&t["!ref"]){var r=Ft(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function Cj(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Kt(t[n])+'"/>';return e+"</mergeCells>"}function Rj(t,e,n,r,i){var l=!1,o={},d=null;if(r.bookType!=="xlsx"&&e.vbaraw){var p=e.SheetNames[n];try{e.Workbook&&(p=e.Workbook.Sheets[n].CodeName||p)}catch{}l=!0,o.codeName=Io(St(p))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),d=(d||"")+Re("outlinePr",null,f)}!l&&!d||(i[i.length]=Re("sheetPr",d,o))}var Mj=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Dj=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Ij(t){var e={sheet:1};return Mj.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),Dj.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=jE(t.password).toString(16).toUpperCase()),Re("sheetProtection",null,e)}function Fj(t){return e_(t),Re("pageMargins",null,t)}function Lj(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=Re("col",null,Od(i,r)));return n[n.length]="</cols>",n.join("")}function Pj(t,e,n,r){var i=typeof t.ref=="string"?t.ref:Kt(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var l=n.Workbook.Names,o=ar(i);o.s.r==o.e.r&&(o.e.r=ar(e["!ref"]).e.r,i=Kt(o));for(var d=0;d<l.length;++d){var p=l[d];if(p.Name=="_xlnm._FilterDatabase"&&p.Sheet==r){p.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Re("autoFilter",null,{ref:i})}function jj(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Re("sheetViews",Re("sheetView",null,i),{})}function Oj(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",l=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Jo[t.v];break;case"d":r&&r.cellDates?i=Rn(t.v,-1).toISOString():(t=Gn(t),t.t="n",i=""+(t.v=Hn(Rn(t.v)))),typeof t.z>"u"&&(t.z=Gt[14]);break;default:i=t.v;break}var d=mn("v",St(i)),p={r:e},f=xi(r.cellXfs,t,r);switch(f!==0&&(p.s=f),t.t){case"n":break;case"d":p.t="d";break;case"b":p.t="b";break;case"e":p.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){d=mn("v",""+Qp(r.Strings,t.v,r.revStrings)),p.t="s";break}p.t="str";break}if(t.t!=l&&(t.t=l,t.v=o),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;d=Re("f",St(t.f),m)+(t.v!=null?d:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(p.cm=1),Re("c",d,p)}function Uj(t,e,n,r){var i=[],l=[],o=Ft(t["!ref"]),d="",p,f="",m=[],v=0,b=0,E=t["!rows"],T=Array.isArray(t),_={r:f},w,A=-1;for(b=o.s.c;b<=o.e.c;++b)m[b]=Sn(b);for(v=o.s.r;v<=o.e.r;++v){for(l=[],f=gn(v),b=o.s.c;b<=o.e.c;++b){p=m[b]+f;var R=T?(t[v]||[])[b]:t[p];R!==void 0&&(d=Oj(R,p,t,e))!=null&&l.push(d)}(l.length>0||E&&E[v])&&(_={r:f},E&&E[v]&&(w=E[v],w.hidden&&(_.hidden=1),A=-1,w.hpx?A=md(w.hpx):w.hpt&&(A=w.hpt),A>-1&&(_.ht=A,_.customHeight=1),w.level&&(_.outlineLevel=w.level)),i[i.length]=Re("row",l.join(""),_))}if(E)for(;v<E.length;++v)E&&E[v]&&(_={r:v+1},w=E[v],w.hidden&&(_.hidden=1),A=-1,w.hpx?A=md(w.hpx):w.hpt&&(A=w.hpt),A>-1&&(_.ht=A,_.customHeight=1),w.level&&(_.outlineLevel=w.level),i[i.length]=Re("row","",_));return i.join("")}function t_(t,e,n,r){var i=[Qt,Re("worksheet",null,{xmlns:pl[0],"xmlns:r":rn.r})],l=n.SheetNames[t],o=0,d="",p=n.Sheets[l];p==null&&(p={});var f=p["!ref"]||"A1",m=Ft(f);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),f=Kt(m)}r||(r={}),p["!comments"]=[];var v=[];Rj(p,n,t,e,i),i[i.length]=Re("dimension",null,{ref:f}),i[i.length]=jj(p,e,t,n),e.sheetFormat&&(i[i.length]=Re("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),p["!cols"]!=null&&p["!cols"].length>0&&(i[i.length]=Lj(p,p["!cols"])),i[o=i.length]="<sheetData/>",p["!links"]=[],p["!ref"]!=null&&(d=Uj(p,e),d.length>0&&(i[i.length]=d)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),p["!protect"]&&(i[i.length]=Ij(p["!protect"])),p["!autofilter"]!=null&&(i[i.length]=Pj(p["!autofilter"],p,n,t)),p["!merges"]!=null&&p["!merges"].length>0&&(i[i.length]=Cj(p["!merges"]));var b=-1,E,T=-1;return p["!links"].length>0&&(i[i.length]="<hyperlinks>",p["!links"].forEach(function(_){_[1].Target&&(E={ref:_[0]},_[1].Target.charAt(0)!="#"&&(T=yt(r,-1,St(_[1].Target).replace(/#.*$/,""),ut.HLINK),E["r:id"]="rId"+T),(b=_[1].Target.indexOf("#"))>-1&&(E.location=St(_[1].Target.slice(b+1))),_[1].Tooltip&&(E.tooltip=St(_[1].Tooltip)),i[i.length]=Re("hyperlink",null,E))}),i[i.length]="</hyperlinks>"),delete p["!links"],p["!margins"]!=null&&(i[i.length]=Fj(p["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=mn("ignoredErrors",Re("ignoredError",null,{numberStoredAsText:1,sqref:f}))),v.length>0&&(T=yt(r,-1,"../drawings/drawing"+(t+1)+".xml",ut.DRAW),i[i.length]=Re("drawing",null,{"r:id":"rId"+T}),p["!drawing"]=v),p["!comments"].length>0&&(T=yt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",ut.VML),i[i.length]=Re("legacyDrawing",null,{"r:id":"rId"+T}),p["!legacy"]=T),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Bj(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var l=t.read_shift(1);return t.l=r,l&7&&(n.level=l&7),l&16&&(n.hidden=!0),l&32&&(n.hpt=i/20),n}function zj(t,e,n){var r=ge(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var l=320;i.hpx?l=md(i.hpx)*20:i.hpt&&(l=i.hpt*20),r.write_shift(2,l),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var d=0,p=r.l;r.l+=4;for(var f={r:t,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var v=-1,b=-1,E=m<<10;E<m+1<<10;++E){f.c=E;var T=Array.isArray(n)?(n[f.r]||[])[f.c]:n[Et(f)];T&&(v<0&&(v=E),b=E)}v<0||(++d,r.write_shift(4,v),r.write_shift(4,b))}var _=r.l;return r.l=p,r.write_shift(4,d),r.l=_,r.length>r.l?r.slice(0,r.l):r}function Hj(t,e,n,r){var i=zj(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&Ee(t,0,i)}var Gj=rs,Vj=gl;function qj(){}function $j(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=nF(t),n}function Yj(t,e,n){n==null&&(n=ge(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return dd({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),gE(t,n),n.slice(0,n.l)}function Jj(t){var e=wr(t);return[e]}function Xj(t,e,n){return n==null&&(n=ge(8)),es(e,n)}function Wj(t){var e=ts(t);return[e]}function Kj(t,e,n){return n==null&&(n=ge(4)),ns(e,n)}function Qj(t){var e=wr(t),n=t.read_shift(1);return[e,n,"b"]}function Zj(t,e,n){return n==null&&(n=ge(9)),es(e,n),n.write_shift(1,t.v?1:0),n}function eO(t){var e=ts(t),n=t.read_shift(1);return[e,n,"b"]}function tO(t,e,n){return n==null&&(n=ge(5)),ns(e,n),n.write_shift(1,t.v?1:0),n}function nO(t){var e=wr(t),n=t.read_shift(1);return[e,n,"e"]}function rO(t,e,n){return n==null&&(n=ge(9)),es(e,n),n.write_shift(1,t.v),n}function aO(t){var e=ts(t),n=t.read_shift(1);return[e,n,"e"]}function iO(t,e,n){return n==null&&(n=ge(8)),ns(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function sO(t){var e=wr(t),n=t.read_shift(4);return[e,n,"s"]}function lO(t,e,n){return n==null&&(n=ge(12)),es(e,n),n.write_shift(4,e.v),n}function oO(t){var e=ts(t),n=t.read_shift(4);return[e,n,"s"]}function cO(t,e,n){return n==null&&(n=ge(8)),ns(e,n),n.write_shift(4,e.v),n}function uO(t){var e=wr(t),n=xl(t);return[e,n,"n"]}function dO(t,e,n){return n==null&&(n=ge(16)),es(e,n),Yi(t.v,n),n}function fO(t){var e=ts(t),n=xl(t);return[e,n,"n"]}function hO(t,e,n){return n==null&&(n=ge(12)),ns(e,n),Yi(t.v,n),n}function pO(t){var e=wr(t),n=xE(t);return[e,n,"n"]}function mO(t,e,n){return n==null&&(n=ge(12)),es(e,n),vE(t.v,n),n}function gO(t){var e=ts(t),n=xE(t);return[e,n,"n"]}function xO(t,e,n){return n==null&&(n=ge(8)),ns(e,n),vE(t.v,n),n}function vO(t){var e=wr(t),n=Vp(t);return[e,n,"is"]}function yO(t){var e=wr(t),n=En(t);return[e,n,"str"]}function bO(t,e,n){return n==null&&(n=ge(12+4*t.v.length)),es(e,n),sn(t.v,n),n.length>n.l?n.slice(0,n.l):n}function SO(t){var e=ts(t),n=En(t);return[e,n,"str"]}function EO(t,e,n){return n==null&&(n=ge(8+4*t.v.length)),ns(e,n),sn(t.v,n),n.length>n.l?n.slice(0,n.l):n}function _O(t,e,n){var r=t.l+e,i=wr(t);i.r=n["!row"];var l=t.read_shift(1),o=[i,l,"b"];if(n.cellFormula){t.l+=2;var d=jd(t,r-t.l,n);o[3]=ll(d,null,i,n.supbooks,n)}else t.l=r;return o}function TO(t,e,n){var r=t.l+e,i=wr(t);i.r=n["!row"];var l=t.read_shift(1),o=[i,l,"e"];if(n.cellFormula){t.l+=2;var d=jd(t,r-t.l,n);o[3]=ll(d,null,i,n.supbooks,n)}else t.l=r;return o}function wO(t,e,n){var r=t.l+e,i=wr(t);i.r=n["!row"];var l=xl(t),o=[i,l,"n"];if(n.cellFormula){t.l+=2;var d=jd(t,r-t.l,n);o[3]=ll(d,null,i,n.supbooks,n)}else t.l=r;return o}function NO(t,e,n){var r=t.l+e,i=wr(t);i.r=n["!row"];var l=En(t),o=[i,l,"str"];if(n.cellFormula){t.l+=2;var d=jd(t,r-t.l,n);o[3]=ll(d,null,i,n.supbooks,n)}else t.l=r;return o}var AO=rs,kO=gl;function CO(t,e){return e==null&&(e=ge(4)),e.write_shift(4,t),e}function RO(t,e){var n=t.l+e,r=rs(t),i=qp(t),l=En(t),o=En(t),d=En(t);t.l=n;var p={rfx:r,relId:i,loc:l,display:d};return o&&(p.Tooltip=o),p}function MO(t,e){var n=ge(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));gl({s:an(t[0]),e:an(t[0])},n),$p("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return sn(i||"",n),sn(t[1].Tooltip||"",n),sn("",n),n.slice(0,n.l)}function DO(){}function IO(t,e,n){var r=t.l+e,i=yE(t),l=t.read_shift(1),o=[i];if(o[2]=l,n.cellFormula){var d=Sj(t,r-t.l,n);o[1]=d}else t.l=r;return o}function FO(t,e,n){var r=t.l+e,i=rs(t),l=[i];if(n.cellFormula){var o=_j(t,r-t.l,n);l[1]=o,t.l=r}else t.l=r;return l}function LO(t,e,n){n==null&&(n=ge(18));var r=Od(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var n_=["left","right","top","bottom","header","footer"];function PO(t){var e={};return n_.forEach(function(n){e[n]=xl(t)}),e}function jO(t,e){return e==null&&(e=ge(48)),e_(t),n_.forEach(function(n){Yi(t[n],e)}),e}function OO(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function UO(t,e,n){n==null&&(n=ge(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function BO(t){var e=ge(24);return e.write_shift(4,4),e.write_shift(4,1),gl(t,e),e}function zO(t,e){return e==null&&(e=ge(66)),e.write_shift(2,t.password?jE(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function HO(){}function GO(){}function VO(t,e,n,r,i,l,o){if(e.v===void 0)return!1;var d="";switch(e.t){case"b":d=e.v?"1":"0";break;case"d":e=Gn(e),e.z=e.z||Gt[14],e.v=Hn(Rn(e.v)),e.t="n";break;case"n":case"e":d=""+e.v;break;default:d=e.v;break}var p={r:n,c:r};switch(p.s=xi(i.cellXfs,e,i),e.l&&l["!links"].push([Et(p),e.l]),e.c&&l["!comments"].push([Et(p),e.c]),e.t){case"s":case"str":return i.bookSST?(d=Qp(i.Strings,e.v,i.revStrings),p.t="s",p.v=d,o?Ee(t,18,cO(e,p)):Ee(t,7,lO(e,p))):(p.t="str",o?Ee(t,17,EO(e,p)):Ee(t,6,bO(e,p))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Ee(t,13,xO(e,p)):Ee(t,2,mO(e,p)):o?Ee(t,16,hO(e,p)):Ee(t,5,dO(e,p)),!0;case"b":return p.t="b",o?Ee(t,15,tO(e,p)):Ee(t,4,Zj(e,p)),!0;case"e":return p.t="e",o?Ee(t,14,iO(e,p)):Ee(t,3,rO(e,p)),!0}return o?Ee(t,12,Kj(e,p)):Ee(t,1,Xj(e,p)),!0}function qO(t,e,n,r){var i=Ft(e["!ref"]||"A1"),l,o="",d=[];Ee(t,145);var p=Array.isArray(e),f=i.e.r;e["!rows"]&&(f=Math.max(i.e.r,e["!rows"].length-1));for(var m=i.s.r;m<=f;++m){o=gn(m),Hj(t,e,i,m);var v=!1;if(m<=i.e.r)for(var b=i.s.c;b<=i.e.c;++b){m===i.s.r&&(d[b]=Sn(b)),l=d[b]+o;var E=p?(e[m]||[])[b]:e[l];if(!E){v=!1;continue}v=VO(t,E,m,b,r,e,v)}}Ee(t,146)}function $O(t,e){!e||!e["!merges"]||(Ee(t,177,CO(e["!merges"].length)),e["!merges"].forEach(function(n){Ee(t,176,kO(n))}),Ee(t,178))}function YO(t,e){!e||!e["!cols"]||(Ee(t,390),e["!cols"].forEach(function(n,r){n&&Ee(t,60,LO(r,n))}),Ee(t,391))}function JO(t,e){!e||!e["!ref"]||(Ee(t,648),Ee(t,649,BO(Ft(e["!ref"]))),Ee(t,650))}function XO(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=yt(n,-1,r[1].Target.replace(/#.*$/,""),ut.HLINK);Ee(t,494,MO(r,i))}}),delete e["!links"]}function WO(t,e,n,r){if(e["!comments"].length>0){var i=yt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",ut.VML);Ee(t,551,$p("rId"+i)),e["!legacy"]=i}}function KO(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],l=typeof i.ref=="string"?i.ref:Kt(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,d=ar(l);d.s.r==d.e.r&&(d.e.r=ar(e["!ref"]).e.r,l=Kt(d));for(var p=0;p<o.length;++p){var f=o[p];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+n.SheetNames[r]+"'!"+l;break}}p==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+l}),Ee(t,161,gl(Ft(l))),Ee(t,162)}}function QO(t,e,n){Ee(t,133),Ee(t,137,UO(e,n)),Ee(t,138),Ee(t,134)}function ZO(t,e){e["!protect"]&&Ee(t,535,zO(e["!protect"]))}function e9(t,e,n,r){var i=Bn(),l=n.SheetNames[t],o=n.Sheets[l]||{},d=l;try{n&&n.Workbook&&(d=n.Workbook.Sheets[t].CodeName||d)}catch{}var p=Ft(o["!ref"]||"A1");if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ee(i,129),(n.vbaraw||o["!outline"])&&Ee(i,147,Yj(d,o["!outline"])),Ee(i,148,Vj(p)),QO(i,o,n.Workbook),YO(i,o),qO(i,o,t,e),ZO(i,o),KO(i,o,n,t),$O(i,o),XO(i,o,r),o["!margins"]&&Ee(i,476,jO(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&JO(i,o),WO(i,o,t,r),Ee(i,130),i.end()}function t9(t,e){t.l+=10;var n=En(t);return{name:n}}var n9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function r9(t){return!t.Workbook||!t.Workbook.WBProps?"false":FI(t.Workbook.WBProps.date1904)?"true":"false"}var a9="][*?/\\".split("");function r_(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return a9.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function i9(t,e,n){t.forEach(function(r,i){r_(r);for(var l=0;l<i;++l)if(r==t[l])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function s9(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];i9(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)kj(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function a_(t){var e=[Qt];e[e.length]=Re("workbook",null,{xmlns:pl[0],"xmlns:r":rn.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(n9.forEach(function(d){t.Workbook.WBProps[d[0]]!=null&&t.Workbook.WBProps[d[0]]!=d[1]&&(r[d[0]]=t.Workbook.WBProps[d[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Re("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],l=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",l=0;l!=t.SheetNames.length&&!(!i[l]||!i[l].Hidden);++l);l==t.SheetNames.length&&(l=0),e[e.length]='<workbookView firstSheet="'+l+'" activeTab="'+l+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",l=0;l!=t.SheetNames.length;++l){var o={name:St(t.SheetNames[l].slice(0,31))};if(o.sheetId=""+(l+1),o["r:id"]="rId"+(l+1),i[l])switch(i[l].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Re("sheet",null,o)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(d){var p={name:d.Name};d.Comment&&(p.comment=d.Comment),d.Sheet!=null&&(p.localSheetId=""+d.Sheet),d.Hidden&&(p.hidden="1"),d.Ref&&(e[e.length]=Re("definedName",St(d.Ref),p))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function l9(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=rp(t),n.name=En(t),n}function o9(t,e){return e||(e=ge(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),$p(t.strRelID,e),sn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function c9(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?En(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function u9(t,e){e||(e=ge(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),gE(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function d9(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),l=rF(t),o=Ej(t,0,n),d=qp(t);t.l=r;var p={Name:l,Ptg:o};return i<268435455&&(p.Sheet=i),d&&(p.Comment=d),p}function f9(t,e){Ee(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};Ee(t,156,o9(i))}Ee(t,144)}function h9(t,e){e||(e=ge(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return sn("SheetJS",e),sn(rd.version,e),sn(rd.version,e),sn("7262",e),e.length>e.l?e.slice(0,e.l):e}function p9(t,e){e||(e=ge(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function m9(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,l=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&l==-1&&(l=r);l>i||(Ee(t,135),Ee(t,158,p9(i)),Ee(t,136))}}function g9(t,e){var n=Bn();return Ee(n,131),Ee(n,128,h9()),Ee(n,153,u9(t.Workbook&&t.Workbook.WBProps||null)),m9(n,t),f9(n,t),Ee(n,132),n.end()}function x9(t,e,n){return(e.slice(-4)===".bin"?g9:a_)(t)}function v9(t,e,n,r,i){return(e.slice(-4)===".bin"?e9:t_)(t,n,r,i)}function y9(t,e,n){return(e.slice(-4)===".bin"?jL:BE)(t,n)}function b9(t,e,n){return(e.slice(-4)===".bin"?uL:PE)(t,n)}function S9(t,e,n){return(e.slice(-4)===".bin"?ZL:qE)(t)}function E9(t){return(t.slice(-4)===".bin"?qL:GE)()}function _9(t,e){var n=[];return t.Props&&n.push(yF(t.Props,e)),t.Custprops&&n.push(bF(t.Props,t.Custprops)),n.join("")}function T9(){return""}function w9(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var l=[];l.push(Re("NumberFormat",null,{"ss:Format":St(Gt[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};n.push(Re("Style",l.join(""),o))}),Re("Styles",n.join(""))}function i_(t){return Re("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Wp(t.Ref,{r:0,c:0})})}function N9(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(i_(i)))}return Re("Names",n.join(""))}function A9(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,l=[],o=0;o<i.length;++o){var d=i[o];d.Sheet==n&&(d.Name.match(/^_xlfn\./)||l.push(i_(d)))}return l.join("")}function k9(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Re("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Re("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Re("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Re("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var l=0;l<n&&!(r.Workbook.Sheets[l]&&!r.Workbook.Sheets[l].Hidden);++l);l==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(mn("ProtectContents","True")),t["!protect"].objects&&i.push(mn("ProtectObjects","True")),t["!protect"].scenarios&&i.push(mn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(mn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(mn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":Re("WorksheetOptions",i.join(""),{xmlns:tr.x})}function C9(t){return t.map(function(e){var n=II(e.t||""),r=Re("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Re("Comment",r,{"ss:Author":e.a})}).join("")}function R9(t,e,n,r,i,l,o){if(!t||t.v==null&&t.f==null)return"";var d={};if(t.f&&(d["ss:Formula"]="="+St(Wp(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var p=an(t.F.slice(e.length+1));d["ss:ArrayRange"]="RC:R"+(p.r==o.r?"":"["+(p.r-o.r)+"]")+"C"+(p.c==o.c?"":"["+(p.c-o.c)+"]")}if(t.l&&t.l.Target&&(d["ss:HRef"]=St(t.l.Target),t.l.Tooltip&&(d["x:HRefScreenTip"]=St(t.l.Tooltip))),n["!merges"])for(var f=n["!merges"],m=0;m!=f.length;++m)f[m].s.c!=o.c||f[m].s.r!=o.r||(f[m].e.c>f[m].s.c&&(d["ss:MergeAcross"]=f[m].e.c-f[m].s.c),f[m].e.r>f[m].s.r&&(d["ss:MergeDown"]=f[m].e.r-f[m].s.r));var v="",b="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":v="Number",b=String(t.v);break;case"b":v="Boolean",b=t.v?"1":"0";break;case"e":v="Error",b=Jo[t.v];break;case"d":v="DateTime",b=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Gt[14]);break;case"s":v="String",b=DI(t.v||"");break}var E=xi(r.cellXfs,t,r);d["ss:StyleID"]="s"+(21+E),d["ss:Index"]=o.c+1;var T=t.v!=null?b:"",_=t.t=="z"?"":'<Data ss:Type="'+v+'">'+T+"</Data>";return(t.c||[]).length>0&&(_+=C9(t.c)),Re("Cell",_,d)}function M9(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=UE(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function D9(t,e,n,r){if(!t["!ref"])return"";var i=Ft(t["!ref"]),l=t["!merges"]||[],o=0,d=[];t["!cols"]&&t["!cols"].forEach(function(w,A){Jp(w);var R=!!w.width,k=Od(A,w),L={"ss:Index":A+1};R&&(L["ss:Width"]=hd(k.width)),w.hidden&&(L["ss:Hidden"]="1"),d.push(Re("Column",null,L))});for(var p=Array.isArray(t),f=i.s.r;f<=i.e.r;++f){for(var m=[M9(f,(t["!rows"]||[])[f])],v=i.s.c;v<=i.e.c;++v){var b=!1;for(o=0;o!=l.length;++o)if(!(l[o].s.c>v)&&!(l[o].s.r>f)&&!(l[o].e.c<v)&&!(l[o].e.r<f)){(l[o].s.c!=v||l[o].s.r!=f)&&(b=!0);break}if(!b){var E={r:f,c:v},T=Et(E),_=p?(t[f]||[])[v]:t[T];m.push(R9(_,T,t,e,n,r,E))}}m.push("</Row>"),m.length>2&&d.push(m.join(""))}return d.join("")}function I9(t,e,n){var r=[],i=n.SheetNames[t],l=n.Sheets[i],o=l?A9(l,e,t,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=l?D9(l,e,t,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(k9(l,e,t,n)),r.join("")}function F9(t,e){e||(e={}),t.SSF||(t.SSF=Gn(Gt)),t.SSF&&(Id(),Dd(t.SSF),e.revssf=Fd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],xi(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(_9(t,e)),n.push(T9()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Re("Worksheet",I9(r,e,t),{"ss:Name":St(t.SheetNames[r])}));return n[2]=w9(t,e),n[3]=N9(t),Qt+Re("Workbook",n.join(""),{xmlns:tr.ss,"xmlns:o":tr.o,"xmlns:x":tr.x,"xmlns:ss":tr.ss,"xmlns:dt":tr.dt,"xmlns:html":tr.html})}var Ah={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function L9(t,e){var n=[],r=[],i=[],l=0,o,d=b2(I2,"n"),p=b2(F2,"n");if(t.Props)for(o=xn(t.Props),l=0;l<o.length;++l)(Object.prototype.hasOwnProperty.call(d,o[l])?n:Object.prototype.hasOwnProperty.call(p,o[l])?r:i).push([o[l],t.Props[o[l]]]);if(t.Custprops)for(o=xn(t.Custprops),l=0;l<o.length;++l)Object.prototype.hasOwnProperty.call(t.Props||{},o[l])||(Object.prototype.hasOwnProperty.call(d,o[l])?n:Object.prototype.hasOwnProperty.call(p,o[l])?r:i).push([o[l],t.Custprops[o[l]]]);var f=[];for(l=0;l<i.length;++l)CE.indexOf(i[l][0])>-1||NE.indexOf(i[l][0])>-1||i[l][1]!=null&&f.push(i[l]);r.length&&Nt.utils.cfb_add(e,"/SummaryInformation",U2(r,Ah.SI,p,F2)),(n.length||f.length)&&Nt.utils.cfb_add(e,"/DocumentSummaryInformation",U2(n,Ah.DSI,d,I2,f.length?f:null,Ah.UDI))}function P9(t,e){var n=e||{},r=Nt.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Nt.utils.cfb_add(r,i,s_(t,n)),n.biff==8&&(t.Props||t.Custprops)&&L9(t,r),n.biff==8&&t.vbaraw&&eP(r,Nt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var j9={0:{f:Bj},1:{f:Jj},2:{f:pO},3:{f:nO},4:{f:Qj},5:{f:uO},6:{f:yO},7:{f:sO},8:{f:NO},9:{f:wO},10:{f:_O},11:{f:TO},12:{f:Wj},13:{f:gO},14:{f:aO},15:{f:eO},16:{f:fO},17:{f:SO},18:{f:oO},19:{f:Vp},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:d9},40:{},42:{},43:{f:yL},44:{f:xL},45:{f:EL},46:{f:TL},47:{f:_L},48:{},49:{f:WI},50:{},51:{f:BL},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:KF},62:{f:vO},63:{f:$L},64:{f:HO},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Kr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:OO},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:$j},148:{f:Gj,p:16},151:{f:DO},152:{},153:{f:c9},154:{},155:{},156:{f:l9},157:{},158:{},159:{T:1,f:lL},160:{T:-1},161:{T:1,f:rs},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:AO},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:OL},336:{T:-1},337:{f:GL,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:rp},357:{},358:{},359:{},360:{T:1},361:{},362:{f:qF},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:IO},427:{f:FO},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:PO},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:qj},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:RO},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:rp},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:KL},633:{T:1},634:{T:-1},635:{T:1,f:XL},636:{T:-1},637:{f:eF},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:t9},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:GO},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Me(t,e,n,r){var i=e;if(!isNaN(i)){var l=r||(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,l),l>0&&zp(n)&&t.push(n)}}function O9(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return Me(t,e,n,i);var l=e;if(!isNaN(l)){for(var o=n.parts||[],d=0,p=0,f=0;f+(o[d]||8224)<=8224;)f+=o[d]||8224,d++;var m=t.next(4);for(m.write_shift(2,l),m.write_shift(2,f),t.push(n.slice(p,p+f)),p+=f;p<i;){for(m=t.next(4),m.write_shift(2,60),f=0;f+(o[d]||8224)<=8224;)f+=o[d]||8224,d++;m.write_shift(2,f),t.push(n.slice(p,p+f)),p+=f}}}function Wo(t,e,n){return t||(t=ge(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function U9(t,e,n,r){var i=ge(9);return Wo(i,t,e),ME(n,r||"b",i),i}function B9(t,e,n){var r=ge(8+2*n.length);return Wo(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function z9(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Hn(Rn(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Me(t,2,tL(n,r,i)):Me(t,3,eL(n,r,i));return;case"b":case"e":Me(t,5,U9(n,r,e.v,e.t));return;case"s":case"str":Me(t,4,B9(n,r,(e.v||"").slice(0,255)));return}Me(t,1,Wo(null,n,r))}function H9(t,e,n,r){var i=Array.isArray(e),l=Ft(e["!ref"]||"A1"),o,d="",p=[];if(l.e.c>255||l.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");l.e.c=Math.min(l.e.c,255),l.e.r=Math.min(l.e.c,16383),o=Kt(l)}for(var f=l.s.r;f<=l.e.r;++f){d=gn(f);for(var m=l.s.c;m<=l.e.c;++m){f===l.s.r&&(p[m]=Sn(m)),o=p[m]+d;var v=i?(e[f]||[])[m]:e[o];v&&z9(t,v,f,m)}}}function G9(t,e){for(var n=e||{},r=Bn(),i=0,l=0;l<t.SheetNames.length;++l)t.SheetNames[l]==n.sheet&&(i=l);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Me(r,n.biff==4?1033:n.biff==3?521:9,Yp(t,16,n)),H9(r,t.Sheets[t.SheetNames[i]],i,n),Me(r,10),r.end()}function V9(t,e,n){Me(t,49,jF({sz:12,name:"Arial"},n))}function q9(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Me(t,1054,BF(i,e[i],n))})}function $9(t,e){var n=ge(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Me(t,2151,n),n=ge(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),FE(Ft(e["!ref"]||"A1"),n),n.write_shift(4,4),Me(t,2152,n)}function Y9(t,e){for(var n=0;n<16;++n)Me(t,224,z2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Me(t,224,z2(r,0,e))})}function J9(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Me(t,440,JF(r)),r[1].Tooltip&&Me(t,2048,XF(r))}delete e["!links"]}function X9(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&Me(t,125,QF(Od(i,r),i))})}}function W9(t,e,n,r,i){var l=16+xi(i.cellXfs,e,i);if(e.v==null&&!e.bf){Me(t,513,Ji(n,r,l));return}if(e.bf)Me(t,6,bj(e,n,r,i,l));else switch(e.t){case"d":case"n":var o=e.t=="d"?Hn(Rn(e.v)):e.v;Me(t,515,VF(n,r,o,l));break;case"b":case"e":Me(t,517,GF(n,r,e.v,l,i,e.t));break;case"s":case"str":if(i.bookSST){var d=Qp(i.Strings,e.v,i.revStrings);Me(t,253,OF(n,r,d,l))}else Me(t,516,UF(n,r,(e.v||"").slice(0,255),l,i));break;default:Me(t,513,Ji(n,r,l))}}function K9(t,e,n){var r=Bn(),i=n.SheetNames[t],l=n.Sheets[i]||{},o=(n||{}).Workbook||{},d=(o.Sheets||[])[t]||{},p=Array.isArray(l),f=e.biff==8,m,v="",b=[],E=Ft(l["!ref"]||"A1"),T=f?65536:16384;if(E.e.c>255||E.e.r>=T){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");E.e.c=Math.min(E.e.c,255),E.e.r=Math.min(E.e.c,T-1)}Me(r,2057,Yp(n,16,e)),Me(r,13,br(1)),Me(r,12,br(100)),Me(r,15,kn(!0)),Me(r,17,kn(!1)),Me(r,16,Yi(.001)),Me(r,95,kn(!0)),Me(r,42,kn(!1)),Me(r,43,kn(!1)),Me(r,130,br(1)),Me(r,128,HF()),Me(r,131,kn(!1)),Me(r,132,kn(!1)),f&&X9(r,l["!cols"]),Me(r,512,zF(E,e)),f&&(l["!links"]=[]);for(var _=E.s.r;_<=E.e.r;++_){v=gn(_);for(var w=E.s.c;w<=E.e.c;++w){_===E.s.r&&(b[w]=Sn(w)),m=b[w]+v;var A=p?(l[_]||[])[w]:l[m];A&&(W9(r,A,_,w,e),f&&A.l&&l["!links"].push([m,A.l]))}}var R=d.CodeName||d.name||i;return f&&Me(r,574,PF((o.Views||[])[0])),f&&(l["!merges"]||[]).length&&Me(r,229,YF(l["!merges"])),f&&J9(r,l),Me(r,442,IE(R)),f&&$9(r,l),Me(r,10),r.end()}function Q9(t,e,n){var r=Bn(),i=(t||{}).Workbook||{},l=i.Sheets||[],o=i.WBProps||{},d=n.biff==8,p=n.biff==5;if(Me(r,2057,Yp(t,5,n)),n.bookType=="xla"&&Me(r,135),Me(r,225,d?br(1200):null),Me(r,193,_F(2)),p&&Me(r,191),p&&Me(r,192),Me(r,226),Me(r,92,DF("SheetJS",n)),Me(r,66,br(d?1200:1252)),d&&Me(r,353,br(0)),d&&Me(r,448),Me(r,317,ZF(t.SheetNames.length)),d&&t.vbaraw&&Me(r,211),d&&t.vbaraw){var f=o.CodeName||"ThisWorkbook";Me(r,442,IE(f))}Me(r,156,br(17)),Me(r,25,kn(!1)),Me(r,18,kn(!1)),Me(r,19,br(0)),d&&Me(r,431,kn(!1)),d&&Me(r,444,br(0)),Me(r,61,LF()),Me(r,64,kn(!1)),Me(r,141,br(0)),Me(r,34,kn(r9(t)=="true")),Me(r,14,kn(!0)),d&&Me(r,439,kn(!1)),Me(r,218,br(0)),V9(r,t,n),q9(r,t.SSF,n),Y9(r,n),d&&Me(r,352,kn(!1));var m=r.end(),v=Bn();d&&Me(v,140,WF()),d&&n.Strings&&O9(v,252,FF(n.Strings)),Me(v,10);var b=v.end(),E=Bn(),T=0,_=0;for(_=0;_<t.SheetNames.length;++_)T+=(d?12:11)+(d?2:1)*t.SheetNames[_].length;var w=m.length+T+b.length;for(_=0;_<t.SheetNames.length;++_){var A=l[_]||{};Me(E,133,IF({pos:w,hs:A.Hidden||0,dt:0,name:t.SheetNames[_]},n)),w+=e[_].length}var R=E.end();if(T!=R.length)throw new Error("BS8 "+T+" != "+R.length);var k=[];return m.length&&k.push(m),R.length&&k.push(R),b.length&&k.push(b),pn(k)}function Z9(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Gn(Gt)),t&&t.SSF&&(Id(),Dd(t.SSF),n.revssf=Fd(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Zp(n),n.cellXfs=[],xi(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=K9(i,n,t);return r.unshift(Q9(t,r,n)),pn(r)}function s_(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=ar(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var l=e||{};switch(l.biff||2){case 8:case 5:return Z9(t,e);case 4:case 3:case 2:return G9(t,e)}throw new Error("invalid type "+l.bookType+" for BIFF")}function eU(t,e,n,r){for(var i=t["!merges"]||[],l=[],o=e.s.c;o<=e.e.c;++o){for(var d=0,p=0,f=0;f<i.length;++f)if(!(i[f].s.r>n||i[f].s.c>o)&&!(i[f].e.r<n||i[f].e.c<o)){if(i[f].s.r<n||i[f].s.c<o){d=-1;break}d=i[f].e.r-i[f].s.r+1,p=i[f].e.c-i[f].s.c+1;break}if(!(d<0)){var m=Et({r:n,c:o}),v=r.dense?(t[n]||[])[o]:t[m],b=v&&v.v!=null&&(v.h||MI(v.w||(Ra(v),v.w)||""))||"",E={};d>1&&(E.rowspan=d),p>1&&(E.colspan=p),r.editable?b='<span contenteditable="true">'+b+"</span>":v&&(E["data-t"]=v&&v.t||"z",v.v!=null&&(E["data-v"]=v.v),v.z!=null&&(E["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(b='<a href="'+v.l.Target+'">'+b+"</a>")),E.id=(r.id||"sjs")+"-"+m,l.push(Re("td",b,E))}}var T="<tr>";return T+l.join("")+"</tr>"}var tU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',nU="</body></html>";function rU(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function l_(t,e){var n=e||{},r=n.header!=null?n.header:tU,i=n.footer!=null?n.footer:nU,l=[r],o=ar(t["!ref"]);n.dense=Array.isArray(t),l.push(rU(t,o,n));for(var d=o.s.r;d<=o.e.r;++d)l.push(eU(t,o,d,n));return l.push("</table>"+i),l.join("")}function o_(t,e,n){var r=n||{},i=0,l=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?an(r.origin):r.origin;i=o.r,l=o.c}var d=e.getElementsByTagName("tr"),p=Math.min(r.sheetRows||1e7,d.length),f={s:{r:0,c:0},e:{r:i,c:l}};if(t["!ref"]){var m=ar(t["!ref"]);f.s.r=Math.min(f.s.r,m.s.r),f.s.c=Math.min(f.s.c,m.s.c),f.e.r=Math.max(f.e.r,m.e.r),f.e.c=Math.max(f.e.c,m.e.c),i==-1&&(f.e.r=i=m.e.r+1)}var v=[],b=0,E=t["!rows"]||(t["!rows"]=[]),T=0,_=0,w=0,A=0,R=0,k=0;for(t["!cols"]||(t["!cols"]=[]);T<d.length&&_<p;++T){var L=d[T];if(J2(L)){if(r.display)continue;E[_]={hidden:!0}}var V=L.children;for(w=A=0;w<V.length;++w){var te=V[w];if(!(r.display&&J2(te))){var P=te.hasAttribute("data-v")?te.getAttribute("data-v"):te.hasAttribute("v")?te.getAttribute("v"):LI(te.innerHTML),M=te.getAttribute("data-z")||te.getAttribute("z");for(b=0;b<v.length;++b){var B=v[b];B.s.c==A+l&&B.s.r<_+i&&_+i<=B.e.r&&(A=B.e.c+1-l,b=-1)}k=+te.getAttribute("colspan")||1,((R=+te.getAttribute("rowspan")||1)>1||k>1)&&v.push({s:{r:_+i,c:A+l},e:{r:_+i+(R||1)-1,c:A+l+(k||1)-1}});var J={t:"s",v:P},U=te.getAttribute("data-t")||te.getAttribute("t")||"";P!=null&&(P.length==0?J.t=U||"z":r.raw||P.trim().length==0||U=="s"||(P==="TRUE"?J={t:"b",v:!0}:P==="FALSE"?J={t:"b",v:!1}:isNaN(Ta(P))?isNaN(Do(P).getDate())||(J={t:"d",v:Rn(P)},r.cellDates||(J={t:"n",v:Hn(J.v)}),J.z=r.dateNF||Gt[14]):J={t:"n",v:Ta(P)})),J.z===void 0&&M!=null&&(J.z=M);var re="",fe=te.getElementsByTagName("A");if(fe&&fe.length)for(var De=0;De<fe.length&&!(fe[De].hasAttribute("href")&&(re=fe[De].getAttribute("href"),re.charAt(0)!="#"));++De);re&&re.charAt(0)!="#"&&(J.l={Target:re}),r.dense?(t[_+i]||(t[_+i]=[]),t[_+i][A+l]=J):t[Et({c:A+l,r:_+i})]=J,f.e.c<A+l&&(f.e.c=A+l),A+=k}}++_}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),f.e.r=Math.max(f.e.r,_-1+i),t["!ref"]=Kt(f),_>=p&&(t["!fullref"]=Kt((f.e.r=d.length-T+_-1+i,f))),t}function c_(t,e){var n=e||{},r=n.dense?[]:{};return o_(r,t,e)}function aU(t,e){return Zi(c_(t,e),e)}function J2(t){var e="",n=iU(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function iU(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var sU=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Fo({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Qt+e}})(),X2=(function(){var t=function(l){return St(l).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(l,o,d){var p=[];p.push('      <table:table table:name="'+St(o.SheetNames[d])+`" table:style-name="ta1">
`);var f=0,m=0,v=ar(l["!ref"]||"A1"),b=l["!merges"]||[],E=0,T=Array.isArray(l);if(l["!cols"])for(m=0;m<=v.e.c;++m)p.push("        <table:table-column"+(l["!cols"][m]?' table:style-name="co'+l["!cols"][m].ods+'"':"")+`></table:table-column>
`);var _="",w=l["!rows"]||[];for(f=0;f<v.s.r;++f)_=w[f]?' table:style-name="ro'+w[f].ods+'"':"",p.push("        <table:table-row"+_+`></table:table-row>
`);for(;f<=v.e.r;++f){for(_=w[f]?' table:style-name="ro'+w[f].ods+'"':"",p.push("        <table:table-row"+_+`>
`),m=0;m<v.s.c;++m)p.push(e);for(;m<=v.e.c;++m){var A=!1,R={},k="";for(E=0;E!=b.length;++E)if(!(b[E].s.c>m)&&!(b[E].s.r>f)&&!(b[E].e.c<m)&&!(b[E].e.r<f)){(b[E].s.c!=m||b[E].s.r!=f)&&(A=!0),R["table:number-columns-spanned"]=b[E].e.c-b[E].s.c+1,R["table:number-rows-spanned"]=b[E].e.r-b[E].s.r+1;break}if(A){p.push(n);continue}var L=Et({r:f,c:m}),V=T?(l[f]||[])[m]:l[L];if(V&&V.f&&(R["table:formula"]=St(Nj(V.f)),V.F&&V.F.slice(0,L.length)==L)){var te=ar(V.F);R["table:number-matrix-columns-spanned"]=te.e.c-te.s.c+1,R["table:number-matrix-rows-spanned"]=te.e.r-te.s.r+1}if(!V){p.push(e);continue}switch(V.t){case"b":k=V.v?"TRUE":"FALSE",R["office:value-type"]="boolean",R["office:boolean-value"]=V.v?"true":"false";break;case"n":k=V.w||String(V.v||0),R["office:value-type"]="float",R["office:value"]=V.v||0;break;case"s":case"str":k=V.v==null?"":V.v,R["office:value-type"]="string";break;case"d":k=V.w||Rn(V.v).toISOString(),R["office:value-type"]="date",R["office:date-value"]=Rn(V.v).toISOString(),R["table:style-name"]="ce1";break;default:p.push(e);continue}var P=t(k);if(V.l&&V.l.Target){var M=V.l.Target;M=M.charAt(0)=="#"?"#"+Aj(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),P=Re("text:a",P,{"xlink:href":M.replace(/&/g,"&amp;")})}p.push("          "+Re("table:table-cell",Re("text:p",P,{}),R)+`
`)}p.push(`        </table:table-row>
`)}return p.push(`      </table:table>
`),p.join("")},i=function(l,o){l.push(` <office:automatic-styles>
`),l.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),l.push(`   <number:month number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:day number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:year/>
`),l.push(`  </number:date-style>
`);var d=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var m=0;m<f["!cols"].length;++m)if(f["!cols"][m]){var v=f["!cols"][m];if(v.width==null&&v.wpx==null&&v.wch==null)continue;Jp(v),v.ods=d;var b=f["!cols"][m].wpx+"px";l.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),l.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+b+`"/>
`),l.push(`  </style:style>
`),++d}}});var p=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var m=0;m<f["!rows"].length;++m)if(f["!rows"][m]){f["!rows"][m].ods=p;var v=f["!rows"][m].hpx+"px";l.push('  <style:style style:name="ro'+p+`" style:family="table-row">
`),l.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),l.push(`  </style:style>
`),++p}}}),l.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),l.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),l.push(`  </style:style>
`),l.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),l.push(` </office:automatic-styles>
`)};return function(o,d){var p=[Qt],f=Fo({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Fo({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(p.push("<office:document"+f+m+`>
`),p.push(TE().replace(/office:document-meta/g,"office:meta"))):p.push("<office:document-content"+f+`>
`),i(p,o),p.push(`  <office:body>
`),p.push(`    <office:spreadsheet>
`);for(var v=0;v!=o.SheetNames.length;++v)p.push(r(o.Sheets[o.SheetNames[v]],o,v));return p.push(`    </office:spreadsheet>
`),p.push(`  </office:body>
`),d.bookType=="fods"?p.push("</office:document>"):p.push("</office:document-content>"),p.join("")}})();function u_(t,e){if(e.bookType=="fods")return X2(t,e);var n=jp(),r="",i=[],l=[];return r="mimetype",Qe(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Qe(n,r,X2(t,e)),i.push([r,"text/xml"]),l.push([r,"ContentFile"]),r="styles.xml",Qe(n,r,sU(t,e)),i.push([r,"text/xml"]),l.push([r,"StylesFile"]),r="meta.xml",Qe(n,r,Qt+TE()),i.push([r,"text/xml"]),l.push([r,"MetadataFile"]),r="manifest.rdf",Qe(n,r,vF(l)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Qe(n,r,gF(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function gd(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function lU(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Fr(Io(t))}function oU(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function pi(t){var e=t.reduce(function(i,l){return i+l.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function cU(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var l=0;i>=1;++l,i/=256)t[e+l]=i&255;t[e+15]|=n>=0?0:128}function Lo(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function vt(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function sl(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function en(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Lo(t,n),l=i&7;i=Math.floor(i/8);var o=0,d;if(i==0)break;switch(l){case 0:{for(var p=n[0];t[n[0]++]>=128;);d=t.slice(p,n[0])}break;case 5:o=4,d=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,d=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Lo(t,n),d=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(l," for Field ").concat(i," at offset ").concat(r))}var f={data:d,type:l};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function fn(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(vt(r*8+i.type)),i.type==2&&e.push(vt(i.data.length)),e.push(i.data))})}),pi(e)}function Dr(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Lo(t,r),l=en(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:sl(l[1][0].data),messages:[]};l[2].forEach(function(d){var p=en(d.data),f=sl(p[3][0].data);o.messages.push({meta:p,data:t.slice(r[0],r[0]+f)}),r[0]+=f}),(e=l[3])!=null&&e[0]&&(o.merge=sl(l[3][0].data)>>>0>0),n.push(o)}return n}function $s(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:vt(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:vt(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:vt(o.data.length)}],r[2].push({data:fn(o.meta),type:2})});var l=fn(r);e.push(vt(l.length)),e.push(l),i.forEach(function(o){return e.push(o)})}),pi(e)}function uU(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Lo(e,n),i=[];n[0]<e.length;){var l=e[n[0]]&3;if(l==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var d=o-59;o=e[n[0]],d>1&&(o|=e[n[0]+1]<<8),d>2&&(o|=e[n[0]+2]<<16),d>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=d}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var p=0,f=0;if(l==1?(f=(e[n[0]]>>2&7)+4,p=(e[n[0]++]&224)<<3,p|=e[n[0]++]):(f=(e[n[0]++]>>2)+1,l==2?(p=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(p=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[pi(i)],p==0)throw new Error("Invalid offset 0");if(p>i[0].length)throw new Error("Invalid offset beyond length");if(f>=p)for(i.push(i[0].slice(-p)),f-=p;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-p,-p+f))}}var m=pi(i);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function Ir(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(uU(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return pi(e)}function Ys(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var l=vt(r),o=l.length;e.push(l),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return pi(e)}function kh(t,e){var n=new Uint8Array(32),r=gd(n),i=12,l=0;switch(n[0]=5,t.t){case"n":n[1]=2,cU(n,i,t.v),l|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),l|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),l|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,l,!0),n.slice(0,i)}function Ch(t,e){var n=new Uint8Array(32),r=gd(n),i=12,l=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),l|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),l|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),l|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,l,!0),n.slice(0,i)}function si(t){var e=en(t);return Lo(e[1][0].data)}function dU(t,e,n){var r,i,l,o;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var d=((o=(l=t[8])==null?void 0:l[0])==null?void 0:o.data)&&sl(t[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var p=0,f=gd(t[7][0].data),m=0,v=[],b=gd(t[4][0].data),E=0,T=[],_=0;_<e.length;++_){if(e[_]==null){f.setUint16(_*2,65535,!0),b.setUint16(_*2,65535);continue}f.setUint16(_*2,m,!0),b.setUint16(_*2,E,!0);var w,A;switch(typeof e[_]){case"string":w=kh({t:"s",v:e[_]},n),A=Ch({t:"s",v:e[_]},n);break;case"number":w=kh({t:"n",v:e[_]},n),A=Ch({t:"n",v:e[_]},n);break;case"boolean":w=kh({t:"b",v:e[_]},n),A=Ch({t:"b",v:e[_]},n);break;default:throw new Error("Unsupported value "+e[_])}v.push(w),m+=w.length,T.push(A),E+=A.length,++p}for(t[2][0].data=vt(p);_<t[7][0].data.length/2;++_)f.setUint16(_*2,65535,!0),b.setUint16(_*2,65535,!0);return t[6][0].data=pi(v),t[3][0].data=pi(T),p}function fU(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ar(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Kt(r)));var l=xd(n,{range:r,header:1}),o=["~Sh33tJ5~"];l.forEach(function(K){return K.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var d={},p=[],f=Nt.read(e.numbers,{type:"base64"});f.FileIndex.map(function(K,Y){return[K,f.FullPaths[Y]]}).forEach(function(K){var Y=K[0],W=K[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var he=Y.content,Ae=Ir(he),ze=Dr(Ae);ze.forEach(function(Ie){p.push(Ie.id),d[Ie.id]={deps:[],location:W,type:sl(Ie.messages[0].meta[1][0].data)}})}}),p.sort(function(K,Y){return K-Y});var m=p.filter(function(K){return K>1}).map(function(K){return[K,vt(K)]});f.FileIndex.map(function(K,Y){return[K,f.FullPaths[Y]]}).forEach(function(K){var Y=K[0];if(K[1],!!Y.name.match(/\.iwa/)){var W=Dr(Ir(Y.content));W.forEach(function(he){he.messages.forEach(function(Ae){m.forEach(function(ze){he.messages.some(function(Ie){return sl(Ie.meta[1][0].data)!=11006&&oU(Ie.data,ze[1])})&&d[ze[0]].deps.push(he.id)})})})}});for(var v=Nt.find(f,d[1].location),b=Dr(Ir(v.content)),E,T=0;T<b.length;++T){var _=b[T];_.id==1&&(E=_)}var w=si(en(E.messages[0].data)[1][0].data);for(v=Nt.find(f,d[w].location),b=Dr(Ir(v.content)),T=0;T<b.length;++T)_=b[T],_.id==w&&(E=_);for(w=si(en(E.messages[0].data)[2][0].data),v=Nt.find(f,d[w].location),b=Dr(Ir(v.content)),T=0;T<b.length;++T)_=b[T],_.id==w&&(E=_);for(w=si(en(E.messages[0].data)[2][0].data),v=Nt.find(f,d[w].location),b=Dr(Ir(v.content)),T=0;T<b.length;++T)_=b[T],_.id==w&&(E=_);var A=en(E.messages[0].data);{A[6][0].data=vt(r.e.r+1),A[7][0].data=vt(r.e.c+1);var R=si(A[46][0].data),k=Nt.find(f,d[R].location),L=Dr(Ir(k.content));{for(var V=0;V<L.length&&L[V].id!=R;++V);if(L[V].id!=R)throw"Bad ColumnRowUIDMapArchive";var te=en(L[V].messages[0].data);te[1]=[],te[2]=[],te[3]=[];for(var P=0;P<=r.e.c;++P){var M=[];M[1]=M[2]=[{type:0,data:vt(P+420690)}],te[1].push({type:2,data:fn(M)}),te[2].push({type:0,data:vt(P)}),te[3].push({type:0,data:vt(P)})}te[4]=[],te[5]=[],te[6]=[];for(var B=0;B<=r.e.r;++B)M=[],M[1]=M[2]=[{type:0,data:vt(B+726270)}],te[4].push({type:2,data:fn(M)}),te[5].push({type:0,data:vt(B)}),te[6].push({type:0,data:vt(B)});L[V].messages[0].data=fn(te)}k.content=Ys($s(L)),k.size=k.content.length,delete A[46];var J=en(A[4][0].data);{J[7][0].data=vt(r.e.r+1);var U=en(J[1][0].data),re=si(U[2][0].data);k=Nt.find(f,d[re].location),L=Dr(Ir(k.content));{if(L[0].id!=re)throw"Bad HeaderStorageBucket";var fe=en(L[0].messages[0].data);for(B=0;B<l.length;++B){var De=en(fe[2][0].data);De[1][0].data=vt(B),De[4][0].data=vt(l[B].length),fe[2][B]={type:fe[2][0].type,data:fn(De)}}L[0].messages[0].data=fn(fe)}k.content=Ys($s(L)),k.size=k.content.length;var ee=si(J[2][0].data);k=Nt.find(f,d[ee].location),L=Dr(Ir(k.content));{if(L[0].id!=ee)throw"Bad HeaderStorageBucket";for(fe=en(L[0].messages[0].data),P=0;P<=r.e.c;++P)De=en(fe[2][0].data),De[1][0].data=vt(P),De[4][0].data=vt(r.e.r+1),fe[2][P]={type:fe[2][0].type,data:fn(De)};L[0].messages[0].data=fn(fe)}k.content=Ys($s(L)),k.size=k.content.length;var Q=si(J[4][0].data);(function(){for(var K=Nt.find(f,d[Q].location),Y=Dr(Ir(K.content)),W,he=0;he<Y.length;++he){var Ae=Y[he];Ae.id==Q&&(W=Ae)}var ze=en(W.messages[0].data);{ze[3]=[];var Ie=[];o.forEach(function(et,tn){Ie[1]=[{type:0,data:vt(tn)}],Ie[2]=[{type:0,data:vt(1)}],Ie[3]=[{type:2,data:lU(et)}],ze[3].push({type:2,data:fn(Ie)})})}W.messages[0].data=fn(ze);var je=$s(Y),lt=Ys(je);K.content=lt,K.size=K.content.length})();var ye=en(J[3][0].data);{var de=ye[1][0];delete ye[2];var ke=en(de.data);{var me=si(ke[2][0].data);(function(){for(var K=Nt.find(f,d[me].location),Y=Dr(Ir(K.content)),W,he=0;he<Y.length;++he){var Ae=Y[he];Ae.id==me&&(W=Ae)}var ze=en(W.messages[0].data);{delete ze[6],delete ye[7];var Ie=new Uint8Array(ze[5][0].data);ze[5]=[];for(var je=0,lt=0;lt<=r.e.r;++lt){var et=en(Ie);je+=dU(et,l[lt],o),et[1][0].data=vt(lt),ze[5].push({data:fn(et),type:2})}ze[1]=[{type:0,data:vt(r.e.c+1)}],ze[2]=[{type:0,data:vt(r.e.r+1)}],ze[3]=[{type:0,data:vt(je)}],ze[4]=[{type:0,data:vt(r.e.r+1)}]}W.messages[0].data=fn(ze);var tn=$s(Y),Ze=Ys(tn);K.content=Ze,K.size=K.content.length})()}de.data=fn(ke)}J[3][0].data=fn(ye)}A[4][0].data=fn(J)}E.messages[0].data=fn(A);var q=$s(b),F=Ys(q);return v.content=F,v.size=v.content.length,f}function hU(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function Zp(t){hU([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function pU(t,e){return e.bookType=="ods"?u_(t,e):e.bookType=="numbers"?fU(t,e):e.bookType=="xlsb"?mU(t,e):gU(t,e)}function mU(t,e){el=1024,t&&!t.SSF&&(t.SSF=Gn(Gt)),t&&t.SSF&&(Id(),Dd(t.SSF),e.revssf=Fd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ko?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=$E.indexOf(e.bookType)>-1,i=SE();Zp(e=e||{});var l=jp(),o="",d=0;if(e.cellXfs=[],xi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Qe(l,o,wE(t.Props,e)),i.coreprops.push(o),yt(e.rels,2,o,ut.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var p=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&p.push(t.SheetNames[f]);t.Props.SheetNames=p}for(t.Props.Worksheets=t.Props.SheetNames.length,Qe(l,o,AE(t.Props)),i.extprops.push(o),yt(e.rels,3,o,ut.EXT_PROPS),t.Custprops!==t.Props&&xn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Qe(l,o,kE(t.Custprops)),i.custprops.push(o),yt(e.rels,4,o,ut.CUST_PROPS)),d=1;d<=t.SheetNames.length;++d){var m={"!id":{}},v=t.Sheets[t.SheetNames[d-1]],b=(v||{})["!type"]||"sheet";switch(b){case"chart":default:o="xl/worksheets/sheet"+d+"."+n,Qe(l,o,v9(d-1,o,e,t,m)),i.sheets.push(o),yt(e.wbrels,-1,"worksheets/sheet"+d+"."+n,ut.WS[0])}if(v){var E=v["!comments"],T=!1,_="";E&&E.length>0&&(_="xl/comments"+d+"."+n,Qe(l,_,S9(E,_)),i.comments.push(_),yt(m,-1,"../comments"+d+"."+n,ut.CMNT),T=!0),v["!legacy"]&&T&&Qe(l,"xl/drawings/vmlDrawing"+d+".vml",VE(d,v["!comments"])),delete v["!comments"],delete v["!legacy"]}m["!id"].rId1&&Qe(l,_E(o),al(m))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,Qe(l,o,b9(e.Strings,o,e)),i.strs.push(o),yt(e.wbrels,-1,"sharedStrings."+n,ut.SST)),o="xl/workbook."+n,Qe(l,o,x9(t,o)),i.workbooks.push(o),yt(e.rels,1,o,ut.WB),o="xl/theme/theme1.xml",Qe(l,o,HE(t.Themes,e)),i.themes.push(o),yt(e.wbrels,-1,"theme/theme1.xml",ut.THEME),o="xl/styles."+n,Qe(l,o,y9(t,o,e)),i.styles.push(o),yt(e.wbrels,-1,"styles."+n,ut.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",Qe(l,o,t.vbaraw),i.vba.push(o),yt(e.wbrels,-1,"vbaProject.bin",ut.VBA)),o="xl/metadata."+n,Qe(l,o,E9(o)),i.metadata.push(o),yt(e.wbrels,-1,"metadata."+n,ut.XLMETA),Qe(l,"[Content_Types].xml",EE(i,e)),Qe(l,"_rels/.rels",al(e.rels)),Qe(l,"xl/_rels/workbook."+n+".rels",al(e.wbrels)),delete e.revssf,delete e.ssf,l}function gU(t,e){el=1024,t&&!t.SSF&&(t.SSF=Gn(Gt)),t&&t.SSF&&(Id(),Dd(t.SSF),e.revssf=Fd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ko?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=$E.indexOf(e.bookType)>-1,i=SE();Zp(e=e||{});var l=jp(),o="",d=0;if(e.cellXfs=[],xi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Qe(l,o,wE(t.Props,e)),i.coreprops.push(o),yt(e.rels,2,o,ut.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var p=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&p.push(t.SheetNames[f]);t.Props.SheetNames=p}t.Props.Worksheets=t.Props.SheetNames.length,Qe(l,o,AE(t.Props)),i.extprops.push(o),yt(e.rels,3,o,ut.EXT_PROPS),t.Custprops!==t.Props&&xn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Qe(l,o,kE(t.Custprops)),i.custprops.push(o),yt(e.rels,4,o,ut.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,d=1;d<=t.SheetNames.length;++d){var v={"!id":{}},b=t.Sheets[t.SheetNames[d-1]],E=(b||{})["!type"]||"sheet";switch(E){case"chart":default:o="xl/worksheets/sheet"+d+"."+n,Qe(l,o,t_(d-1,e,t,v)),i.sheets.push(o),yt(e.wbrels,-1,"worksheets/sheet"+d+"."+n,ut.WS[0])}if(b){var T=b["!comments"],_=!1,w="";if(T&&T.length>0){var A=!1;T.forEach(function(R){R[1].forEach(function(k){k.T==!0&&(A=!0)})}),A&&(w="xl/threadedComments/threadedComment"+d+"."+n,Qe(l,w,YL(T,m,e)),i.threadedcomments.push(w),yt(v,-1,"../threadedComments/threadedComment"+d+"."+n,ut.TCMNT)),w="xl/comments"+d+"."+n,Qe(l,w,qE(T)),i.comments.push(w),yt(v,-1,"../comments"+d+"."+n,ut.CMNT),_=!0}b["!legacy"]&&_&&Qe(l,"xl/drawings/vmlDrawing"+d+".vml",VE(d,b["!comments"])),delete b["!comments"],delete b["!legacy"]}v["!id"].rId1&&Qe(l,_E(o),al(v))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,Qe(l,o,PE(e.Strings,e)),i.strs.push(o),yt(e.wbrels,-1,"sharedStrings."+n,ut.SST)),o="xl/workbook."+n,Qe(l,o,a_(t)),i.workbooks.push(o),yt(e.rels,1,o,ut.WB),o="xl/theme/theme1.xml",Qe(l,o,HE(t.Themes,e)),i.themes.push(o),yt(e.wbrels,-1,"theme/theme1.xml",ut.THEME),o="xl/styles."+n,Qe(l,o,BE(t,e)),i.styles.push(o),yt(e.wbrels,-1,"styles."+n,ut.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",Qe(l,o,t.vbaraw),i.vba.push(o),yt(e.wbrels,-1,"vbaProject.bin",ut.VBA)),o="xl/metadata."+n,Qe(l,o,GE()),i.metadata.push(o),yt(e.wbrels,-1,"metadata."+n,ut.XLMETA),m.length>1&&(o="xl/persons/person.xml",Qe(l,o,JL(m)),i.people.push(o),yt(e.wbrels,-1,"persons/person.xml",ut.PEOPLE)),Qe(l,"[Content_Types].xml",EE(i,e)),Qe(l,"_rels/.rels",al(e.rels)),Qe(l,"xl/_rels/workbook."+n+".rels",al(e.wbrels)),delete e.revssf,delete e.ssf,l}function xU(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Ca(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function d_(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return $o(e.file,Nt.write(t,{type:ht?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Nt.write(t,e)}function vU(t,e){var n=Gn(e||{}),r=pU(t,n);return yU(r,n)}function yU(t,e){var n={},r=ht?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Nt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Md(i))}return e.password&&typeof encrypt_agile<"u"?d_(encrypt_agile(i,e.password),e):e.type==="file"?$o(e.file,i):e.type=="string"?To(i):i}function bU(t,e){var n=e||{},r=P9(t,n);return d_(r,n)}function Wr(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Mo(Io(r));case"binary":return Io(r);case"string":return t;case"file":return $o(e.file,r,"utf8");case"buffer":return ht?Ia(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Wr(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function SU(t,e){switch(e.type){case"base64":return Mo(t);case"binary":return t;case"string":return t;case"file":return $o(e.file,t,"binary");case"buffer":return ht?Ia(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Du(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Mo(n):e.type=="string"?To(n):n;case"file":return $o(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function f_(t,e){XD(),s9(t);var n=Gn(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=f_(t,n);return n.type="array",Md(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Wr(F9(t,n),n);case"slk":case"sylk":return Wr(rL.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return Wr(l_(t.Sheets[t.SheetNames[i]],n),n);case"txt":return SU(h_(t.Sheets[t.SheetNames[i]],n),n);case"csv":return Wr(em(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return Wr(aL.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return Du(nL.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return Wr(iL.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return Wr(fL.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return Wr(LE.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return Wr(u_(t,n),n);case"wk1":return Du(H2.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return Du(H2.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Du(s_(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),bU(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return vU(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function EU(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function _U(t,e,n){var r={};return r.type="file",r.file=e,EU(r),f_(t,r)}function TU(t,e,n,r,i,l,o,d){var p=gn(n),f=d.defval,m=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),v=!0,b=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(b,"__rowNum__",{value:n,enumerable:!1})}catch{b.__rowNum__=n}else b.__rowNum__=n;if(!o||t[n])for(var E=e.s.c;E<=e.e.c;++E){var T=o?t[n][E]:t[r[E]+p];if(T===void 0||T.t===void 0){if(f===void 0)continue;l[E]!=null&&(b[l[E]]=f);continue}var _=T.v;switch(T.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(l[E]!=null){if(_==null)if(T.t=="e"&&_===null)b[l[E]]=null;else if(f!==void 0)b[l[E]]=f;else if(m&&_===null)b[l[E]]=null;else continue;else b[l[E]]=m&&(T.t!=="n"||T.t==="n"&&d.rawNumbers!==!1)?_:Ra(T,_,d);_!=null&&(v=!1)}}return{row:b,isempty:v}}function xd(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,l=[],o=0,d="",p={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},m=f.range!=null?f.range:t["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof m){case"string":p=Ft(m);break;case"number":p=Ft(t["!ref"]),p.s.r=m;break;default:p=m}r>0&&(i=0);var v=gn(p.s.r),b=[],E=[],T=0,_=0,w=Array.isArray(t),A=p.s.r,R=0,k={};w&&!t[A]&&(t[A]=[]);var L=f.skipHidden&&t["!cols"]||[],V=f.skipHidden&&t["!rows"]||[];for(R=p.s.c;R<=p.e.c;++R)if(!(L[R]||{}).hidden)switch(b[R]=Sn(R),n=w?t[A][R]:t[b[R]+v],r){case 1:l[R]=R-p.s.c;break;case 2:l[R]=b[R];break;case 3:l[R]=f.header[R-p.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),d=o=Ra(n,null,f),_=k[o]||0,!_)k[o]=1;else{do d=o+"_"+_++;while(k[d]);k[o]=_,k[d]=1}l[R]=d}for(A=p.s.r+i;A<=p.e.r;++A)if(!(V[A]||{}).hidden){var te=TU(t,p,A,b,r,l,w,f);(te.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(E[T++]=te.row)}return E.length=T,E}var W2=/"/g;function wU(t,e,n,r,i,l,o,d){for(var p=!0,f=[],m="",v=gn(n),b=e.s.c;b<=e.e.c;++b)if(r[b]){var E=d.dense?(t[n]||[])[b]:t[r[b]+v];if(E==null)m="";else if(E.v!=null){p=!1,m=""+(d.rawNumbers&&E.t=="n"?E.v:Ra(E,null,d));for(var T=0,_=0;T!==m.length;++T)if((_=m.charCodeAt(T))===i||_===l||_===34||d.forceQuotes){m='"'+m.replace(W2,'""')+'"';break}m=="ID"&&(m='"ID"')}else E.f!=null&&!E.F?(p=!1,m="="+E.f,m.indexOf(",")>=0&&(m='"'+m.replace(W2,'""')+'"')):m="";f.push(m)}return d.blankrows===!1&&p?null:f.join(o)}function em(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Ft(t["!ref"]),l=r.FS!==void 0?r.FS:",",o=l.charCodeAt(0),d=r.RS!==void 0?r.RS:`
`,p=d.charCodeAt(0),f=new RegExp((l=="|"?"\\|":l)+"+$"),m="",v=[];r.dense=Array.isArray(t);for(var b=r.skipHidden&&t["!cols"]||[],E=r.skipHidden&&t["!rows"]||[],T=i.s.c;T<=i.e.c;++T)(b[T]||{}).hidden||(v[T]=Sn(T));for(var _=0,w=i.s.r;w<=i.e.r;++w)(E[w]||{}).hidden||(m=wU(t,i,w,v,o,p,l,r),m!=null&&(r.strip&&(m=m.replace(f,"")),(m||r.blankrows!==!1)&&n.push((_++?d:"")+m)));return delete r.dense,n.join("")}function h_(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=em(t,e);return n}function NU(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Ft(t["!ref"]),l="",o=[],d,p=[],f=Array.isArray(t);for(d=i.s.c;d<=i.e.c;++d)o[d]=Sn(d);for(var m=i.s.r;m<=i.e.r;++m)for(l=gn(m),d=i.s.c;d<=i.e.c;++d)if(e=o[d]+l,n=f?(t[m]||[])[d]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}p[p.length]=e+"="+r}return p}function p_(t,e,n){var r=n||{},i=+!r.skipHeader,l=t||{},o=0,d=0;if(l&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var p=typeof r.origin=="string"?an(r.origin):r.origin;o=p.r,d=p.c}var f,m={s:{c:0,r:0},e:{c:d,r:o+e.length-1+i}};if(l["!ref"]){var v=Ft(l["!ref"]);m.e.c=Math.max(m.e.c,v.e.c),m.e.r=Math.max(m.e.r,v.e.r),o==-1&&(o=v.e.r+1,m.e.r=o+e.length-1+i)}else o==-1&&(o=0,m.e.r=e.length-1+i);var b=r.header||[],E=0;e.forEach(function(_,w){xn(_).forEach(function(A){(E=b.indexOf(A))==-1&&(b[E=b.length]=A);var R=_[A],k="z",L="",V=Et({c:d+E,r:o+w+i});f=Po(l,V),R&&typeof R=="object"&&!(R instanceof Date)?l[V]=R:(typeof R=="number"?k="n":typeof R=="boolean"?k="b":typeof R=="string"?k="s":R instanceof Date?(k="d",r.cellDates||(k="n",R=Hn(R)),L=r.dateNF||Gt[14]):R===null&&r.nullError&&(k="e",R=0),f?(f.t=k,f.v=R,delete f.w,delete f.R,L&&(f.z=L)):l[V]=f={t:k,v:R},L&&(f.z=L))})}),m.e.c=Math.max(m.e.c,d+b.length-1);var T=gn(o);if(i)for(E=0;E<b.length;++E)l[Sn(E+d)+T]={t:"s",v:b[E]};return l["!ref"]=Kt(m),l}function AU(t,e){return p_(null,t,e)}function Po(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=an(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Po(t,Et(e)):Po(t,Et({r:e,c:n||0}))}function kU(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function CU(){return{SheetNames:[],Sheets:{}}}function RU(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var l=n.match(/(^.*?)(\d+)$/);i=l&&+l[2]||0;var o=l&&l[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(r_(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function MU(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=kU(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function DU(t,e){return t.z=e,t}function m_(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function IU(t,e,n){return m_(t,"#"+e,n)}function FU(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function LU(t,e,n,r){for(var i=typeof e!="string"?e:Ft(e),l=typeof e=="string"?e:Kt(e),o=i.s.r;o<=i.e.r;++o)for(var d=i.s.c;d<=i.e.c;++d){var p=Po(t,o,d);p.t="n",p.F=l,delete p.v,o==i.s.r&&d==i.s.c&&(p.f=n,r&&(p.D=!0))}return t}var Rh={encode_col:Sn,encode_row:gn,encode_cell:Et,encode_range:Kt,decode_col:Gp,decode_row:Hp,split_cell:XI,decode_cell:an,decode_range:ar,format_cell:Ra,sheet_add_aoa:mE,sheet_add_json:p_,sheet_add_dom:o_,aoa_to_sheet:ml,json_to_sheet:AU,table_to_sheet:c_,table_to_book:aU,sheet_to_csv:em,sheet_to_txt:h_,sheet_to_json:xd,sheet_to_html:l_,sheet_to_formulae:NU,sheet_to_row_object_array:xd,sheet_get_cell:Po,book_new:CU,book_append_sheet:RU,book_set_sheet_visibility:MU,cell_set_number_format:DU,cell_set_hyperlink:m_,cell_set_internal_link:IU,cell_add_comment:FU,sheet_set_array_formula:LU,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const PU=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(""),[i,l]=I.useState([]),[o,d]=I.useState([]),[p,f]=I.useState(!0),[m,v]=I.useState(!1),[b,E]=I.useState(""),[T,_]=I.useState(!1),[w,A]=I.useState(null),[R,k]=I.useState(""),[L,V]=I.useState(!1),[te,P]=I.useState({});I.useEffect(()=>{(async()=>{try{const Q=await Ne.getTables();e(Q),Q.length>0&&r(Q[0])}catch(Q){console.error("Failed to fetch tables:",Q)}finally{f(!1)}})()},[]),I.useEffect(()=>{if(!n)return;(async()=>{v(!0);try{const[Q,ye]=await Promise.all([Ne.getTableData(n),Ne.getTableInfo(n)]);l(Q),d(ye)}catch(Q){console.error(`Failed to fetch data for ${n}:`,Q)}finally{v(!1)}})()},[n]);const M=(ee,Q,ye)=>{A({rowId:ee,field:Q}),k(ye===null?"":String(ye))},B=async()=>{if(w)try{await Ne.updateTableRecord(n,w.rowId,{[w.field]:R}),l(ee=>ee.map(Q=>Q.id===w.rowId?{...Q,[w.field]:R}:Q)),A(null)}catch(ee){console.error("Failed to update record:",ee),alert("Failed to update record.")}},J=async ee=>{if(confirm("Delete this record permanently from the database?"))try{await Ne.deleteTableRecord(n,ee),l(Q=>Q.filter(ye=>ye.id!==ee))}catch(Q){console.error("Failed to delete record:",Q),alert("Failed to delete record.")}},U=async ee=>{ee.preventDefault();try{const Q={...te};Q.id||(Q.id=`${n.substring(0,3)}-${Date.now()}`),await Ne.insertTableRecord(n,Q);const ye=await Ne.getTableData(n);l(ye),V(!1),P({})}catch(Q){console.error("Failed to add record:",Q),alert(`Failed to add record: ${Q.message}`)}},re=()=>{if(i.length===0)return;const ee=o.map(me=>me.name),Q=[ee.join(","),...i.map(me=>ee.map(q=>JSON.stringify(me[q]??"")).join(","))].join(`
`),ye=new Blob([Q],{type:"text/csv"}),de=window.URL.createObjectURL(ye),ke=document.createElement("a");ke.href=de,ke.download=`${n}_export.csv`,ke.click()},fe=async()=>{_(!0);try{const ee=Rh.book_new();for(const Q of t){const ye=await Ne.getTableData(Q);if(ye&&ye.length>0){const de=Rh.json_to_sheet(ye);Rh.book_append_sheet(ee,de,Q.substring(0,31))}}_U(ee,`full_database_export_${new Date().toISOString().split("T")[0]}.xlsx`),alert("Full database export complete!")}catch(ee){console.error("Export failed:",ee),alert("Failed to export database.")}_(!1)};if(p)return u.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] space-y-4",children:[u.jsx(st,{size:40,className:"animate-spin text-indigo-600"}),u.jsx("p",{className:"text-xs font-black uppercase tracking-[0.3em] text-slate-400",children:"Loading Database..."})]});const De=i.filter(ee=>Object.values(ee).some(Q=>String(Q).toLowerCase().includes(b.toLowerCase())));return u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500 max-w-[100vw] overflow-hidden pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 px-2",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[u.jsx("div",{className:"p-3 bg-white dark:bg-slate-900 text-school-navy dark:text-school-gold rounded-2xl shadow-xl border border-slate-100 dark:border-slate-800",children:u.jsx(pp,{size:24})}),u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tighter uppercase",children:"Database Forge"})]}),u.jsx("p",{className:"text-slate-500 font-bold italic text-sm ml-1 opacity-80",children:"Direct SQL Table Control. Full CRUD Access."})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:fe,disabled:T,className:"flex items-center gap-3 px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:opacity-90 active:scale-95 transition-all disabled:opacity-50",children:[T?u.jsx(st,{size:18,className:"animate-spin"}):u.jsx(EA,{size:18}),"Export DB (XLSX)"]}),u.jsxs("button",{onClick:()=>V(!0),className:"flex items-center gap-3 px-8 py-4 bg-[#00A36C] text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:opacity-90 active:scale-95 transition-all",children:[u.jsx(Co,{size:18})," Add Record"]}),u.jsxs("button",{onClick:re,className:"flex items-center gap-3 px-8 py-4 bg-[#1A1F2C] text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:opacity-90 active:scale-95 transition-all",children:[u.jsx(zo,{size:18})," Export CSV"]})]})]}),u.jsx("div",{className:"relative group px-2",children:u.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-4 scroll-smooth no-scrollbar mask-fade-edges",children:t.map(ee=>u.jsx("button",{onClick:()=>{r(ee),A(null)},className:`px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] whitespace-nowrap transition-all flex items-center gap-3 border-2 shrink-0 ${n===ee?"bg-white border-school-navy text-school-navy shadow-lg ring-4 ring-indigo-500/10 dark:bg-slate-800 dark:border-school-gold dark:text-school-gold":"bg-white border-slate-100 text-slate-400 dark:bg-slate-900 dark:border-slate-800 hover:text-slate-600 hover:border-slate-200"}`,children:ee},ee))})}),u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[3.5rem] shadow-[0_25px_80px_rgba(0,0,0,0.08)] overflow-hidden flex flex-col transition-colors",children:[u.jsxs("div",{className:"px-12 py-10 border-b border-slate-50 dark:border-slate-800 flex flex-col md:flex-row gap-6 justify-between items-center bg-slate-50/20 dark:bg-slate-800/20",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-[2rem] shadow-sm border border-slate-100 dark:border-slate-700",children:u.jsx(u4,{size:32,className:"text-school-navy dark:text-school-gold"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter text-slate-800 dark:text-white leading-none",children:n}),u.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-2",children:[i.length," Records Found"]})]})]}),u.jsxs("div",{className:"relative w-full md:w-[420px]",children:[u.jsx(Go,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400",size:20}),u.jsx("input",{type:"text",placeholder:`Filter ${n} records...`,className:"w-full pl-16 pr-8 py-5 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-[2rem] text-sm font-bold outline-none focus:border-school-navy dark:focus:border-school-gold shadow-sm transition-all placeholder:text-slate-300",value:b,onChange:ee=>E(ee.target.value)})]})]}),u.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:m?u.jsx("div",{className:"flex justify-center p-20",children:u.jsx(st,{className:"animate-spin"})}):u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50/50 dark:bg-slate-800/60 border-b border-slate-100 dark:border-slate-800",children:[u.jsx("th",{className:"px-10 py-7 border-r border-slate-100 dark:border-slate-700 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] text-center w-20",children:"#"}),o.map(ee=>u.jsxs("th",{className:"px-10 py-7 border-r border-slate-100 dark:border-slate-700 text-[10px] font-black text-slate-500 dark:text-slate-300 uppercase tracking-[0.2em] text-left min-w-[200px]",children:[ee.name," ",u.jsxs("span",{className:"text-[8px] text-slate-300 lowercase",children:["(",ee.type,")"]})]},ee.name)),u.jsx("th",{className:"px-10 py-7 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] text-center w-28",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800 min-h-[400px]",children:De.length>0?De.map((ee,Q)=>u.jsxs("tr",{className:"hover:bg-slate-50/30 dark:hover:bg-indigo-900/5 transition-colors group",children:[u.jsx("td",{className:"px-10 py-8 border-r border-slate-100 dark:border-slate-700 text-[11px] font-black text-slate-300 dark:text-slate-600 text-center",children:Q+1}),o.map(ye=>{const de=ye.name,ke=(w==null?void 0:w.rowId)===ee.id&&(w==null?void 0:w.field)===de,me=de==="id";return u.jsx("td",{className:`px-10 py-8 border-r border-slate-100 dark:border-slate-700 transition-all ${me?"":"cursor-text"} ${ke?"bg-white dark:bg-slate-800 ring-4 ring-indigo-500/10 z-10 relative":"hover:bg-slate-50/50 dark:hover:bg-slate-800/20"}`,onClick:()=>!ke&&!me&&M(ee.id,de,ee[de]),children:ke?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{autoFocus:!0,className:"w-full bg-transparent border-none outline-none font-black text-sm text-school-navy dark:text-school-gold",value:R,onChange:q=>k(q.target.value),onBlur:B,onKeyDown:q=>q.key==="Enter"&&B()}),u.jsx("button",{onClick:B,className:"p-1 bg-school-navy text-white rounded-md",children:u.jsx(Ho,{size:12})})]}):u.jsx("div",{className:"max-w-[450px] truncate text-sm font-bold text-slate-700 dark:text-slate-300",children:ee[de]===null?u.jsx("span",{className:"text-slate-200 italic font-medium",children:"null"}):String(ee[de])})},de)}),u.jsx("td",{className:"px-10 py-8 text-center",children:u.jsx("button",{onClick:()=>J(ee.id),className:"p-3 text-slate-200 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-[1.25rem] transition-all",children:u.jsx(mi,{size:20})})})]},ee.id||Q)):u.jsx("tr",{children:u.jsx("td",{colSpan:o.length+2,className:"p-48 text-center bg-slate-50/10",children:u.jsxs("div",{className:"flex flex-col items-center gap-8 opacity-20 dark:opacity-40",children:[u.jsx(xb,{size:100,className:"text-slate-400 dark:text-slate-600",strokeWidth:1}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-slate-500 dark:text-slate-400",children:"Empty Table Recordset"})]})})})})]})})]}),L&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 overflow-hidden max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8 flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:u.jsx(Co,{size:24})}),u.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:["Add to ",n]})]}),u.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{})})]}),u.jsxs("form",{onSubmit:U,className:"flex-1 overflow-y-auto custom-scrollbar pr-4",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(ee=>u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:[ee.name," ",u.jsxs("span",{className:"opacity-50 lowercase",children:["(",ee.type,")"]})]}),u.jsx("input",{type:ee.type==="INTEGER"||ee.type==="REAL"?"number":"text",className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:ee.name==="id"?"Auto-generated if empty":`Enter ${ee.name}`,value:te[ee.name]||"",onChange:Q=>P({...te,[ee.name]:Q.target.value})})]},ee.name))}),u.jsxs("div",{className:"pt-8 flex gap-4 mt-auto",children:[u.jsx("button",{type:"button",onClick:()=>V(!1),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-xl shadow-indigo-100 dark:shadow-none",children:"Insert Record"})]})]})]})})]})},jU=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState(!0);I.useEffect(()=>{(async()=>{try{const d=await Ne.getClearance(t.id);n(d)}catch(d){console.error("Failed to fetch clearance:",d)}i(!1)})()},[t.id]);const l=e.length>0&&e.every(o=>o.status==="cleared");return r?u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx(st,{className:"animate-spin text-school-navy",size:40})}):u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Learner Clearance"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"End-of-term departmental verification and property return status."})]}),u.jsxs("div",{className:`px-8 py-4 rounded-3xl flex items-center gap-4 border-2 transition-all ${l?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-amber-50 border-amber-100 text-amber-600"}`,children:[l?u.jsx(Mn,{size:24}):u.jsx(Er,{size:24,className:"animate-pulse"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 leading-none mb-1",children:"Overall Status"}),u.jsx("p",{className:"text-sm font-black uppercase tracking-widest leading-none",children:l?"Officialy Cleared":"Pending Verification"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(o=>u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 p-8 rounded-[3rem] shadow-sm hover:shadow-xl transition-all group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-8",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:o.department}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Administrative Unit"})]}),u.jsx("div",{className:`p-3 rounded-2xl ${o.status==="cleared"?"bg-emerald-50 text-emerald-600":o.status==="blocked"?"bg-rose-50 text-rose-600":"bg-amber-50 text-amber-600"}`,children:o.status==="cleared"?u.jsx(di,{size:24}):o.status==="blocked"?u.jsx(rr,{size:24}):u.jsx(Er,{size:24})})]}),u.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-2xl mb-8 border border-transparent group-hover:border-slate-100 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3 text-slate-400 mb-2",children:[u.jsx(Hi,{size:14}),u.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Registrar Remarks"})]}),u.jsx("p",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 leading-relaxed italic",children:o.remarks||"No pending issues recorded. Verification ongoing."})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-4 py-1.5 rounded-full border ${o.status==="cleared"?"bg-emerald-50 text-emerald-600 border-emerald-100":o.status==="blocked"?"bg-rose-50 text-rose-600 border-rose-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:o.status}),u.jsx(yb,{className:"text-slate-200 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all",size:20})]})]},o.id))}),u.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] text-white relative overflow-hidden",children:[u.jsxs("div",{className:"relative z-10",children:[u.jsx("h4",{className:"text-xl font-black uppercase tracking-tighter mb-2",children:"Clearance Protocol"}),u.jsx("p",{className:"text-sm text-white/60 font-medium max-w-2xl leading-relaxed",children:"Once all departments have verified your status, a downloadable digital clearance certificate will be generated here. This document is required for end-of-year enrollment and SF10 requests."})]}),u.jsx(di,{size:180,className:"absolute top-0 right-0 p-8 text-white/5 -rotate-12 translate-x-1/4 -translate-y-1/4"})]})]})},OU=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState(!0);if(I.useEffect(()=>{console.log("Fetching attendance for user:",t.id),Ne.getAttendance(t.id).then(f=>{console.log("Attendance Data Received:",f),n(f),i(!1)})},[t.id]),r)return null;const l=e.filter(f=>f.status==="present").length,o=e.filter(f=>f.status==="late").length,d=e.filter(f=>f.status==="absent"||f.status==="excused").length,p=f=>{const m=e.find(v=>{if(!v.date)return!1;const b=v.date.split("-");return parseInt(b[2],10)===f});return m?m.status==="present"?"bg-emerald-500 text-white shadow-lg":m.status==="late"?"bg-amber-400 text-white shadow-lg":m.status==="absent"||m.status==="excused"?"bg-rose-500 text-white shadow-lg":"bg-slate-50 dark:bg-slate-800 text-slate-300":"bg-slate-50 dark:bg-slate-800 text-slate-300"};return u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500",children:[u.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Presence Tracker"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Daily attendance consistency and punctuality log."})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm",children:[u.jsx("h3",{className:"text-lg font-black mb-8 flex items-center gap-2",children:"Summary"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:"Total Present"}),u.jsx("span",{className:"text-xl font-black text-emerald-500",children:l})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:"Late Days"}),u.jsx("span",{className:"text-xl font-black text-amber-500",children:o})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:"Absent/Excused"}),u.jsx("span",{className:"text-xl font-black text-indigo-500",children:d})]})]})]}),u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-8 rounded-[2.5rem] border border-amber-100 dark:border-amber-800",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx(Hi,{size:20,className:"text-amber-600 flex-shrink-0"}),u.jsx("p",{className:"text-xs font-bold text-amber-800 dark:text-amber-200 leading-relaxed",children:'A perfect attendance rate of 100% at the end of the quarter qualifies you for the "Excellent Punctuality Award."'})]})})]}),u.jsx("div",{className:"lg:col-span-3",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm",children:[u.jsx("h3",{className:"text-lg font-black mb-10 flex items-center gap-2",children:"Monthly Consistency"}),e.length>0?u.jsx("div",{className:"grid grid-cols-7 gap-4",children:Array.from({length:31}).map((f,m)=>u.jsx("div",{className:`aspect-square rounded-2xl flex items-center justify-center text-[10px] font-black transition-all ${p(m+1)}`,children:m+1},m))}):u.jsx("div",{className:"p-20 text-center text-slate-400 font-bold uppercase tracking-widest text-xs",children:"No attendance records found for this period."}),u.jsxs("div",{className:"mt-12 flex flex-wrap gap-8 pt-8 border-t border-slate-50 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-500"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Present"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-4 h-4 rounded-full bg-amber-400"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Late"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-4 h-4 rounded-full bg-rose-500"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Absent"})]})]})]})})]})]})},UU=({user:t})=>{const[e,n]=I.useState(""),[r,i]=I.useState([]),[l,o]=I.useState(!1),[d,p]=I.useState(null),f=async()=>{try{const v=await Ne.getDropoutRequests();i(v.filter(b=>b.studentId===t.id))}catch(v){console.error("Failed to load requests:",v)}};I.useEffect(()=>{f()},[]);const m=async v=>{if(v.preventDefault(),!!e){o(!0);try{await Ne.submitDropoutRequest({studentId:t.id,studentName:t.name,reason:e}),n(""),p("Withdrawal Request Submitted"),setTimeout(()=>p(null),3e3),f()}catch(b){console.error("Failed to submit request:",b),alert("Failed to submit request.")}o(!1)}};return u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700",children:[d&&u.jsxs("div",{className:"fixed bottom-10 right-10 bg-slate-900 text-white px-8 py-4 rounded-3xl shadow-2xl flex items-center gap-3 animate-bounce",children:[u.jsx(Mn,{className:"text-emerald-400"}),u.jsx("span",{className:"font-black text-xs uppercase tracking-widest",children:d})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Transfer-Out Form"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Official request for student withdrawal or transfer to another institution."})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm",children:[u.jsxs("h2",{className:"text-2xl font-black mb-6 flex items-center gap-3",children:[u.jsx(Ea,{className:"text-rose-500"})," Request Details"]}),u.jsxs("form",{onSubmit:m,className:"space-y-6",children:[u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-6 rounded-3xl flex items-start gap-4 border border-amber-100 dark:border-amber-800",children:[u.jsx(Hi,{className:"text-amber-600 flex-shrink-0",size:20}),u.jsx("p",{className:"text-xs font-medium text-amber-800 dark:text-amber-200",children:"Processing this request requires valid parent/guardian consent. Your adviser will call your guardian once submitted."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-2 ml-2",children:"Reason for Withdrawal"}),u.jsx("textarea",{rows:5,required:!0,className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-medium text-sm focus:ring-2 focus:ring-rose-500 transition-all resize-none",placeholder:"Please state clearly the reason (e.g., Transferring to another city, Financial reasons...)",value:e,onChange:v=>n(v.target.value)})]}),u.jsx("button",{disabled:l,className:"w-full py-5 bg-slate-900 dark:bg-rose-600 text-white font-black rounded-2xl uppercase tracking-widest text-xs flex items-center justify-center gap-3 hover:opacity-90 shadow-xl",children:l?"Processing...":u.jsxs(u.Fragment,{children:[u.jsx(Sd,{size:18})," Submit Withdrawal Request"]})})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Recent Requests"}),r.length>0?r.map(v=>u.jsxs("div",{className:"p-8 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[2.5rem] shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`p-2 rounded-xl ${v.status==="approved"?"bg-emerald-50 text-emerald-600":v.status==="denied"?"bg-rose-50 text-rose-600":"bg-amber-50 text-amber-600"}`,children:v.status==="pending"?u.jsx(Er,{size:20}):v.status==="approved"?u.jsx(Mn,{size:20}):u.jsx(hp,{size:20})}),u.jsx("span",{className:"text-sm font-black uppercase tracking-widest text-slate-800 dark:text-slate-100",children:v.status})]}),u.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:v.timestamp})]}),u.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium leading-relaxed italic",children:['"',v.reason,'"']})]},v.id)):u.jsxs("div",{className:"p-20 text-center border-2 border-dashed border-slate-100 dark:border-slate-800 rounded-[3rem]",children:[u.jsx(Hi,{className:"mx-auto mb-4 text-slate-200",size:48}),u.jsx("p",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:"No active requests"})]})]})]})]})},BU=({user:t,onUpdateUser:e})=>{var L;const[n,r]=I.useState(!1),[i,l]=I.useState({...t}),[o,d]=I.useState(!1),p=zi.useRef(null),f=new Date,m=f.getFullYear(),b=f.getMonth()>=5?`${m}-${m+1}`:`${m-1}-${m}`,E=btoa(`${t.name}|${t.lrn||"N/A"}|${t.section||"N/A"}|${b}`),T=async()=>{d(!0);try{await Ne.updateUser(t.id,i),e(i),localStorage.setItem("school_user",JSON.stringify(i)),r(!1)}catch(V){console.error("Failed to update profile:",V),alert("Failed to update profile.")}d(!1)},_=async V=>{if(V.target.files&&V.target.files[0]){d(!0);try{const P=(await Ne.uploadAvatar(t.id,V.target.files[0])).avatarUrl;l(M=>({...M,avatar:P})),e({...t,avatar:P}),localStorage.setItem("school_user",JSON.stringify({...t,avatar:P}))}catch(te){console.error("Upload failed",te),alert("Failed to upload image.")}finally{d(!1),p.current&&(p.current.value="")}}};let w=[];try{t.academicHistory&&(w=typeof t.academicHistory=="string"?JSON.parse(t.academicHistory):t.academicHistory)}catch(V){console.error("Failed to parse academic history",V)}let A={};try{t.requirements&&(A=typeof t.requirements=="string"?JSON.parse(t.requirements):t.requirements)}catch(V){console.error("Failed to parse requirements",V)}const R=t.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=1A237E&color=fff&size=512`,k=t.avatar?`${R}?t=${Date.now()}`:R;return u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500 max-w-5xl mx-auto pb-10",children:[u.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*",onChange:_}),u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3.5rem] overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"h-40 bg-gradient-to-r from-school-navy via-indigo-900 to-slate-900 relative",children:[u.jsx("div",{className:"absolute -bottom-16 left-12",children:u.jsxs("div",{className:"w-36 h-36 rounded-[2.5rem] bg-white dark:bg-slate-800 border-8 border-white dark:border-slate-900 shadow-2xl relative overflow-hidden group",children:[u.jsx("img",{src:k,className:"w-full h-full object-cover",alt:"Profile"}),u.jsx("button",{onClick:()=>{var V;return(V=p.current)==null?void 0:V.click()},className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",title:"Change Profile Picture",children:u.jsx($A,{className:"text-white",size:24})})]})}),u.jsxs("div",{className:"absolute bottom-6 right-12 flex gap-3",children:[u.jsx("button",{onClick:()=>n?T():r(!0),disabled:o,className:`flex items-center gap-3 px-8 py-3.5 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl transition-all hover:scale-105 ${n?"bg-emerald-500 text-white":"bg-white text-slate-900"} disabled:opacity-50`,children:o?u.jsx(st,{size:16,className:"animate-spin"}):n?u.jsxs(u.Fragment,{children:[u.jsx(Ho,{size:16})," Save Changes"]}):u.jsxs(u.Fragment,{children:[u.jsx(Ph,{size:16})," Edit Identity"]})}),n&&u.jsx("button",{onClick:()=>{r(!1),l({...t})},className:"bg-white/10 backdrop-blur-md text-white border border-white/20 px-6 py-3.5 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-white/20",children:"Cancel"})]})]}),u.jsx("div",{className:"pt-20 px-12 pb-12",children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-10",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-5xl font-black text-slate-900 dark:text-white uppercase tracking-tighter leading-none",children:t.name}),t.psaStatus==="Verified"&&u.jsx(vb,{className:"text-indigo-600",size:32})]}),u.jsxs("div",{className:"flex flex-wrap gap-5 items-center",children:[u.jsx("span",{className:"px-5 py-2 bg-indigo-50 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-400 rounded-2xl text-[10px] font-black uppercase tracking-widest",children:t.role}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[u.jsx(Pr,{size:14,className:"text-slate-300"})," LRN: ",u.jsx("span",{className:"text-slate-900 dark:text-slate-200",children:t.lrn})]}),u.jsx("span",{className:"text-slate-200",children:"|"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[u.jsx(Sa,{size:14,className:"text-slate-300"})," ",t.gradeLevel," - ",t.section]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-8",children:[u.jsx(K2,{label:"Avg Attendance",value:`${t.attendanceRate||0}%`}),u.jsx(K2,{label:"General Average",value:t.gwa?t.gwa.toFixed(2):"N/A"}),u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("p",{className:"text-[9px] font-black uppercase text-slate-400 mb-1 tracking-widest",children:"Identity Status"}),u.jsx("span",{className:`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest border ${t.psaStatus==="Verified"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:t.psaStatus||"Unverified"})]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[u.jsxs("section",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm relative overflow-hidden",children:[u.jsxs("h3",{className:"text-xl font-black mb-8 flex items-center gap-3 uppercase tracking-tighter",children:[u.jsx(e4,{className:"text-indigo-600"})," Profile Metadata"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[u.jsx(Js,{icon:u.jsx(Gi,{}),label:"Institutional Email",value:t.email,isEditing:!1}),u.jsx(Js,{icon:u.jsx(lv,{}),label:"Mobile Contact",value:i.phone||"N/A",isEditing:n,onChange:V=>l({...i,phone:V})}),u.jsx(Js,{icon:u.jsx(bd,{}),label:"Home Address",value:i.address||"N/A",isEditing:n,onChange:V=>l({...i,address:V})}),u.jsx(Js,{icon:u.jsx(Pr,{}),label:"Birth Date",value:i.birthDate||"N/A",isEditing:n,onChange:V=>l({...i,birthDate:V})}),n&&u.jsx("div",{className:"md:col-span-2",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1 ml-2",children:[u.jsx("div",{className:"text-slate-400",children:u.jsx(b4,{size:14})}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Profile Picture Upload"})]}),u.jsx("input",{type:"file",accept:"image/*",className:"w-full px-7 py-4.5 bg-slate-50 dark:bg-slate-800 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm transition-all file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:async V=>{if(V.target.files&&V.target.files[0]){d(!0);try{const P=(await Ne.uploadAvatar(t.id,V.target.files[0])).avatarUrl;l(M=>({...M,avatar:P})),e({...t,avatar:P}),localStorage.setItem("school_user",JSON.stringify({...t,avatar:P}))}catch(te){console.error("Upload failed",te),alert("Failed to upload image.")}finally{d(!1),p.current&&(p.current.value="")}}}}),u.jsx("p",{className:"text-[9px] font-bold text-slate-400 ml-4",children:"Max size: 5MB. Auto-compressed to <20KB."})]})})]})]}),u.jsxs("section",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm",children:[u.jsxs("h3",{className:"text-xl font-black mb-8 flex items-center gap-3 uppercase tracking-tighter",children:[u.jsx($4,{className:"text-indigo-600"})," Parent / Guardian"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[u.jsx(Js,{icon:u.jsx(ul,{}),label:"Full Name",value:i.guardianName||"N/A",isEditing:n,onChange:V=>l({...i,guardianName:V})}),u.jsx(Js,{icon:u.jsx(lv,{}),label:"Emergency Phone",value:i.guardianPhone||"N/A",isEditing:n,onChange:V=>l({...i,guardianPhone:V})})]})]}),u.jsxs("section",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm",children:[u.jsxs("h3",{className:"text-xl font-black mb-8 flex items-center gap-3 uppercase tracking-tighter",children:[u.jsx(Lh,{className:"text-indigo-600"})," Learner History (SF10)"]}),u.jsx("div",{className:"space-y-4",children:w.length>0?w.map((V,te)=>u.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 dark:bg-slate-800 rounded-3xl border border-transparent hover:border-slate-100 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-10 h-10 bg-white dark:bg-slate-900 rounded-xl flex items-center justify-center font-black text-indigo-600 text-xs shadow-sm",children:V.grade.split(" ")[1]||"N/A"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-black text-slate-800 dark:text-slate-100 uppercase tracking-tight",children:V.grade}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:V.school})]})]}),u.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-900/40 px-3 py-1 rounded-lg",children:V.year})]},te)):u.jsxs("div",{className:"p-10 text-center text-slate-400 flex flex-col items-center",children:[u.jsx(Lh,{size:32,className:"mb-4 opacity-50"}),u.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:"No academic history records found"})]})})]})]}),u.jsxs("div",{className:"space-y-10",children:[u.jsxs("section",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm text-center relative group overflow-hidden",children:[u.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400 mb-8",children:"Identity Verification"}),u.jsx("div",{className:"p-6 bg-white rounded-[2.5rem] inline-block mb-6 shadow-inner border border-slate-100 relative overflow-hidden",children:u.jsx(Db,{value:E,size:140,fgColor:"#1A237E",bgColor:"#FFFFFF",level:"H"})}),u.jsxs("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest leading-relaxed",children:["Hover to preview identity. ",u.jsx("br",{})," System ID: SNES-",(L=t.lrn)==null?void 0:L.slice(-4)]})]}),u.jsxs("section",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm",children:[u.jsxs("h3",{className:"text-xl font-black mb-8 flex items-center gap-3 uppercase tracking-tighter",children:[u.jsx(di,{className:"text-indigo-600"})," Requirements Checklist"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Iu,{label:"PSA Birth Certificate",status:t.psaStatus==="Verified"}),u.jsx(Iu,{label:"SF9 (Report Card)",status:!!A.SF9}),u.jsx(Iu,{label:"Good Moral Certificate",status:!!A["Good Moral"]}),u.jsx(Iu,{label:"School Clearance",status:!!A.Clearance})]})]}),u.jsxs("section",{className:"bg-school-navy p-10 rounded-[3.5rem] text-white shadow-2xl relative overflow-hidden group",children:[u.jsx(CA,{className:"absolute top-0 right-0 p-8 text-white/5 -rotate-12 translate-x-1/4 -translate-y-1/4 group-hover:scale-110 transition-transform",size:220}),u.jsxs("h3",{className:"font-black text-white flex items-center gap-3 mb-8 relative z-10",children:[u.jsx(di,{size:24,className:"text-school-gold"}),"Institution Info"]}),u.jsxs("div",{className:"space-y-4 relative z-10",children:[u.jsxs("div",{className:"flex items-center justify-between p-5 bg-white/10 backdrop-blur-md rounded-3xl border border-white/10",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Enrolled Status"}),u.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-400",children:t.status==="active"?"Official":t.status==="completed"?"Alumni":"Pending/Dropped"})]}),u.jsxs("div",{className:"flex items-center justify-between p-5 bg-white/10 backdrop-blur-md rounded-3xl border border-white/10",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"4Ps Beneficiary"}),u.jsx("span",{className:`text-[10px] font-black uppercase ${t.is4Ps?"text-emerald-400":"text-white/40"}`,children:t.is4Ps?"Active":"Not Enrolled"})]})]})]})]})]})]})},K2=({label:t,value:e})=>u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("p",{className:"text-[9px] font-black uppercase text-slate-400 mb-1 tracking-widest",children:t}),u.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:e})]}),Iu=({label:t,status:e})=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[u.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:t}),e?u.jsx(Mn,{size:16,className:"text-emerald-500"}):u.jsx(rr,{size:16,className:"text-amber-500"})]}),Js=({icon:t,label:e,value:n,isEditing:r,onChange:i})=>u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1 ml-2",children:[u.jsx("div",{className:"text-slate-400",children:zi.cloneElement(t,{size:14})}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:e})]}),r?u.jsx("input",{type:"text",className:"w-full px-7 py-4.5 bg-slate-50 dark:bg-slate-800 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm transition-all",value:n==="N/A"?"":n,onChange:l=>i==null?void 0:i(l.target.value)}):u.jsx("div",{className:"px-7 py-4.5 bg-slate-50/50 dark:bg-slate-800/50 rounded-2xl font-black text-sm text-slate-800 dark:text-slate-200",children:n})]}),zU=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0),[i,l]=I.useState(null),[o,d]=I.useState(!1),[p,f]=I.useState(!1),[m,v]=I.useState(null),[b,E]=I.useState({name:"",status:"available",lastCleaned:new Date().toLocaleDateString("en-CA")}),[T,_]=I.useState(null),[w,A]=I.useState(""),R=async()=>{r(!0);try{const M=await Ne.getFacilities();e(M)}catch(M){console.error("Failed to fetch facilities:",M)}r(!1)};I.useEffect(()=>{R()},[]);const k=async(M,B)=>{l(M);const J={available:"reserved",reserved:"maintenance",maintenance:"available"};try{await Ne.updateFacility(M,{status:J[B],lastCleaned:new Date().toLocaleDateString("en-CA")}),R()}catch(U){console.error("Failed to update facility status:",U),alert("Failed to update facility status.")}finally{l(null)}},L=async M=>{if(M.preventDefault(),A(""),!b.name){A("Facility name is required.");return}try{await Ne.createFacility(b),d(!1),E({name:"",status:"available",lastCleaned:new Date().toLocaleDateString("en-CA")}),R()}catch(B){console.error("Failed to create facility:",B),A(`Failed to create facility: ${B.message}`)}},V=M=>{v(M),_(M),f(!0)},te=async M=>{if(M.preventDefault(),A(""),!(T!=null&&T.name)){A("Facility name is required.");return}if(m)try{await Ne.updateFacility(m.id,T),f(!1),v(null),_(null),R()}catch(B){console.error("Failed to update facility:",B),A(`Failed to update facility: ${B.message}`)}},P=async M=>{if(confirm("Are you sure you want to delete this facility?"))try{await Ne.deleteFacility(M),R()}catch(B){console.error("Failed to delete facility:",B),alert("Failed to delete facility.")}};return n?u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx(st,{className:"animate-spin text-school-navy",size:40})}):u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Facility Management"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Monitoring classroom status and school property health."})]}),u.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-[2rem] font-black text-sm uppercase tracking-widest hover:scale-105 transition-transform shadow-xl",children:[u.jsx(ui,{size:20}),"Add Facility"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(M=>u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-8 shadow-sm hover:shadow-2xl transition-all group relative overflow-hidden",children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center mb-8 ${M.status==="available"?"bg-emerald-50 text-emerald-600":M.status==="reserved"?"bg-indigo-50 text-indigo-600":"bg-amber-50 text-amber-600"}`,children:u.jsx(OA,{size:28})}),u.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-slate-100 mb-2",children:M.name}),u.jsxs("button",{onClick:()=>k(M.id,M.status),disabled:i===M.id,className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest transition-all mb-8 flex items-center gap-2 ${M.status==="available"?"bg-emerald-100 text-emerald-700":M.status==="reserved"?"bg-indigo-100 text-indigo-700":"bg-amber-100 text-amber-700"}`,children:[i===M.id?u.jsx(st,{size:12,className:"animate-spin"}):u.jsx(Er,{size:12}),M.status]}),u.jsxs("div",{className:"pt-6 border-t border-slate-50 dark:border-slate-800 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[u.jsx(Er,{size:14}),u.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Sanitized: ",M.lastCleaned]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>V(M),className:"p-2 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-2xl transition-all",title:"Edit Facility",children:u.jsx(_r,{size:16})}),u.jsx("button",{onClick:()=>P(M.id),className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-2xl transition-all",title:"Delete Facility",children:u.jsx(mi,{size:16})})]})]})]},M.id))}),o&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:u.jsx(ui,{size:24})}),u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Add New Facility"})]}),u.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{})})]}),w&&u.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 rounded-2xl flex items-center gap-3 text-xs font-bold",children:[u.jsx(rr,{size:18})," ",w]}),u.jsxs("form",{onSubmit:L,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Facility Name"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g., Science Lab, Grade 5 - Sampaguita",value:b.name,onChange:M=>E({...b,name:M.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Status"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:b.status,onChange:M=>E({...b,status:M.target.value}),children:[u.jsx("option",{value:"available",children:"Available"}),u.jsx("option",{value:"reserved",children:"Reserved"}),u.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Last Cleaned Date"}),u.jsx("input",{type:"date",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:b.lastCleaned,onChange:M=>E({...b,lastCleaned:M.target.value})})]}),u.jsxs("div",{className:"pt-4 flex gap-4",children:[u.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-xl shadow-indigo-100 dark:shadow-none",children:"Add Facility"})]})]})]})}),p&&m&&T&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:u.jsx(_r,{size:24})}),u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Edit Facility"})]}),u.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{})})]}),w&&u.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 text-rose-600 rounded-2xl flex items-center gap-3 text-xs font-bold",children:[u.jsx(rr,{size:18})," ",w]}),u.jsxs("form",{onSubmit:te,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Facility Name"}),u.jsx("input",{type:"text",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",placeholder:"e.g., Science Lab, Grade 5 - Sampaguita",value:T.name,onChange:M=>_({...T,name:M.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Status"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:T.status,onChange:M=>_({...T,status:M.target.value}),children:[u.jsx("option",{value:"available",children:"Available"}),u.jsx("option",{value:"reserved",children:"Reserved"}),u.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Last Cleaned Date"}),u.jsx("input",{type:"date",required:!0,className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm border-2 border-transparent focus:border-indigo-600",value:T.lastCleaned,onChange:M=>_({...T,lastCleaned:M.target.value})})]}),u.jsxs("div",{className:"pt-4 flex gap-4",children:[u.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-xl shadow-indigo-100 dark:shadow-none",children:"Save Changes"})]})]})]})})]})},HU=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0);return I.useEffect(()=>{(async()=>{try{const l=await Ne.getFacilities();e(l)}catch(l){console.error("Failed to fetch facilities:",l)}finally{r(!1)}})()},[]),n?u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx(st,{className:"animate-spin text-school-navy",size:40})}):u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[u.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Campus Facilities"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Real-time status of school rooms and common areas."})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-6 right-6",children:u.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border ${i.status==="available"?"bg-emerald-50 text-emerald-600 border-emerald-100":i.status==="maintenance"?"bg-rose-50 text-rose-600 border-rose-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:i.status})}),u.jsx("div",{className:"w-14 h-14 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:u.jsx(Pu,{size:24})}),u.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white mb-2",children:i.name}),u.jsxs("div",{className:"space-y-3 mt-6 pt-6 border-t border-slate-50 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-3 text-slate-500",children:[u.jsx(Bo,{size:14}),u.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:["Last Cleaned: ",i.lastCleaned||"N/A"]})]}),u.jsxs("div",{className:"flex items-center gap-3 text-slate-500",children:[u.jsx(bd,{size:14}),u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Main Building"})]})]})]},i.id))})]})},GU=({user:t,selected:e,onChange:n})=>{const[r,i]=I.useState(!1),[l,o]=I.useState(""),[d,p]=I.useState([]),f=I.useRef(null);I.useEffect(()=>{(async()=>{try{const[_,w]=await Promise.all([Ne.getUsers(),Ne.getSections().catch(()=>[])]),A=[],R=t.role===_e.TEACHER,k=t.assignedSections||[];if(R||[_e.STUDENT,_e.TEACHER,_e.FACULTY,_e.ADMIN].forEach(L=>{A.push({type:"role",value:L,label:`All ${L}s`})}),w.length>0)w.forEach(L=>{(!R||k.includes(L.name))&&A.push({type:"section",value:L.name,label:`Section: ${L.name}`})});else{const L=new Set;_.forEach(V=>{V.section&&(!R||k.includes(V.section))&&L.add(V.section)}),L.forEach(V=>{A.push({type:"section",value:V,label:`Section: ${V}`})})}_.forEach(L=>{let V=!0;R&&(L.role!==_e.STUDENT&&(V=!1),L.role===_e.STUDENT&&L.section&&!k.includes(L.section)&&(V=!1)),V&&A.push({type:"user",value:L.id,label:`${L.name} (${L.role})`})}),p(A)}catch(_){console.error("Failed to load recipients",_)}})();const T=_=>{f.current&&!f.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const m=d.filter(E=>E.label.toLowerCase().includes(l.toLowerCase())&&!e.some(T=>T.value===E.value&&T.type===E.type)),v=E=>{const T=e.find(_=>_.value===E.value&&_.type===E.type);n(T?e.filter(_=>_!==T):[...e,E]),o("")},b=E=>{switch(E){case"role":return u.jsx(BA,{size:14});case"section":return u.jsx(Vi,{size:14});case"user":return u.jsx(ul,{size:14});default:return u.jsx(Vu,{size:14})}};return u.jsxs("div",{className:"relative",ref:f,children:[u.jsxs("div",{className:"min-h-[60px] w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-bold text-sm focus-within:ring-2 focus-within:ring-indigo-500 cursor-text flex flex-wrap gap-2 items-center",onClick:()=>i(!0),children:[e.map((E,T)=>u.jsxs("span",{className:"flex items-center gap-2 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-wide",children:[b(E.type),E.label,u.jsx("button",{onClick:_=>{_.stopPropagation(),v(E)},className:"hover:text-indigo-900 dark:hover:text-indigo-100",children:u.jsx(Ut,{size:12})})]},T)),u.jsx("input",{type:"text",className:"bg-transparent outline-none flex-1 min-w-[120px] text-slate-700 dark:text-slate-200 placeholder:text-slate-400 font-medium",placeholder:e.length===0?"Search users, roles, or sections...":"",value:l,onChange:E=>o(E.target.value),onFocus:()=>i(!0)}),u.jsx(Go,{className:"text-slate-400 ml-auto",size:18})]}),r&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-slate-900 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-800 max-h-60 overflow-y-auto z-50 p-2 space-y-1",children:m.length>0?m.map((E,T)=>u.jsxs("button",{onClick:()=>v(E),className:"w-full text-left px-4 py-3 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 flex items-center gap-3 transition-colors group",children:[u.jsx("div",{className:`p-2 rounded-lg ${E.type==="role"?"bg-amber-50 text-amber-600":E.type==="section"?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:b(E.type)}),u.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:E.label}),u.jsx(Vu,{size:14,className:"ml-auto opacity-0 group-hover:opacity-100 text-indigo-600"})]},`${E.type}-${E.value}`)):u.jsx("div",{className:"p-4 text-center text-slate-400 text-xs font-bold",children:"No matches found"})})]})},VU=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState(!0),[l,o]=I.useState(!1),[d,p]=I.useState([]),[f,m]=I.useState(""),[v,b]=I.useState(""),[E,T]=I.useState(null),_=Br(),w=async()=>{var R;try{const[k,L]=await Promise.all([Ne.getEmailLogs(),Ne.getUsers()]);n(k);const V=(R=_.state)==null?void 0:R.recipientEmail;if(V){const te=L.find(P=>P.email===V);te&&p([{type:"user",value:te.id,label:`${te.name} (${te.role})`}])}}catch(k){console.error("Failed to load data:",k)}i(!1)};I.useEffect(()=>{w()},[]);const A=async R=>{if(R.preventDefault(),!(!v||!f||d.length===0)){o(!0);try{await Ne.sendEmailBroadcast({targets:d,subject:f,message:v}),b(""),m(""),p([]),T("Broadcast Sent Successfully"),setTimeout(()=>T(null),3e3),w()}catch(k){console.error("Failed to send Email:",k),alert("Failed to send Email.")}o(!1)}};return r?u.jsx("div",{className:"p-20 flex justify-center",children:u.jsx(st,{className:"animate-spin"})}):u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500",children:[E&&u.jsxs("div",{className:"fixed top-24 right-8 z-[100] bg-slate-900 text-white px-8 py-4 rounded-[2rem] shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-10",children:[u.jsx(Mn,{className:"text-emerald-400"}),u.jsx("span",{className:"font-black text-xs uppercase tracking-widest",children:E})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Email Broadcast Center"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Send official announcements and newsletters via secure email channels."})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm sticky top-28",children:[u.jsxs("h2",{className:"text-2xl font-black mb-8 flex items-center gap-3",children:[u.jsx(Gi,{className:"text-indigo-600"})," New Message"]}),u.jsxs("form",{onSubmit:A,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-2 ml-2",children:"Recipients"}),u.jsx(GU,{user:t,selected:d,onChange:p})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-2 ml-2",children:"Subject Line"}),u.jsxs("div",{className:"relative",children:[u.jsx(AA,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{type:"text",required:!0,className:"w-full pl-14 pr-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. Urgent Meeting Notice",value:f,onChange:R=>m(R.target.value)})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-2 ml-2",children:"Message Body"}),u.jsx("textarea",{rows:8,required:!0,className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-medium text-sm focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Compose your official correspondence here...",value:v,onChange:R=>b(R.target.value)})]}),u.jsx("button",{disabled:l||d.length===0,className:"w-full py-5 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-xs flex items-center justify-center gap-3 shadow-xl hover:scale-[1.02] transition-transform disabled:opacity-50",children:l?u.jsx(st,{className:"animate-spin",size:18}):u.jsxs(u.Fragment,{children:[u.jsx(Sd,{size:18})," Send Email"]})})]})]})}),u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsx("h2",{className:"text-xl font-black uppercase tracking-tight ml-2",children:"Transmission Logs"}),e.length>0?e.map(R=>u.jsxs("div",{className:"p-8 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[2.5rem] shadow-sm hover:shadow-md transition-all group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-2xl text-slate-400 group-hover:text-indigo-600 transition-colors",children:u.jsx(Er,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-black text-slate-800 dark:text-white uppercase tracking-tight",children:R.subject}),u.jsxs("p",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:[R.recipient,"  ",R.timestamp]})]})]}),u.jsx("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${R.status==="sent"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:R.status})]}),u.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-300 leading-relaxed bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border border-transparent group-hover:border-slate-100 transition-all",children:R.message})]},R.id)):u.jsxs("div",{className:"p-32 text-center border-2 border-dashed border-slate-100 dark:border-slate-800 rounded-[4rem]",children:[u.jsx(Gi,{className:"mx-auto mb-4 text-slate-200",size:48}),u.jsx("p",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:"No email history found"})]})]})]})]})},qU=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState(!0),[l,o]=I.useState(!1),[d,p]=I.useState({documentType:"Certificate of Enrollment",purpose:""}),[f,m]=I.useState(null),v=async()=>{try{const E=await Ne.getDocRequests(t.id);n(E)}catch(E){console.error("Failed to load requests:",E)}i(!1)};I.useEffect(()=>{v()},[t.id]);const b=async E=>{if(E.preventDefault(),!!d.purpose){o(!0);try{await Ne.requestDoc({studentId:t.id,studentName:t.name,documentType:d.documentType,purpose:d.purpose}),p({...d,purpose:""}),m("Request Submitted Successfully"),setTimeout(()=>m(null),3e3),v()}catch(T){console.error("Failed to submit request:",T),alert("Failed to submit request.")}o(!1)}};return r?u.jsx("div",{className:"p-20 flex justify-center",children:u.jsx(st,{className:"animate-spin"})}):u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500",children:[f&&u.jsxs("div",{className:"fixed top-24 right-8 z-[100] bg-slate-900 text-white px-8 py-4 rounded-[2rem] shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-10",children:[u.jsx(Mn,{className:"text-emerald-400"}),u.jsx("span",{className:"font-black text-xs uppercase tracking-widest",children:f})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Official Requests"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Request institutional documents and academic certifications."})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[3rem] p-10 shadow-sm sticky top-28",children:[u.jsxs("h2",{className:"text-2xl font-black mb-8 flex items-center gap-3",children:[u.jsx(Pr,{className:"text-indigo-600"})," New Request"]}),u.jsxs("form",{onSubmit:b,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-2 ml-2",children:"Document Type"}),u.jsxs("select",{className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-500",value:d.documentType,onChange:E=>p({...d,documentType:E.target.value}),children:[u.jsx("option",{children:"Certificate of Enrollment"}),u.jsx("option",{children:"Good Moral"}),u.jsx("option",{children:"Form 137"}),u.jsx("option",{children:"Diploma Replacement"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-2 ml-2",children:"Purpose"}),u.jsx("textarea",{rows:4,required:!0,className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none outline-none font-medium text-sm focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"State the purpose of this request...",value:d.purpose,onChange:E=>p({...d,purpose:E.target.value})})]}),u.jsx("button",{disabled:l,className:"w-full py-5 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-xs flex items-center justify-center gap-3 shadow-xl hover:scale-[1.02] transition-transform disabled:opacity-50",children:l?u.jsx(st,{className:"animate-spin",size:18}):u.jsxs(u.Fragment,{children:[u.jsx(Sd,{size:18})," Submit Request"]})})]})]})}),u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsx("h2",{className:"text-xl font-black uppercase tracking-tight ml-2",children:"Request History"}),e.length>0?e.map(E=>u.jsxs("div",{className:"p-8 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[2.5rem] shadow-sm hover:shadow-md transition-all group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-2xl ${E.status==="ready"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:E.status==="ready"?u.jsx(Mn,{size:24}):u.jsx(Er,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-tight",children:E.documentType}),u.jsxs("p",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:["Requested on ",E.dateRequested]})]})]}),u.jsx("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${E.status==="ready"?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-amber-100 text-amber-700 border-amber-200"}`,children:E.status})]}),u.jsxs("div",{className:"p-5 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-transparent group-hover:border-slate-100 transition-all",children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-slate-400 mb-2 tracking-widest",children:"Purpose of Request"}),u.jsxs("p",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 leading-relaxed italic",children:['"',E.purpose,'"']})]})]},E.id)):u.jsxs("div",{className:"p-32 text-center border-2 border-dashed border-slate-100 dark:border-slate-800 rounded-[4rem]",children:[u.jsx(Hi,{className:"mx-auto mb-4 text-slate-200",size:48}),u.jsx("p",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:"No requests found"})]})]})]})]})},$U=({user:t})=>{let e=[];try{t.assignedSections&&(e=typeof t.assignedSections=="string"?JSON.parse(t.assignedSections):t.assignedSections)}catch(J){console.error("Failed to parse assigned sections",J)}const[n,r]=I.useState([]),[i,l]=I.useState([]),[o,d]=I.useState(e[0]||"All"),[p,f]=I.useState(new Date().toISOString().split("T")[0]),[m,v]=I.useState(!1),[b,E]=I.useState(!1),[T,_]=I.useState(!1),[w,A]=I.useState(new Date().toISOString().split("T")[0]),[R,k]=I.useState(new Date().toISOString().split("T")[0]),[L,V]=I.useState("present"),te=async()=>{v(!0);try{const[J,U]=await Promise.all([Ne.getUsers(o==="All"?"":o),Ne.getAttendance("",p)]);r(J.filter(re=>re.role===_e.STUDENT)),l(U)}catch(J){console.error("Failed to fetch data:",J)}v(!1)};I.useEffect(()=>{te()},[o,p]);const P=(J,U)=>{l(re=>re.find(De=>De.studentId===J)?re.map(De=>De.studentId===J?{...De,status:U}:De):[...re,{id:"temp-"+Date.now(),studentId:J,date:p,status:U}])},M=async()=>{E(!0);try{const J=n.map(U=>{const re=i.find(De=>De.studentId===U.id),fe=re?re.status:"present";return Ne.postAttendance({studentId:U.id,date:p,status:fe})});await Promise.all(J),alert("Attendance saved successfully!"),te()}catch(J){console.error("Failed to save attendance:",J),alert("Failed to save attendance.")}E(!1)},B=async()=>{if(!w||!R){alert("Please select start and end dates.");return}E(!0);try{const J=n.map(U=>U.id);await Ne.postAttendanceBulk({studentIds:J,startDate:w,endDate:R,status:L}),alert("Bulk attendance updated successfully!"),_(!1),te()}catch(J){console.error("Failed to update bulk attendance:",J),alert("Failed to update bulk attendance.")}E(!1)};return!e.length&&t.role!==_e.ADMIN?u.jsx("div",{className:"p-10 text-center",children:"No assigned sections found. Please contact an administrator."}):u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Class Attendance"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Daily attendance tracking for your sections."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-3 px-6 py-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 rounded-[2rem] font-black text-xs uppercase tracking-widest shadow-sm hover:scale-105 transition-transform",children:[u.jsx(sv,{size:18})," Bulk Update"]}),u.jsxs("button",{onClick:M,disabled:b||m,className:"flex items-center gap-3 px-8 py-4 bg-indigo-600 text-white rounded-[2rem] font-black text-xs uppercase tracking-widest shadow-xl hover:scale-105 transition-transform disabled:opacity-50",children:[b?u.jsx(st,{size:18,className:"animate-spin"}):u.jsx(Ho,{size:18}),"Save Changes"]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-[2.5rem] border border-slate-100 dark:border-slate-800 shadow-sm flex flex-col md:flex-row gap-6 items-center",children:[u.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[u.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-2xl text-slate-500",children:u.jsx(Sb,{size:20})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest ml-2",children:"Section"}),u.jsxs("select",{className:"w-full bg-transparent font-bold text-slate-800 dark:text-white outline-none border-b border-slate-200 dark:border-slate-700 py-2",value:o,onChange:J=>d(J.target.value),children:[u.jsx("option",{value:"All",children:"All Students"}),e.map(J=>u.jsx("option",{value:J,children:J},J))]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[u.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-2xl text-slate-500",children:u.jsx(Bo,{size:20})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest ml-2",children:"Date"}),u.jsx("input",{type:"date",className:"w-full bg-transparent font-bold text-slate-800 dark:text-white outline-none border-b border-slate-200 dark:border-slate-700 py-2",value:p,onChange:J=>f(J.target.value)})]})]})]}),u.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[3rem] shadow-xl overflow-hidden",children:m?u.jsx("div",{className:"p-20 flex justify-center",children:u.jsx(st,{className:"animate-spin"})}):u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-slate-800",children:[u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Student"}),u.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:n.length>0?n.map(J=>{const U=i.find(fe=>fe.studentId===J.id),re=(U==null?void 0:U.status)||"present";return u.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-all",children:[u.jsx("td",{className:"px-8 py-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 dark:bg-indigo-900/40 text-indigo-600 flex items-center justify-center font-black",children:J.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:J.name}),u.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[J.gradeLevel," - ",J.section]})]})]})}),u.jsx("td",{className:"px-8 py-6",children:u.jsx("div",{className:"flex justify-center gap-2",children:["present","late","absent","excused"].map(fe=>u.jsx("button",{onClick:()=>P(J.id,fe),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${re===fe?fe==="present"?"bg-emerald-500 border-emerald-500 text-white shadow-lg shadow-emerald-200":fe==="late"?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-200":fe==="absent"?"bg-rose-500 border-rose-500 text-white shadow-lg shadow-rose-200":"bg-indigo-500 border-indigo-500 text-white shadow-lg shadow-indigo-200":"bg-transparent border-slate-100 dark:border-slate-800 text-slate-400 hover:border-slate-300"}`,children:fe},fe))})})]},J.id)}):u.jsx("tr",{children:u.jsx("td",{colSpan:2,className:"p-20 text-center text-slate-400 font-black uppercase text-xs tracking-widest",children:"No students found in this section"})})})]})}),T&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:u.jsx(sv,{size:24})}),u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Bulk Attendance"})]}),u.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(Ut,{})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Start Date"}),u.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm",value:w,onChange:J=>A(J.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"End Date"}),u.jsx("input",{type:"date",className:"w-full px-6 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl outline-none font-bold text-sm",value:R,onChange:J=>k(J.target.value)})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-2",children:"Set Status For All"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["present","late","absent","excused"].map(J=>u.jsx("button",{onClick:()=>V(J),className:`px-4 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all border-2 ${L===J?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-transparent border-slate-100 dark:border-slate-800 text-slate-400 hover:border-slate-300"}`,children:J},J))})]}),u.jsxs("div",{className:"pt-4 flex gap-4",children:[u.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"}),u.jsxs("button",{onClick:B,disabled:b,className:"flex-[2] py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-xl shadow-indigo-100 dark:shadow-none flex items-center justify-center gap-2",children:[b?u.jsx(st,{size:16,className:"animate-spin"}):u.jsx(Mn,{size:16}),"Apply to ",n.length," Students"]})]})]})]})})]})},YU=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState(!0),[l,o]=I.useState(null);return I.useEffect(()=>{Ne.getMessages(t.id).then(d=>{n(d),i(!1)})},[t.id]),r?u.jsx("div",{className:"p-20 flex justify-center",children:u.jsx(st,{className:"animate-spin text-school-navy",size:40})}):u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 h-[calc(100vh-140px)] flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"My Inbox"}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Official communications and announcements."})]}),u.jsxs("div",{className:"px-6 py-3 bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 text-xs font-black uppercase tracking-widest text-slate-500",children:[e.length," Messages"]})]}),u.jsxs("div",{className:"flex gap-8 flex-1 min-h-0",children:[u.jsxs("div",{className:`w-full lg:w-1/3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[2.5rem] shadow-xl overflow-hidden flex flex-col ${l?"hidden lg:flex":""}`,children:[u.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50",children:u.jsx("h3",{className:"font-black uppercase tracking-widest text-xs text-slate-400",children:"All Messages"})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-4 space-y-2",children:e.length>0?e.map(d=>u.jsxs("div",{onClick:()=>o(d),className:`p-5 rounded-2xl cursor-pointer transition-all border ${(l==null?void 0:l.id)===d.id?"bg-indigo-600 text-white shadow-lg border-indigo-600":"bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 border-transparent"}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h4",{className:`font-bold text-sm truncate ${(l==null?void 0:l.id)===d.id?"text-white":"text-slate-800 dark:text-slate-200"}`,children:d.sender||"System"}),u.jsx("span",{className:`text-[10px] font-mono opacity-70 ${(l==null?void 0:l.id)===d.id?"text-indigo-200":"text-slate-400"}`,children:d.timestamp.split(",")[0]})]}),u.jsx("p",{className:`text-xs font-medium truncate ${(l==null?void 0:l.id)===d.id?"text-indigo-100":"text-slate-500"}`,children:d.subject})]},d.id)):u.jsxs("div",{className:"p-10 text-center text-slate-400 flex flex-col items-center",children:[u.jsx(E4,{size:32,className:"mb-4 opacity-50"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"No messages"})]})})]}),u.jsx("div",{className:`w-full lg:w-2/3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[2.5rem] shadow-xl overflow-hidden flex flex-col ${l?"":"hidden lg:flex"}`,children:l?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"p-8 border-b border-slate-100 dark:border-slate-800 flex justify-between items-start bg-slate-50/30 dark:bg-slate-800/30",children:u.jsxs("div",{children:[u.jsx("button",{onClick:()=>o(null),className:"lg:hidden mb-4 text-xs font-black uppercase tracking-widest text-slate-400 hover:text-indigo-600",children:" Back"}),u.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2",children:l.subject}),u.jsxs("div",{className:"flex items-center gap-3 text-xs font-medium text-slate-500",children:[u.jsxs("span",{className:"flex items-center gap-2 px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[u.jsx(ul,{size:14})," ",l.sender||"School Admin"]}),u.jsxs("span",{className:"flex items-center gap-2 px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[u.jsx(Bo,{size:14})," ",l.timestamp]})]})]})}),u.jsx("div",{className:"p-8 overflow-y-auto flex-1 prose dark:prose-invert max-w-none",children:u.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-slate-600 dark:text-slate-300 font-medium",children:l.content})})]}):u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300 p-10",children:[u.jsx(Gi,{size:64,className:"mb-6 opacity-20"}),u.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:"Select a message to read"})]})})]})]})},JU=()=>{const[t]=cA(),e=t.get("token"),[n,r]=I.useState("verifying"),[i,l]=I.useState("");return I.useEffect(()=>{if(!e){r("error"),l("Invalid verification link.");return}(async()=>{try{const d=await fetch(`/api/verify?token=${e}`);if(d.ok)r("success");else{const p=await d.json();r("error"),l(p.message||"Verification failed.")}}catch{r("error"),l("Network error. Please try again.")}})()},[e]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950 p-6",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-10 rounded-[3rem] shadow-xl max-w-md w-full text-center",children:[n==="verifying"&&u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(st,{size:48,className:"animate-spin text-indigo-600"}),u.jsx("h2",{className:"text-xl font-black uppercase tracking-tight text-slate-800 dark:text-white",children:"Verifying Identity..."})]}),n==="success"&&u.jsxs("div",{className:"flex flex-col items-center gap-6 animate-in zoom-in-95",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center",children:u.jsx(Mn,{size:40})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight text-slate-900 dark:text-white mb-2",children:"Email Verified"}),u.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Your email address has been successfully confirmed. You may now wait for administrative approval."})]}),u.jsx(Aa,{to:"/",className:"w-full py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-xs shadow-lg hover:scale-105 transition-transform",children:"Return to Login"})]}),n==="error"&&u.jsxs("div",{className:"flex flex-col items-center gap-6 animate-in zoom-in-95",children:[u.jsx("div",{className:"w-20 h-20 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center",children:u.jsx(hp,{size:40})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight text-slate-900 dark:text-white mb-2",children:"Verification Failed"}),u.jsx("p",{className:"text-sm font-medium text-rose-500",children:i})]}),u.jsx(Aa,{to:"/",className:"w-full py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-xs hover:bg-slate-200 transition-colors",children:"Back to Home"})]})]})})},g_="https://raw.githubusercontent.com/Golgrax/randompublicimagefreetouse/refs/heads/main/logo.png",x_=I.createContext({theme:"light",setTheme:()=>{},prefs:{dyslexic:!1,highContrast:!1},setPrefs:()=>{}}),XU=()=>I.useContext(x_),WU=({onLogout:t,user:e})=>u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex flex-col items-center justify-center p-6 text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-900 p-3 rounded-[2rem] flex items-center justify-center mb-8 shadow-2xl border border-slate-100 dark:border-slate-800 animate-pulse overflow-hidden",children:u.jsx("img",{src:g_,className:"w-full h-full object-contain",alt:"Sto. Nio Logo"})}),u.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white uppercase tracking-tighter mb-4",children:"Verification Pending"}),u.jsxs("p",{className:"text-slate-500 font-medium max-w-md leading-relaxed mb-10",children:["Hello, ",u.jsx("span",{className:"text-slate-900 dark:text-white font-black",children:e.name}),". Your account has been created, but a system administrator must approve your access level before you can use the school features."]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl",children:"Check Status"}),u.jsx("button",{onClick:t,className:"px-8 py-4 bg-white dark:bg-slate-800 text-slate-900 dark:text-white rounded-2xl font-black text-xs uppercase tracking-widest border border-slate-200 dark:border-slate-700 shadow-sm",children:"Sign Out"})]})]}),KU=({user:t,isOpen:e,onClose:n,onLogout:r,onUpdateUser:i})=>{const l=Br(),o={[_e.STUDENT]:[{name:"Dashboard",path:"/",icon:sh},{name:"Inbox",path:"/inbox",icon:Xs},{name:"SF9 Card",path:"/grades",icon:rv},{name:"Attendance",path:"/attendance",icon:ba},{name:"Clearance",path:"/clearance",icon:di},{name:"Modules",path:"/modules",icon:nv},{name:"Assignments",path:"/assignments",icon:iv},{name:"Facilities",path:"/facilities",icon:Pu},{name:"Official Requests",path:"/requests",icon:Pr},{name:"My ID",path:"/id-card",icon:Tb},{name:"Transfer-Out",path:"/transfer-out",icon:Ea}],[_e.TEACHER]:[{name:"Registry (SF1)",path:"/masterlist",icon:Eb},{name:"Inbox",path:"/inbox",icon:Xs},{name:"Attendance Sheet",path:"/faculty/attendance",icon:ba},{name:"SF9 Grading",path:"/grades",icon:rv},{name:"Modules",path:"/modules",icon:nv},{name:"Submissions",path:"/faculty/submissions",icon:iv},{name:"Facilities",path:"/facilities",icon:Pu},{name:"Broadcast",path:"/announcements",icon:Gu},{name:"Email Alerts",path:"/faculty/email",icon:Xs}],[_e.FACULTY]:[],[_e.TRANSFEREE]:[{name:"Gateway",path:"/",icon:sh},{name:"Admission Form",path:"/enrollment",icon:Sa},{name:"Status",path:"/status",icon:xb}],[_e.ADMIN]:[{name:"System Core",path:"/",icon:sh},{name:"Inbox",path:"/inbox",icon:Xs},{name:"Admissions",path:"/faculty-requests",icon:Fh},{name:"Registry",path:"/masterlist",icon:Vi},{name:"User Control",path:"/admin/users",icon:Vi},{name:"Database Forge",path:"/admin/database",icon:pp},{name:"Facilities",path:"/admin/facilities",icon:Pu},{name:"Attendance Sheet",path:"/faculty/attendance",icon:ba},{name:"Broadcast",path:"/announcements",icon:Gu},{name:"Email Alerts",path:"/faculty/email",icon:Xs}],[_e.PENDING]:[]},d=p=>l.pathname===p;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 bg-school-navy/40 backdrop-blur-sm z-[55] lg:hidden transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:n}),u.jsx("aside",{className:`fixed inset-y-0 left-0 z-[60] w-72 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 transform transition-transform duration-500 lg:translate-x-0 ${e?"translate-x-0 shadow-2xl":"-translate-x-full"}`,children:u.jsxs("div",{className:"flex flex-col h-full p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-10",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center shadow-lg p-1.5 overflow-hidden",children:u.jsx("img",{src:g_,className:"w-full h-full object-contain",alt:"Sto. Nio Logo"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-black text-school-navy dark:text-slate-100 text-base leading-none uppercase tracking-tighter",children:"SNES Portal"}),u.jsx("p",{className:"text-school-gold text-[8px] font-black uppercase tracking-widest mt-1 leading-none",children:"Public Unified System"})]})]}),u.jsx("button",{onClick:n,className:"lg:hidden p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:u.jsx(Ut,{size:20})})]}),u.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto pr-2 custom-scrollbar",children:(o[t.role]||[]).map(p=>{const f=t.emailVerified||p.path==="/"||p.path==="/profile";return u.jsxs(Aa,{to:f?p.path:"#",onClick:m=>{f?n():m.preventDefault()},className:`flex items-center gap-4 px-4 py-3 rounded-2xl transition-all duration-200 ${d(p.path)?"bg-school-navy text-white shadow-xl dark:bg-school-gold dark:text-school-navy":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-school-navy"} ${f?"":"opacity-50 cursor-not-allowed"}`,children:[u.jsx(p.icon,{size:18}),u.jsx("span",{className:"font-bold text-xs tracking-tight",children:p.name}),!f&&u.jsx(Ea,{size:12,className:"ml-auto text-amber-500"})]},p.path)})}),u.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-800",children:[u.jsxs(Aa,{to:"/profile",onClick:n,className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-2xl mb-4 cursor-pointer group hover:bg-slate-100 transition-all",children:[u.jsxs("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 flex items-center justify-center font-black text-indigo-600 relative overflow-hidden",children:[u.jsx("img",{src:t.avatar?(t.avatar.startsWith("http"),t.avatar):`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=1A237E&color=fff`,className:"w-full h-full object-cover",alt:"PFP"}),u.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(_r,{size:14,className:"text-white"})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-black truncate dark:text-slate-200 uppercase",children:t.name.split(" ")[0]}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none",children:t.role})]})]}),u.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-3 text-[10px] font-black text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-2xl transition-all uppercase tracking-widest",children:[u.jsx(D4,{size:16})," Sign Out"]})]})]})})]})},QU=({onMenuClick:t,user:e})=>{const{theme:n,setTheme:r,prefs:i,setPrefs:l}=XU();return u.jsx("header",{className:"sticky top-0 z-50 w-full bg-white/80 dark:bg-slate-950/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 lg:pl-72",children:u.jsxs("div",{className:"flex items-center justify-between h-20 px-6",children:[u.jsx("button",{onClick:t,className:"lg:hidden p-3 text-school-navy dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-colors",children:u.jsx(O4,{size:24})}),u.jsxs("div",{className:"hidden md:flex flex-1 max-w-xl items-center bg-slate-100 dark:bg-slate-900 rounded-2xl px-6 py-3 mx-4",children:[u.jsx(Go,{size:18,className:"text-slate-400"}),u.jsx("input",{type:"text",placeholder:"Search official records...",className:"bg-transparent border-none focus:ring-0 text-sm ml-3 w-full outline-none font-medium dark:text-white"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-2xl",children:[u.jsx("button",{onClick:()=>l({dyslexic:!i.dyslexic}),className:`p-2 rounded-xl transition-all ${i.dyslexic?"bg-indigo-600 text-white shadow-sm":"text-slate-400"}`,children:u.jsx(vk,{size:18})}),u.jsx("button",{onClick:()=>l({highContrast:!i.highContrast}),className:`p-2 rounded-xl transition-all ${i.highContrast?"bg-indigo-600 text-white shadow-sm":"text-slate-400"}`,children:u.jsx(bb,{size:18})})]}),u.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-2xl ml-2",children:[u.jsx("button",{onClick:()=>r("light"),className:`p-2 rounded-xl transition-all ${n==="light"?"bg-white shadow-sm text-school-gold":"text-slate-400"}`,children:u.jsx(dk,{size:18})}),u.jsx("button",{onClick:()=>r("dark"),className:`p-2 rounded-xl transition-all ${n==="dark"?"bg-slate-800 shadow-sm text-school-gold":"text-slate-400"}`,children:u.jsx(G4,{size:18})})]})]})]})})},ZU=()=>{const[t,e]=I.useState(null),[n,r]=I.useState(()=>localStorage.getItem("app_theme")||"light"),[i,l]=I.useState(()=>({dyslexic:localStorage.getItem("prefs_dyslexic")==="true",highContrast:localStorage.getItem("prefs_contrast")==="true"})),[o,d]=I.useState(!1);I.useEffect(()=>{const v=localStorage.getItem("school_user");if(v)try{const b=JSON.parse(v);Ne.getUser(b.id).then(E=>{e(E),localStorage.setItem("school_user",JSON.stringify(E))}).catch(E=>{console.warn("Session expired or invalid:",E),localStorage.removeItem("school_user"),e(null)})}catch(b){console.error("Failed to parse user from localStorage",b),localStorage.removeItem("school_user"),e(null)}},[]),I.useEffect(()=>{document.documentElement.classList.toggle("dark",n==="dark"),document.body.classList.toggle("dyslexic-mode",i.dyslexic),document.body.classList.toggle("high-contrast-mode",i.highContrast),localStorage.setItem("app_theme",n)},[n,i]);const p=v=>l(b=>({...b,...v})),f=v=>{e(v),localStorage.setItem("school_user",JSON.stringify(v))},m=()=>{localStorage.removeItem("school_user"),e(null)};return u.jsx(x_.Provider,{value:{theme:n,setTheme:r,prefs:i,setPrefs:p},children:u.jsx(IN,{children:t?t.role===_e.PENDING?u.jsx(WU,{user:t,onLogout:m}):u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 transition-colors",children:[!t.emailVerified&&t.role!==_e.ADMIN&&u.jsx("div",{className:"bg-amber-500 text-white px-4 py-2 text-center text-xs font-bold uppercase tracking-widest sticky top-0 z-[60] flex items-center justify-center gap-4",children:u.jsx("span",{children:" Please verify your email address to unlock all features. Check your inbox."})}),u.jsx(KU,{user:t,isOpen:o,onClose:()=>d(!1),onLogout:m,onUpdateUser:e}),u.jsx(QU,{onMenuClick:()=>d(!0),user:t}),u.jsx("main",{className:"lg:pl-72 p-6 lg:p-10 max-w-7xl mx-auto pb-24",children:u.jsxs(Z1,{children:[u.jsx(pt,{path:"/",element:u.jsx(Rk,{user:t})}),u.jsx(pt,{path:"/inbox",element:u.jsx(YU,{user:t})}),u.jsx(pt,{path:"/profile",element:u.jsx(BU,{user:t,onUpdateUser:e})}),u.jsx(pt,{path:"/schedule",element:u.jsx(Mk,{user:t})}),u.jsx(pt,{path:"/grades",element:u.jsx(Dk,{user:t})}),u.jsx(pt,{path:"/modules",element:u.jsx(Ik,{user:t})}),u.jsx(pt,{path:"/assignments",element:u.jsx(Fk,{user:t})}),u.jsx(pt,{path:"/clearance",element:u.jsx(jU,{user:t})}),u.jsx(pt,{path:"/attendance",element:u.jsx(OU,{user:t})}),u.jsx(pt,{path:"/requests",element:u.jsx(qU,{user:t})}),u.jsx(pt,{path:"/transfer-out",element:u.jsx(UU,{user:t})}),u.jsx(pt,{path:"/enrollment",element:t.role===_e.TRANSFEREE?u.jsx(Lk,{user:t}):u.jsx(Mr,{to:"/"})}),u.jsx(pt,{path:"/id-card",element:u.jsx(Xk,{user:t})}),u.jsx(pt,{path:"/announcements",element:u.jsx(Pk,{user:t})}),u.jsx(pt,{path:"/masterlist",element:[_e.FACULTY,_e.ADMIN,_e.TEACHER].includes(t.role)?u.jsx(jk,{user:t}):u.jsx(Mr,{to:"/"})}),u.jsx(pt,{path:"/status",element:u.jsx(Ok,{user:t})}),u.jsx(pt,{path:"/faculty-requests",element:[_e.FACULTY,_e.ADMIN].includes(t.role)?u.jsx(Wk,{user:t}):u.jsx(Mr,{to:"/"})}),u.jsx(pt,{path:"/faculty/submissions",element:[_e.TEACHER,_e.ADMIN].includes(t.role)?u.jsx($D,{user:t}):u.jsx(Mr,{to:"/"})}),u.jsx(pt,{path:"/faculty/email",element:[_e.FACULTY,_e.TEACHER,_e.ADMIN].includes(t.role)?u.jsx(VU,{user:t}):u.jsx(Mr,{to:"/"})}),u.jsx(pt,{path:"/faculty/attendance",element:[_e.TEACHER,_e.FACULTY,_e.ADMIN].includes(t.role)?u.jsx($U,{user:t}):u.jsx(Mr,{to:"/"})}),u.jsx(pt,{path:"/admin/users",element:t.role===_e.ADMIN?u.jsx(qD,{}):u.jsx(Mr,{to:"/"})}),u.jsx(pt,{path:"/admin/database",element:t.role===_e.ADMIN?u.jsx(PU,{}):u.jsx(Mr,{to:"/"})}),u.jsx(pt,{path:"/admin/facilities",element:t.role===_e.ADMIN?u.jsx(zU,{}):u.jsx(Mr,{to:"/"})}),u.jsx(pt,{path:"/facilities",element:u.jsx(HU,{})}),u.jsx(pt,{path:"*",element:u.jsx(Mr,{to:"/",replace:!0})})]})}),u.jsx(VD,{user:t})]}):u.jsxs(Z1,{children:[u.jsx(pt,{path:"/",element:u.jsx(Nk,{onLogin:f})}),u.jsx(pt,{path:"/forgot-password",element:u.jsx(Ck,{})}),u.jsx(pt,{path:"/verify-email",element:u.jsx(JU,{})}),u.jsx(pt,{path:"*",element:u.jsx(Mr,{to:"/",replace:!0})})]})})})},v_=document.getElementById("root");if(!v_)throw new Error("Could not find root element to mount to");const e7=Ow.createRoot(v_);e7.render(u.jsx(zi.StrictMode,{children:u.jsx(ZU,{})}));
